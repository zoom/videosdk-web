(()=>{var t={7201:(t,e,r)=>{t.exports=r(3042)},1829:(t,e,r)=>{"use strict";var s=r(2222);t.exports=s},6040:(t,e,r)=>{"use strict";var s=r(8251);t.exports=s},7264:(t,e,r)=>{"use strict";var s=r(4139);r(768),r(8549),r(7152),r(1372),t.exports=s},9692:(t,e,r)=>{"use strict";var s=r(7045);t.exports=s},5663:(t,e,r)=>{"use strict";var s=r(70);t.exports=s},6823:(t,e,r)=>{"use strict";var s=r(8280),n=r(2017),i=String.prototype;t.exports=function(t){var e=t.replaceAll;return"string"==typeof t||t===i||s(i,t)&&e===i.replaceAll?n:e}},1926:(t,e,r)=>{"use strict";r(6750);var s=r(2046).Object,n=t.exports=function(t,e,r){return s.defineProperty(t,e,r)};s.defineProperty.sham&&(n.sham=!0)},2017:(t,e,r)=>{"use strict";r(1398),r(1995),r(929);var s=r(1747);t.exports=s("String","replaceAll")},3842:(t,e,r)=>{"use strict";r(8545),r(3643),r(4452),r(3997),r(5084),r(2596),r(5721),r(4954),r(4123),r(3377),r(2230),r(5344),r(1660),r(4610),r(3669),r(4810),r(3325),r(7024),r(8172),r(5205);var s=r(2046);t.exports=s.Symbol},1730:(t,e,r)=>{"use strict";r(9363),r(3643),r(7057),r(4954);var s=r(560);t.exports=s.f("iterator")},1661:(t,e,r)=>{"use strict";r(8537),r(3669);var s=r(560);t.exports=s.f("toPrimitive")},3042:(t,e,r)=>{"use strict";t.exports=r(9604)},9604:(t,e,r)=>{"use strict";r(6038);var s=r(1829);t.exports=s},4997:(t,e,r)=>{"use strict";var s=r(6040);t.exports=s},2321:(t,e,r)=>{"use strict";var s=r(7264);r(3939),r(1785),r(1697),r(4664),r(3422),r(36),r(8703),r(6878),r(9671),r(359),t.exports=s},2231:(t,e,r)=>{"use strict";var s=r(9692);t.exports=s},9280:(t,e,r)=>{"use strict";var s=r(5663);t.exports=s},2159:(t,e,r)=>{"use strict";var s=r(2250),n=r(4640),i=TypeError;t.exports=function(t){if(s(t))return t;throw new i(n(t)+" is not a function")}},43:(t,e,r)=>{"use strict";var s=r(4018),n=String,i=TypeError;t.exports=function(t){if(s(t))return t;throw new i("Can't set "+n(t)+" as a prototype")}},2156:t=>{"use strict";t.exports=function(){}},6624:(t,e,r)=>{"use strict";var s=r(6285),n=String,i=TypeError;t.exports=function(t){if(s(t))return t;throw new i(n(t)+" is not an object")}},4436:(t,e,r)=>{"use strict";var s=r(7374),n=r(4849),i=r(575),o=function(t){return function(e,r,o){var a=s(e),c=i(a);if(0===c)return!t&&-1;var u,l=n(o,c);if(t&&r!=r){for(;c>l;)if((u=a[l++])!=u)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},726:(t,e,r)=>{"use strict";var s=r(8311),n=r(1907),i=r(6946),o=r(9298),a=r(575),c=r(6968),u=n([].push),l=function(t){var e=1===t,r=2===t,n=3===t,l=4===t,h=6===t,p=7===t,f=5===t||h;return function(d,m,v,_){for(var g,y,b=o(d),S=i(b),w=a(S),E=s(m,v),T=0,x=_||c,O=e?x(d,w):r||p?x(d,0):void 0;w>T;T++)if((f||T in S)&&(y=E(g=S[T],T,b),t))if(e)O[T]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return T;case 2:u(O,g)}else switch(t){case 4:return!1;case 7:u(O,g)}return h?-1:n||l?l:O}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7171:(t,e,r)=>{"use strict";var s=r(8828),n=r(6264),i=r(798),o=n("species");t.exports=function(t){return i>=51||!s((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3427:(t,e,r)=>{"use strict";var s=r(1907);t.exports=s([].slice)},4010:(t,e,r)=>{"use strict";var s=r(1793),n=r(5468),i=r(6285),o=r(6264)("species"),a=Array;t.exports=function(t){var e;return s(t)&&(e=t.constructor,(n(e)&&(e===a||s(e.prototype))||i(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},6968:(t,e,r)=>{"use strict";var s=r(4010);t.exports=function(t,e){return new(s(t))(0===e?0:e)}},5807:(t,e,r)=>{"use strict";var s=r(1907),n=s({}.toString),i=s("".slice);t.exports=function(t){return i(n(t),8,-1)}},3948:(t,e,r)=>{"use strict";var s=r(2623),n=r(2250),i=r(5807),o=r(6264)("toStringTag"),a=Object,c="Arguments"===i(function(){return arguments}());t.exports=s?i:function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?r:c?i(e):"Object"===(s=i(e))&&n(e.callee)?"Arguments":s}},7382:(t,e,r)=>{"use strict";var s=r(8828);t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9550:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},1626:(t,e,r)=>{"use strict";var s=r(9447),n=r(4284),i=r(5817);t.exports=s?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},5817:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5543:(t,e,r)=>{"use strict";var s=r(9447),n=r(4284),i=r(5817);t.exports=function(t,e,r){s?n.f(t,e,i(0,r)):t[e]=r}},9251:(t,e,r)=>{"use strict";var s=r(4284);t.exports=function(t,e,r){return s.f(t,e,r)}},8055:(t,e,r)=>{"use strict";var s=r(1626);t.exports=function(t,e,r,n){return n&&n.enumerable?t[e]=r:s(t,e,r),t}},2532:(t,e,r)=>{"use strict";var s=r(5951),n=Object.defineProperty;t.exports=function(t,e){try{n(s,t,{value:e,configurable:!0,writable:!0})}catch(r){s[t]=e}return e}},9447:(t,e,r)=>{"use strict";var s=r(8828);t.exports=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9552:(t,e,r)=>{"use strict";var s=r(5951),n=r(6285),i=s.document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},8024:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9287:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},376:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6794:(t,e,r)=>{"use strict";var s=r(5951).navigator,n=s&&s.userAgent;t.exports=n?String(n):""},798:(t,e,r)=>{"use strict";var s,n,i=r(5951),o=r(6794),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(n=(s=l.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!n&&o&&(!(s=o.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=o.match(/Chrome\/(\d+)/))&&(n=+s[1]),t.exports=n},1091:(t,e,r)=>{"use strict";var s=r(5951),n=r(6024),i=r(2361),o=r(2250),a=r(3846).f,c=r(7463),u=r(2046),l=r(8311),h=r(1626),p=r(9724);r(6128);var f=function(t){var e=function(r,s,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,s)}return new t(r,s,i)}return n(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,n,d,m,v,_,g,y,b,S=t.target,w=t.global,E=t.stat,T=t.proto,x=w?s:E?s[S]:s[S]&&s[S].prototype,O=w?u:u[S]||h(u,S,{})[S],A=O.prototype;for(m in e)n=!(r=c(w?m:S+(E?".":"#")+m,t.forced))&&x&&p(x,m),_=O[m],n&&(g=t.dontCallGetSet?(b=a(x,m))&&b.value:x[m]),v=n&&g?g:e[m],(r||T||typeof _!=typeof v)&&(y=t.bind&&n?l(v,s):t.wrap&&n?f(v):T&&o(v)?i(v):v,(t.sham||v&&v.sham||_&&_.sham)&&h(y,"sham",!0),h(O,m,y),T&&(p(u,d=S+"Prototype")||h(u,d,{}),h(u[d],m,v),t.real&&A&&(r||!A[m])&&h(A,m,v)))}},8828:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},6024:(t,e,r)=>{"use strict";var s=r(1505),n=Function.prototype,i=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(s?o.bind(i):function(){return o.apply(i,arguments)})},8311:(t,e,r)=>{"use strict";var s=r(2361),n=r(2159),i=r(1505),o=s(s.bind);t.exports=function(t,e){return n(t),void 0===e?t:i?o(t,e):function(){return t.apply(e,arguments)}}},1505:(t,e,r)=>{"use strict";var s=r(8828);t.exports=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},3930:(t,e,r)=>{"use strict";var s=r(1505),n=Function.prototype.call;t.exports=s?n.bind(n):function(){return n.apply(n,arguments)}},6833:(t,e,r)=>{"use strict";var s=r(9447),n=r(9724),i=Function.prototype,o=s&&Object.getOwnPropertyDescriptor,a=n(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!s||s&&o(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1871:(t,e,r)=>{"use strict";var s=r(1907),n=r(2159);t.exports=function(t,e,r){try{return s(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},2361:(t,e,r)=>{"use strict";var s=r(5807),n=r(1907);t.exports=function(t){if("Function"===s(t))return n(t)}},1907:(t,e,r)=>{"use strict";var s=r(1505),n=Function.prototype,i=n.call,o=s&&n.bind.bind(i,i);t.exports=s?o:function(t){return function(){return i.apply(t,arguments)}}},1747:(t,e,r)=>{"use strict";var s=r(5951),n=r(2046);t.exports=function(t,e){var r=n[t+"Prototype"],i=r&&r[e];if(i)return i;var o=s[t],a=o&&o.prototype;return a&&a[e]}},5582:(t,e,r)=>{"use strict";var s=r(2046),n=r(5951),i=r(2250),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(s[t])||o(n[t]):s[t]&&s[t][e]||n[t]&&n[t][e]}},6656:(t,e,r)=>{"use strict";var s=r(1907),n=r(1793),i=r(2250),o=r(5807),a=r(160),c=s([].push);t.exports=function(t){if(i(t))return t;if(n(t)){for(var e=t.length,r=[],s=0;s<e;s++){var u=t[s];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==o(u)&&"String"!==o(u)||c(r,a(u))}var l=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(n(this))return e;for(var s=0;s<l;s++)if(r[s]===t)return e}}}},9367:(t,e,r)=>{"use strict";var s=r(2159),n=r(7136);t.exports=function(t,e){var r=t[e];return n(r)?void 0:s(r)}},7703:(t,e,r)=>{"use strict";var s=r(1907),n=r(9298),i=Math.floor,o=s("".charAt),a=s("".replace),c=s("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,s,h,p){var f=r+t.length,d=s.length,m=l;return void 0!==h&&(h=n(h),m=u),a(p,m,(function(n,a){var u;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,f);case"<":u=h[c(a,1,-1)];break;default:var l=+a;if(0===l)return n;if(l>d){var p=i(l/10);return 0===p?n:p<=d?void 0===s[p-1]?o(a,1):s[p-1]+o(a,1):n}u=s[l-1]}return void 0===u?"":u}))}},5951:function(t,e,r){"use strict";var s=function(t){return t&&t.Math===Math&&t};t.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof r.g&&r.g)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9724:(t,e,r)=>{"use strict";var s=r(1907),n=r(9298),i=s({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(n(t),e)}},8530:t=>{"use strict";t.exports={}},2416:(t,e,r)=>{"use strict";var s=r(5582);t.exports=s("document","documentElement")},3648:(t,e,r)=>{"use strict";var s=r(9447),n=r(8828),i=r(9552);t.exports=!s&&!n((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},6946:(t,e,r)=>{"use strict";var s=r(1907),n=r(8828),i=r(5807),o=Object,a=s("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?a(t,""):o(t)}:o},2647:(t,e,r)=>{"use strict";var s=r(1907),n=r(2250),i=r(6128),o=s(Function.toString);n(i.inspectSource)||(i.inspectSource=function(t){return o(t)}),t.exports=i.inspectSource},4932:(t,e,r)=>{"use strict";var s,n,i,o=r(551),a=r(5951),c=r(6285),u=r(1626),l=r(9724),h=r(6128),p=r(2522),f=r(8530),d="Object already initialized",m=a.TypeError,v=a.WeakMap;if(o||h.state){var _=h.state||(h.state=new v);_.get=_.get,_.has=_.has,_.set=_.set,s=function(t,e){if(_.has(t))throw new m(d);return e.facade=t,_.set(t,e),e},n=function(t){return _.get(t)||{}},i=function(t){return _.has(t)}}else{var g=p("state");f[g]=!0,s=function(t,e){if(l(t,g))throw new m(d);return e.facade=t,u(t,g,e),e},n=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:s,get:n,has:i,enforce:function(t){return i(t)?n(t):s(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=n(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return r}}}},1793:(t,e,r)=>{"use strict";var s=r(5807);t.exports=Array.isArray||function(t){return"Array"===s(t)}},2250:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},5468:(t,e,r)=>{"use strict";var s=r(1907),n=r(8828),i=r(2250),o=r(3948),a=r(5582),c=r(2647),u=function(){},l=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=s(h.exec),f=!h.test(u),d=function(t){if(!i(t))return!1;try{return l(u,[],t),!0}catch(t){return!1}},m=function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!l||n((function(){var t;return d(d.call)||!d(Object)||!d((function(){t=!0}))||t}))?m:d},7463:(t,e,r)=>{"use strict";var s=r(8828),n=r(2250),i=/#|\.prototype\./,o=function(t,e){var r=c[a(t)];return r===l||r!==u&&(n(e)?s(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},7136:t=>{"use strict";t.exports=function(t){return null==t}},6285:(t,e,r)=>{"use strict";var s=r(2250);t.exports=function(t){return"object"==typeof t?null!==t:s(t)}},4018:(t,e,r)=>{"use strict";var s=r(6285);t.exports=function(t){return s(t)||null===t}},7376:t=>{"use strict";t.exports=!0},2087:(t,e,r)=>{"use strict";var s=r(6285),n=r(5807),i=r(6264)("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===n(t))}},5594:(t,e,r)=>{"use strict";var s=r(5582),n=r(2250),i=r(8280),o=r(1175),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=s("Symbol");return n(e)&&i(e.prototype,a(t))}},7181:(t,e,r)=>{"use strict";var s=r(5116).IteratorPrototype,n=r(8075),i=r(5817),o=r(4840),a=r(3742),c=function(){return this};t.exports=function(t,e,r,u){var l=e+" Iterator";return t.prototype=n(s,{next:i(+!u,r)}),o(t,l,!1,!0),a[l]=c,t}},183:(t,e,r)=>{"use strict";var s=r(1091),n=r(3930),i=r(7376),o=r(6833),a=r(2250),c=r(7181),u=r(5972),l=r(9192),h=r(4840),p=r(1626),f=r(8055),d=r(6264),m=r(3742),v=r(5116),_=o.PROPER,g=o.CONFIGURABLE,y=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,S=d("iterator"),w="keys",E="values",T="entries",x=function(){return this};t.exports=function(t,e,r,o,d,v,O){c(r,e,o);var A,k,M,C=function(t){if(t===d&&P)return P;if(!b&&t&&t in R)return R[t];switch(t){case w:case E:case T:return function(){return new r(this,t)}}return function(){return new r(this)}},D=e+" Iterator",I=!1,R=t.prototype,L=R[S]||R["@@iterator"]||d&&R[d],P=!b&&L||C(d),N="Array"===e&&R.entries||L;if(N&&(A=u(N.call(new t)))!==Object.prototype&&A.next&&(i||u(A)===y||(l?l(A,y):a(A[S])||f(A,S,x)),h(A,D,!0,!0),i&&(m[D]=x)),_&&d===E&&L&&L.name!==E&&(!i&&g?p(R,"name",E):(I=!0,P=function(){return n(L,this)})),d)if(k={values:C(E),keys:v?P:C(w),entries:C(T)},O)for(M in k)(b||I||!(M in R))&&f(R,M,k[M]);else s({target:e,proto:!0,forced:b||I},k);return i&&!O||R[S]===P||f(R,S,P,{name:d}),m[e]=P,k}},5116:(t,e,r)=>{"use strict";var s,n,i,o=r(8828),a=r(2250),c=r(6285),u=r(8075),l=r(5972),h=r(8055),p=r(6264),f=r(7376),d=p("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(n=l(l(i)))!==Object.prototype&&(s=n):m=!0),!c(s)||o((function(){var t={};return s[d].call(t)!==t}))?s={}:f&&(s=u(s)),a(s[d])||h(s,d,(function(){return this})),t.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:m}},3742:t=>{"use strict";t.exports={}},575:(t,e,r)=>{"use strict";var s=r(3121);t.exports=function(t){return s(t.length)}},1176:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var s=+t;return(s>0?r:e)(s)}},8075:(t,e,r)=>{"use strict";var s,n=r(6624),i=r(2220),o=r(376),a=r(8530),c=r(2416),u=r(9552),l=r(2522),h="prototype",p="script",f=l("IE_PROTO"),d=function(){},m=function(t){return"<"+p+">"+t+"</"+p+">"},v=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){try{s=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;_="undefined"!=typeof document?document.domain&&s?v(s):(e=u("iframe"),r="java"+p+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):v(s);for(var n=o.length;n--;)delete _[h][o[n]];return _()};a[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(d[h]=n(t),r=new d,d[h]=null,r[f]=t):r=_(),void 0===e?r:i.f(r,e)}},2220:(t,e,r)=>{"use strict";var s=r(9447),n=r(8661),i=r(4284),o=r(6624),a=r(7374),c=r(2875);e.f=s&&!n?Object.defineProperties:function(t,e){o(t);for(var r,s=a(e),n=c(e),u=n.length,l=0;u>l;)i.f(t,r=n[l++],s[r]);return t}},4284:(t,e,r)=>{"use strict";var s=r(9447),n=r(3648),i=r(8661),o=r(6624),a=r(470),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",f="writable";e.f=s?i?function(t,e,r){if(o(t),e=a(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var s=l(t,e);s&&s[f]&&(t[e]=r.value,r={configurable:p in r?r[p]:s[p],enumerable:h in r?r[h]:s[h],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(o(t),e=a(e),o(r),n)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},3846:(t,e,r)=>{"use strict";var s=r(9447),n=r(3930),i=r(2574),o=r(5817),a=r(7374),c=r(470),u=r(9724),l=r(3648),h=Object.getOwnPropertyDescriptor;e.f=s?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return o(!n(i.f,t,e),t[e])}},5407:(t,e,r)=>{"use strict";var s=r(5807),n=r(7374),i=r(4443).f,o=r(3427),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===s(t)?function(t){try{return i(t)}catch(t){return o(a)}}(t):i(n(t))}},4443:(t,e,r)=>{"use strict";var s=r(3045),n=r(376).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,n)}},7170:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},5972:(t,e,r)=>{"use strict";var s=r(9724),n=r(2250),i=r(9298),o=r(2522),a=r(7382),c=o("IE_PROTO"),u=Object,l=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=i(t);if(s(e,c))return e[c];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},8280:(t,e,r)=>{"use strict";var s=r(1907);t.exports=s({}.isPrototypeOf)},3045:(t,e,r)=>{"use strict";var s=r(1907),n=r(9724),i=r(7374),o=r(4436).indexOf,a=r(8530),c=s([].push);t.exports=function(t,e){var r,s=i(t),u=0,l=[];for(r in s)!n(a,r)&&n(s,r)&&c(l,r);for(;e.length>u;)n(s,r=e[u++])&&(~o(l,r)||c(l,r));return l}},2875:(t,e,r)=>{"use strict";var s=r(3045),n=r(376);t.exports=Object.keys||function(t){return s(t,n)}},2574:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,n=s&&!r.call({1:2},1);e.f=n?function(t){var e=s(this,t);return!!e&&e.enumerable}:r},9192:(t,e,r)=>{"use strict";var s=r(1871),n=r(6285),i=r(4239),o=r(43);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=s(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,s){return i(r),o(s),n(r)?(e?t(r,s):r.__proto__=s,r):r}}():void 0)},4878:(t,e,r)=>{"use strict";var s=r(2623),n=r(3948);t.exports=s?{}.toString:function(){return"[object "+n(this)+"]"}},581:(t,e,r)=>{"use strict";var s=r(3930),n=r(2250),i=r(6285),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&n(r=t.toString)&&!i(a=s(r,t)))return a;if(n(r=t.valueOf)&&!i(a=s(r,t)))return a;if("string"!==e&&n(r=t.toString)&&!i(a=s(r,t)))return a;throw new o("Can't convert object to primitive value")}},2046:t=>{"use strict";t.exports={}},5606:(t,e,r)=>{"use strict";var s=r(6624);t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},663:(t,e,r)=>{"use strict";var s=r(3930),n=r(9724),i=r(8280),o=r(5606),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||n(t,"flags")||!i(a,t)?e:s(o,t)}},4239:(t,e,r)=>{"use strict";var s=r(7136),n=TypeError;t.exports=function(t){if(s(t))throw new n("Can't call method on "+t);return t}},4840:(t,e,r)=>{"use strict";var s=r(2623),n=r(4284).f,i=r(1626),o=r(9724),a=r(4878),c=r(6264)("toStringTag");t.exports=function(t,e,r,u){var l=r?t:t&&t.prototype;l&&(o(l,c)||n(l,c,{configurable:!0,value:e}),u&&!s&&i(l,"toString",a))}},2522:(t,e,r)=>{"use strict";var s=r(5816),n=r(6499),i=s("keys");t.exports=function(t){return i[t]||(i[t]=n(t))}},6128:(t,e,r)=>{"use strict";var s=r(7376),n=r(5951),i=r(2532),o="__core-js_shared__",a=t.exports=n[o]||i(o,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:s?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5816:(t,e,r)=>{"use strict";var s=r(6128);t.exports=function(t,e){return s[t]||(s[t]=e||{})}},1470:(t,e,r)=>{"use strict";var s=r(1907),n=r(5482),i=r(160),o=r(4239),a=s("".charAt),c=s("".charCodeAt),u=s("".slice),l=function(t){return function(e,r){var s,l,h=i(o(e)),p=n(r),f=h.length;return p<0||p>=f?t?"":void 0:(s=c(h,p))<55296||s>56319||p+1===f||(l=c(h,p+1))<56320||l>57343?t?a(h,p):s:t?u(h,p,p+2):l-56320+(s-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},9846:(t,e,r)=>{"use strict";var s=r(798),n=r(8828),i=r(5951).String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},3467:(t,e,r)=>{"use strict";var s=r(3930),n=r(5582),i=r(6264),o=r(8055);t.exports=function(){var t=n("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=i("toPrimitive");e&&!e[a]&&o(e,a,(function(t){return s(r,this)}),{arity:1})}},2595:(t,e,r)=>{"use strict";var s=r(5582),n=r(1907),i=s("Symbol"),o=i.keyFor,a=n(i.prototype.valueOf);t.exports=i.isRegisteredSymbol||function(t){try{return void 0!==o(a(t))}catch(t){return!1}}},9197:(t,e,r)=>{"use strict";for(var s=r(5816),n=r(5582),i=r(1907),o=r(5594),a=r(6264),c=n("Symbol"),u=c.isWellKnownSymbol,l=n("Object","getOwnPropertyNames"),h=i(c.prototype.valueOf),p=s("wks"),f=0,d=l(c),m=d.length;f<m;f++)try{var v=d[f];o(c[v])&&a(v)}catch(t){}t.exports=function(t){if(u&&u(t))return!0;try{for(var e=h(t),r=0,s=l(p),n=s.length;r<n;r++)if(p[s[r]]==e)return!0}catch(t){}return!1}},4411:(t,e,r)=>{"use strict";var s=r(9846);t.exports=s&&!!Symbol.for&&!!Symbol.keyFor},4849:(t,e,r)=>{"use strict";var s=r(5482),n=Math.max,i=Math.min;t.exports=function(t,e){var r=s(t);return r<0?n(r+e,0):i(r,e)}},7374:(t,e,r)=>{"use strict";var s=r(6946),n=r(4239);t.exports=function(t){return s(n(t))}},5482:(t,e,r)=>{"use strict";var s=r(1176);t.exports=function(t){var e=+t;return e!=e||0===e?0:s(e)}},3121:(t,e,r)=>{"use strict";var s=r(5482),n=Math.min;t.exports=function(t){var e=s(t);return e>0?n(e,9007199254740991):0}},9298:(t,e,r)=>{"use strict";var s=r(4239),n=Object;t.exports=function(t){return n(s(t))}},6028:(t,e,r)=>{"use strict";var s=r(3930),n=r(6285),i=r(5594),o=r(9367),a=r(581),c=r(6264),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!n(t)||i(t))return t;var r,c=o(t,l);if(c){if(void 0===e&&(e="default"),r=s(c,t,e),!n(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},470:(t,e,r)=>{"use strict";var s=r(6028),n=r(5594);t.exports=function(t){var e=s(t,"string");return n(e)?e:e+""}},2623:(t,e,r)=>{"use strict";var s={};s[r(6264)("toStringTag")]="z",t.exports="[object z]"===String(s)},160:(t,e,r)=>{"use strict";var s=r(3948),n=String;t.exports=function(t){if("Symbol"===s(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},4640:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6499:(t,e,r)=>{"use strict";var s=r(1907),n=0,i=Math.random(),o=s(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+i,36)}},1175:(t,e,r)=>{"use strict";var s=r(9846);t.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8661:(t,e,r)=>{"use strict";var s=r(9447),n=r(8828);t.exports=s&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},551:(t,e,r)=>{"use strict";var s=r(5951),n=r(2250),i=s.WeakMap;t.exports=n(i)&&/native code/.test(String(i))},366:(t,e,r)=>{"use strict";var s=r(2046),n=r(9724),i=r(560),o=r(4284).f;t.exports=function(t){var e=s.Symbol||(s.Symbol={});n(e,t)||o(e,t,{value:i.f(t)})}},560:(t,e,r)=>{"use strict";var s=r(6264);e.f=s},6264:(t,e,r)=>{"use strict";var s=r(5951),n=r(5816),i=r(9724),o=r(6499),a=r(9846),c=r(1175),u=s.Symbol,l=n("wks"),h=c?u.for||u:u&&u.withoutSetter||o;t.exports=function(t){return i(l,t)||(l[t]=a&&i(u,t)?u[t]:h("Symbol."+t)),l[t]}},8545:(t,e,r)=>{"use strict";var s=r(1091),n=r(8828),i=r(1793),o=r(6285),a=r(9298),c=r(575),u=r(8024),l=r(5543),h=r(6968),p=r(7171),f=r(6264),d=r(798),m=f("isConcatSpreadable"),v=d>=51||!n((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),_=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)};s({target:"Array",proto:!0,arity:1,forced:!v||!p("concat")},{concat:function(t){var e,r,s,n,i,o=a(this),p=h(o,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(_(i=-1===e?o:arguments[e]))for(n=c(i),u(f+n),r=0;r<n;r++,f++)r in i&&l(p,f,i[r]);else u(f+1),l(p,f++,i);return p.length=f,p}})},9363:(t,e,r)=>{"use strict";var s=r(7374),n=r(2156),i=r(3742),o=r(4932),a=r(4284).f,c=r(183),u=r(9550),l=r(7376),h=r(9447),p="Array Iterator",f=o.set,d=o.getterFor(p);t.exports=c(Array,"Array",(function(t,e){f(this,{type:p,target:s(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var m=i.Arguments=i.Array;if(n("keys"),n("values"),n("entries"),!l&&h&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},8537:()=>{},9721:(t,e,r)=>{"use strict";var s=r(1091),n=r(5582),i=r(6024),o=r(3930),a=r(1907),c=r(8828),u=r(2250),l=r(5594),h=r(3427),p=r(6656),f=r(9846),d=String,m=n("JSON","stringify"),v=a(/./.exec),_=a("".charAt),g=a("".charCodeAt),y=a("".replace),b=a(1..toString),S=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,T=!f||c((function(){var t=n("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))})),x=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),O=function(t,e){var r=h(arguments),s=p(e);if(u(s)||void 0!==t&&!l(t))return r[1]=function(t,e){if(u(s)&&(e=o(s,this,d(t),e)),!l(e))return e},i(m,null,r)},A=function(t,e,r){var s=_(r,e-1),n=_(r,e+1);return v(w,t)&&!v(E,n)||v(E,t)&&!v(w,s)?"\\u"+b(g(t,0),16):t};m&&s({target:"JSON",stat:!0,arity:3,forced:T||x},{stringify:function(t,e,r){var s=h(arguments),n=i(T?O:m,null,s);return x&&"string"==typeof n?y(n,S,A):n}})},7024:(t,e,r)=>{"use strict";var s=r(5951);r(4840)(s.JSON,"JSON",!0)},8172:()=>{},6750:(t,e,r)=>{"use strict";var s=r(1091),n=r(9447),i=r(4284).f;s({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!n},{defineProperty:i})},5264:(t,e,r)=>{"use strict";var s=r(1091),n=r(9846),i=r(8828),o=r(7170),a=r(9298);s({target:"Object",stat:!0,forced:!n||i((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(a(t)):[]}})},3643:()=>{},5205:()=>{},1398:()=>{},7057:(t,e,r)=>{"use strict";var s=r(1470).charAt,n=r(160),i=r(4932),o=r(183),a=r(9550),c="String Iterator",u=i.set,l=i.getterFor(c);o(String,"String",(function(t){u(this,{type:c,string:n(t),index:0})}),(function(){var t,e=l(this),r=e.string,n=e.index;return n>=r.length?a(void 0,!0):(t=s(r,n),e.index+=t.length,a(t,!1))}))},929:(t,e,r)=>{"use strict";var s=r(1091),n=r(3930),i=r(1907),o=r(4239),a=r(2250),c=r(7136),u=r(2087),l=r(160),h=r(9367),p=r(663),f=r(7703),d=r(6264),m=r(7376),v=d("replace"),_=TypeError,g=i("".indexOf),y=i("".replace),b=i("".slice),S=Math.max;s({target:"String",proto:!0},{replaceAll:function(t,e){var r,s,i,d,w,E,T,x,O,A,k=o(this),M=0,C="";if(!c(t)){if((r=u(t))&&(s=l(o(p(t))),!~g(s,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(i=h(t,v))return n(i,t,k,e);if(m&&r)return y(l(k),t,e)}for(d=l(k),w=l(t),(E=a(e))||(e=l(e)),T=w.length,x=S(1,T),O=g(d,w);-1!==O;)A=E?l(e(w,O,d)):f(w,d,O,[],void 0,e),C+=b(d,M,O)+A,M=O+T,O=O+x>d.length?-1:g(d,w,O+x);return M<d.length&&(C+=b(d,M)),C}})},1995:()=>{},3997:(t,e,r)=>{"use strict";r(366)("asyncIterator")},3674:(t,e,r)=>{"use strict";var s=r(1091),n=r(5951),i=r(3930),o=r(1907),a=r(7376),c=r(9447),u=r(9846),l=r(8828),h=r(9724),p=r(8280),f=r(6624),d=r(7374),m=r(470),v=r(160),_=r(5817),g=r(8075),y=r(2875),b=r(4443),S=r(5407),w=r(7170),E=r(3846),T=r(4284),x=r(2220),O=r(2574),A=r(8055),k=r(9251),M=r(5816),C=r(2522),D=r(8530),I=r(6499),R=r(6264),L=r(560),P=r(366),N=r(3467),F=r(4840),j=r(4932),B=r(726).forEach,q=C("hidden"),U="Symbol",H="prototype",V=j.set,W=j.getterFor(U),G=Object[H],Y=n.Symbol,z=Y&&Y[H],$=n.RangeError,K=n.TypeError,J=n.QObject,Q=E.f,X=T.f,Z=S.f,tt=O.f,et=o([].push),rt=M("symbols"),st=M("op-symbols"),nt=M("wks"),it=!J||!J[H]||!J[H].findChild,ot=function(t,e,r){var s=Q(G,e);s&&delete G[e],X(t,e,r),s&&t!==G&&X(G,e,s)},at=c&&l((function(){return 7!==g(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?ot:X,ct=function(t,e){var r=rt[t]=g(z);return V(r,{type:U,tag:t,description:e}),c||(r.description=e),r},ut=function(t,e,r){t===G&&ut(st,e,r),f(t);var s=m(e);return f(r),h(rt,s)?(r.enumerable?(h(t,q)&&t[q][s]&&(t[q][s]=!1),r=g(r,{enumerable:_(0,!1)})):(h(t,q)||X(t,q,_(1,g(null))),t[q][s]=!0),at(t,s,r)):X(t,s,r)},lt=function(t,e){f(t);var r=d(e),s=y(r).concat(dt(r));return B(s,(function(e){c&&!i(ht,r,e)||ut(t,e,r[e])})),t},ht=function(t){var e=m(t),r=i(tt,this,e);return!(this===G&&h(rt,e)&&!h(st,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,q)&&this[q][e])||r)},pt=function(t,e){var r=d(t),s=m(e);if(r!==G||!h(rt,s)||h(st,s)){var n=Q(r,s);return!n||!h(rt,s)||h(r,q)&&r[q][s]||(n.enumerable=!0),n}},ft=function(t){var e=Z(d(t)),r=[];return B(e,(function(t){h(rt,t)||h(D,t)||et(r,t)})),r},dt=function(t){var e=t===G,r=Z(e?st:d(t)),s=[];return B(r,(function(t){!h(rt,t)||e&&!h(G,t)||et(s,rt[t])})),s};u||(A(z=(Y=function(){if(p(z,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=I(t),r=function(t){var s=void 0===this?n:this;s===G&&i(r,st,t),h(s,q)&&h(s[q],e)&&(s[q][e]=!1);var o=_(1,t);try{at(s,e,o)}catch(t){if(!(t instanceof $))throw t;ot(s,e,o)}};return c&&it&&at(G,e,{configurable:!0,set:r}),ct(e,t)})[H],"toString",(function(){return W(this).tag})),A(Y,"withoutSetter",(function(t){return ct(I(t),t)})),O.f=ht,T.f=ut,x.f=lt,E.f=pt,b.f=S.f=ft,w.f=dt,L.f=function(t){return ct(R(t),t)},c&&(k(z,"description",{configurable:!0,get:function(){return W(this).description}}),a||A(G,"propertyIsEnumerable",ht,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),B(y(nt),(function(t){P(t)})),s({target:U,stat:!0,forced:!u},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),s({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?g(t):lt(g(t),e)},defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:pt}),s({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ft}),N(),F(Y,U),D[q]=!0},5084:()=>{},3313:(t,e,r)=>{"use strict";var s=r(1091),n=r(5582),i=r(9724),o=r(160),a=r(5816),c=r(4411),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=o(t);if(i(u,e))return u[e];var r=n("Symbol")(e);return u[e]=r,l[r]=e,r}})},2596:(t,e,r)=>{"use strict";r(366)("hasInstance")},5721:(t,e,r)=>{"use strict";r(366)("isConcatSpreadable")},4954:(t,e,r)=>{"use strict";r(366)("iterator")},4452:(t,e,r)=>{"use strict";r(3674),r(3313),r(751),r(9721),r(5264)},751:(t,e,r)=>{"use strict";var s=r(1091),n=r(9724),i=r(5594),o=r(4640),a=r(5816),c=r(4411),u=a("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw new TypeError(o(t)+" is not a symbol");if(n(u,t))return u[t]}})},3377:(t,e,r)=>{"use strict";r(366)("matchAll")},4123:(t,e,r)=>{"use strict";r(366)("match")},2230:(t,e,r)=>{"use strict";r(366)("replace")},5344:(t,e,r)=>{"use strict";r(366)("search")},1660:(t,e,r)=>{"use strict";r(366)("species")},4610:(t,e,r)=>{"use strict";r(366)("split")},3669:(t,e,r)=>{"use strict";var s=r(366),n=r(3467);s("toPrimitive"),n()},4810:(t,e,r)=>{"use strict";var s=r(5582),n=r(366),i=r(4840);n("toStringTag"),i(s("Symbol"),"Symbol")},3325:(t,e,r)=>{"use strict";r(366)("unscopables")},768:(t,e,r)=>{"use strict";var s=r(6264),n=r(4284).f,i=s("metadata"),o=Function.prototype;void 0===o[i]&&n(o,i,{value:null})},6038:(t,e,r)=>{"use strict";r(929)},8549:(t,e,r)=>{"use strict";r(366)("asyncDispose")},1697:(t,e,r)=>{"use strict";r(366)("customMatcher")},7152:(t,e,r)=>{"use strict";r(366)("dispose")},3939:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0},{isRegisteredSymbol:r(2595)})},3422:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:r(2595)})},1785:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:r(9197)})},36:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:r(9197)})},8703:(t,e,r)=>{"use strict";r(366)("matcher")},6878:(t,e,r)=>{"use strict";r(366)("metadataKey")},1372:(t,e,r)=>{"use strict";r(366)("metadata")},4664:(t,e,r)=>{"use strict";r(366)("observable")},9671:(t,e,r)=>{"use strict";r(366)("patternMatch")},359:(t,e,r)=>{"use strict";r(366)("replaceAll")},2560:(t,e,r)=>{"use strict";r(9363);var s=r(9287),n=r(5951),i=r(4840),o=r(3742);for(var a in s)i(n[a],a),o[a]=o.Array},2222:(t,e,r)=>{"use strict";var s=r(6823);t.exports=s},8251:(t,e,r)=>{"use strict";var s=r(1926);t.exports=s},4139:(t,e,r)=>{"use strict";var s=r(3842);r(2560),t.exports=s},7045:(t,e,r)=>{"use strict";var s=r(1730);r(2560),t.exports=s},70:(t,e,r)=>{"use strict";var s=r(1661);t.exports=s}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(4997),e=r(2321),s=r(2231);function n(t){return n="function"==typeof e&&"symbol"==typeof s?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},n(t)}var i=r(9280);function o(e,r,s){return(r=function(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[i];if(void 0!==e){var r=e.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}(r))in e?t(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}var a=r(7201),c=r.n(a);function u(t){return t[0]<<24|t[1]<<16|t[2]<<8|t[3]}const l=function(t){return 21==t[4]&&0==t[13]},h=function(t){return 104==t[0]||16!=t[4]&&1!=t[5]?u(t.slice(19,23)):u(t.slice(15,19))},p=function(t){return 103==t[0]};class f{constructor(t){let e=t||{};this.last_report_time=0,this.timeout_count=0,this.interval_report_time=e.interval||3e3,this.tag=e.tag||"monitor",this.max_timeout=0,this.min_timeout=2147483647,this.reportcallback=e.reportcallback,this._timeoutid=0}_report(){this.reportcallback&&this.reportcallback(this.tag,Math.ceil(this.max_timeout),Math.ceil(this.min_timeout),this.timeout_count),this.timeout_count=0,this.max_timeout=0,this.min_timeout=2147483647}timeoutReport(t,e){if(this.timeout_count++,t>this.max_timeout&&(this.max_timeout=t),t<this.min_timeout&&(this.min_timeout=t),this._timeoutid)return;let r=this;this._timeoutid=setTimeout((()=>{r._report(),r._timeoutid=0}),this.interval_report_time)}}function d(t){let e=t||{};this._samples=[],this._interval_id=0,this._lasted_update_time=0,this._lasted_group_time=0,this._enable=!1,this._interval_time=e.interval||3e4,this._customer_callback=e.report_call,this._tag=e.tag||"netreport",this._group_interval=e.group_interval||1e3,this._enable_advanced=e.advanced||!1,this._current_count=0,this._qos_report=new f({tag:"jitter",interval:3e4,reportcallback:this._qos_report_timeout.bind(this)}),this._qos_report_samples=[],this._cureen_qos_report=0}d.prototype._qos_report_timeout=function(t,e,r,s){if(this._customer_callback){let n="".concat(t,",").concat(e,",").concat(r,",").concat(s);this._customer_callback(this._tag+"TimeOut",n)}},d.prototype._report=function(){let t=(new Date).getTime(),e="".concat(t,"-").concat(this._samples.length,"-").concat(this._samples),r="".concat(t,"-").concat(this._qos_report_samples.length,"-").concat(this._qos_report_samples);e=c()(e).call(e,",","|"),r=c()(r).call(r,",","|"),this._customer_callback?(this._customer_callback(this._tag,e),this._enable_advanced&&this._customer_callback(this._tag+"QOS",r)):console.error("tag:".concat(this._tag,",").concat(e))},d.prototype._group=function(){let t=performance.now();if(t>=this._lasted_group_time+1700){let e=Math.round((t-this._lasted_group_time)/1e3)-1;for(let t=0;t<e;t++)this._samples.push(-1)}this._lasted_group_time=t,this._samples.push(this._current_count),this._qos_report_samples.push(this._cureen_qos_report),this._cureen_qos_report=0,this._current_count=0,t>=this._lasted_update_time+this._interval_time&&(this._lasted_update_time=t,this._report(),this._samples=[],this._qos_report_samples=[])},d.prototype.start=function(){this._enable||(this._lasted_update_time=performance.now(),this._lasted_group_time=this._lasted_update_time,this._samples=[],this._current_count=0,this._qos_report_samples=[],this._cureen_qos_report=0,this._interval_id=setInterval(this._group.bind(this),this._group_interval),this._enable=!0)},d.prototype.stop=function(){this._enable&&(clearInterval(this._interval_id),this._interval_id=0,this._enable=!1)},d.prototype.sample=function(t){if(this._enable&&(this._current_count++,this._enable_advanced)){if(l(t))return void this._cureen_qos_report++;if(p(t)){let e=h(t),r=performance.now();if(this._lasted_qos_ts){let t=r-this._lasted_sys_ts-(e-this._lasted_qos_ts);t>30&&this._qos_report.timeoutReport(t,r)}this._lasted_qos_ts=e,this._lasted_sys_ts=r,this._lasted_data=t}}};const m={VIDEO_ENCODE:"0",VIDEO_DECODE:"1",AUDIO_ENCODE:"2",AUDIO_DECODE:"3",SHARING_ENCODE:"4",SHARING_DECODE:"5"},v=((()=>{const t={};for(const e in m)t[m[e]]="WCL_"+e})(),127),_=128,g=133;class y{constructor(t,e){this.type=t,this.transportlists=[],this.transfered=!!e,this.onmessage=()=>{}}send(){}isReady(){return!1}}class b{constructor(t,e,r,s){this.id=t,this.type=e,this.datachannel=r,this._recv_statistic=null,this.onmessageFn=null,this.disconnectedFn=null,this.connectedFn=null,this._status=b.UNINIT,this.target_thread=s,this.transfered=!1,this._listener=null,this.transportlists=[],this._send_statistic=null,this.report_monitor_func=()=>{}}isReady(){return this._status===b.CONNECTED}send(t){this.datachannel.send(t),this._send_statistic.sample(!1)}open(){if(this.target_thread)try{return this.target_thread.postMessage({command:134,id:this.id,type:this.type,channel:this.datachannel,transportlists:this.transportlists},[this.datachannel]),this.transfered=!0,this.datachannel=null,this._listener=this._mesagelistener.bind(this),void this.target_thread.addEventListener("message",this._listener)}catch(t){this.target_thread=null}this._addEventListener()}close(){let t=this.disconnectedFn;this.transfered&&this.target_thread&&this._listener&&(this.target_thread.removeEventListener("message",this._listener),this._listener=null,this.target_thread.postMessage({command:135,id:this.id,type:this.type})),this._status!=b.DISCONNECT&&this._clear(),this._status=b.DISCONNECT,null==t||t()}onmessage(t){this.onmessageFn=t}onopen(t){this.connectedFn=t}onclose(t){this.disconnectedFn=t}onerror(t){this.errorFn=t}_addEventListener(){this.datachannel.onmessage=this._onmessage.bind(this),this.datachannel.onopen=this._onopen.bind(this),this.datachannel.onclose=this._onclose.bind(this),this.datachannel.onclosing=this._onclose.bind(this),this.datachannel.onerror=this._onerror.bind(this),"open"==this.datachannel.readyState&&this._status==b.UNINIT&&this._onopen()}_onmessage(t){this._recv_statistic.sample(!1),this.onmessageFn(t)}_onopen(t){let e=this._status;var r;this._status=b.CONNECTED,this.transfered||(this._send_statistic||(this._send_statistic=new d({tag:3==this.type?"VDCS":"ADCS",report_call:this.report_monitor_func})),this._recv_statistic||(this._recv_statistic=new d({tag:3==this.type?"VDCR":"ADCR",report_call:this.report_monitor_func})),this._send_statistic.start(),this._recv_statistic.start()),e!=b.CONNECTED&&(null===(r=this.connectedFn)||void 0===r||r.call(this))}_onerror(t){var e;null===(e=this.errorFn)||void 0===e||e.call(this,t),this._onclose(t)}_onclose(t){let e=this._status;this._status=b.DISCONNECT;let r=this.disconnectedFn;this._clear(),e!=b.DISCONNECT&&(null==r||r())}_clear(){var t,e;!this.transfered&&this.datachannel&&(this.datachannel.onmessage=null,this.datachannel.onopen=null,this.datachannel.onclose=null,this.datachannel.onclosing=null,this.datachannel.onerror=null),this.onmessageFn=null,this.connectedFn=null,this.disconnectedFn=null,this.errorFn=null;let r=this.datachannel;this.datachannel=null,null===(t=this._send_statistic)||void 0===t||t.stop(),null===(e=this._recv_statistic)||void 0===e||e.stop(),null==r||r.close()}_mesagelistener(t){let e=t.data;if(e&&e.id==this.id)switch(e.cmd){case 126:this._onclose();break;case 124:this._onopen();break;case 125:this._onerror(e.ev);break;case 21:this.report_monitor_func(e.tag,e.data)}}}function S(){this.a=[],this.b=0,this.residue=null}o(b,"UNINIT",0),o(b,"CONNECTED",1),o(b,"DISCONNECT",2),S.prototype.getLength=function(){return this.a.length-this.b},S.prototype.isEmpty=function(){return 0==this.a.length},S.prototype.enqueue=function(t){this.a.push(t)},S.prototype.dequeue=function(){if(0!=this.a.length){var t=this.a[this.b];return 2*++this.b>=this.a.length&&(this.a=this.a.slice(this.b),this.b=0),t}return null},S.prototype.peek=function(){return 0<this.a.length?this.a[this.b]:void 0},S.prototype.clear=function(){this.a=[],this.b=0};const w=S,E=new class{constructor(){this._highFrequencyLogs={},this.fixVersion=""}setInstance(t,e){this._instance=t,this.fixVersion=e}getMessageFromErrorOrEvent(t,e){let r=t;return e instanceof ErrorEvent?(e.filename&&(r+=" File: ".concat(e.filename)),(e.lineno||e.colno)&&(r+=" Line: ".concat(e.lineno,":").concat(e.colno)),e.message&&(r+=" Message: ".concat(e.message)),e.error&&(r+="\nStack: ".concat(e.error.stack))):e instanceof Error?(e.fileName&&(r+=" File: ".concat(e.fileName)),(e.lineNumber||e.columnNumber)&&(r+=" Line: ".concat(e.lineNumber,":").concat(e.columnNumber)),e.message&&(r+=" Message: ".concat(e.message)),e.stack&&(r+=" Stack: ".concat(e.stack)),e.name&&(r+=" Name: ".concat(e.name)),e.constraint&&(r+=" Constraint: ".concat(e.constraint))):e instanceof CloseEvent?(e.code&&(r+=" Code: ".concat(e.code)),e.reason&&(r+=" Reason: ".concat(e.reason)),r+=" wasClean: ".concat(e.wasClean)):e instanceof DOMException?(e.message&&(r+=" Message: ".concat(e.message)),e.name&&(r+=" Name: ".concat(e.name))):r+=e?e.toString():"",r}error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.getMessageFromErrorOrEvent(t,e),this._highFrequencyLogs[t]?this._highFrequencyLogs[t]+=1:this._highFrequencyLogs[t]=1;const r=!((s=this._highFrequencyLogs[t])&s-1);var s;this._instance&&r&&this._instance.error(t,[this.fixVersion])}severityerror(t,e){this._instance&&this._instance.error(JSON.stringify(t),e)}directReport(t,e){var r,s;this._instance&&(e||(e=["MEDIASDK_INFO"]),null===(r=(s=this._instance).directReport)||void 0===r||r.call(s,{msg:t},e))}warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.getMessageFromErrorOrEvent(t,e),this._instance&&this._instance.warn(t)}log(t){this._instance&&this._instance.log(t)}clearHighFrequencyLogs(){this._highFrequencyLogs={}}};class T{static getStorageForCapacity(){return new SharedArrayBuffer(8+((arguments.length>0&&void 0!==arguments[0]?arguments[0]:80)+1)*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500))}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.byteLength,o=arguments.length>6?arguments[6]:void 0;this.offset=n,this._BYTES_PER_ELEMENT=e,this.capacity=(i-8)/e,this.usableCapacity=this.capacity-1,this.buf=t,this.write_ptr=new Uint32Array(this.buf,n,1),this.read_ptr=new Uint32Array(this.buf,n+4,1),this.storageUint8sByteOffset=n+8,this.storageUint8s=new Uint8Array(this.buf,this.storageUint8sByteOffset,i-8),this.byteLength=i,this.label=r,this.usingOneElementBuffer=s,o&&(this.wasmMemory=o),s&&(this.oneElementBuffer=new ArrayBuffer(e)),this.repushhander=0,this.repushlogcount=0,this.monitorpace=0}checkBuffer(){this.wasmMemory&&this.wasmMemory.buffer!=this.buf&&(console.log("buffer change"),this.buf=this.wasmMemory.buffer,this.storageUint8s=new Uint8Array(this.buf,this.storageUint8sByteOffset,this.byteLength-8))}enqueue(t){return this.available_write()>0&&this.push(t),{rd:Atomics.load(this.read_ptr,0),wr:Atomics.load(this.write_ptr,0)}}enqueueSafe(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;for(this.dataBuffer||(this.dataBuffer=new w);this.dataBuffer.getLength()>0&&this.available_write()>0;){let t=this.dataBuffer.dequeue();t&&this.push(t)}let s=this.dataBuffer.getLength();if(t){if(this.available_write()>0&&0==s)return this.push(t),!0;if(!e)return!1;this.dataBuffer.enqueue(t),++s}if(s>0&&!this.repushhander&&(this.repushhander=setTimeout((()=>{this.repushlogcount%10==0&&console.warn("<<< retry consume cache data"),this.repushlogcount++,this.repushhander=0,this.enqueueSafe(null)}),30)),s>=1e3&&(E.warn("Cached data in SAB reached critical value, will be cleared"),this.dataBuffer.clear(),r&&r("vqslclear")),s>0&&r){let t=performance.now();(!this.monitorpace||t-this.monitorpace>2e4)&&(this.monitorpace=t,r&&r("vqsl"+s))}return!0}push(t){return t instanceof Array?this._pushArray(t):this._push(t)}_pushArray(t){var e=Atomics.load(this.write_ptr,0);this.checkBuffer();let r=0;t.forEach((t=>{this.storageUint8s.set(t,e*this._BYTES_PER_ELEMENT+8+4+r),r+=t.byteLength})),new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1)[0]=r;let s=(e+1)%this.capacity;return Atomics.store(this.write_ptr,0,s),!0}_push(t){var e=Atomics.load(this.write_ptr,0);this.checkBuffer(),this.storageUint8s.set(t,e*this._BYTES_PER_ELEMENT+8+4,t.byteLength),new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1)[0]=t.byteLength;let r=(e+1)%this.capacity;return Atomics.store(this.write_ptr,0,r),!0}addReadPtr(){var t=Atomics.load(this.read_ptr,0);Atomics.store(this.read_ptr,0,(t+1)%this.capacity)}dequeue(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=Atomics.load(this.read_ptr,0);this.checkBuffer();let r,s,n,i=new Uint32Array(this.buf,this.offset+e*this._BYTES_PER_ELEMENT+8,1);if(t){r=this.oneElementBuffer?new Uint8Array(this.oneElementBuffer,0,i[0]):new Uint8Array(i[0]);let t=new Uint8Array(this.storageUint8s.buffer,e*this._BYTES_PER_ELEMENT+8+4+this.storageUint8sByteOffset,r.byteLength);r.set(t,0)}else r=this.storageUint8s.subarray(e*this._BYTES_PER_ELEMENT+8+4,e*this._BYTES_PER_ELEMENT+8+4+i[0]),s=e*this._BYTES_PER_ELEMENT+8+4+this.storageUint8sByteOffset,n=e*this._BYTES_PER_ELEMENT+8+4+i[0]+this.storageUint8sByteOffset;return t&&Atomics.store(this.read_ptr,0,(e+1)%this.capacity),t?r:{bCopyData:t,uint8s:r,begin:s,end:n}}available_read(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_read(t,e)}available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_write(t,e)}is_available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._is_available_write(t,e)}_available_read(t,e){return(e+this.capacity-t)%this.capacity}_available_write(t,e){return this.usableCapacity-this._available_read(t,e)}_is_available_write(t,e){return this._available_write(t,e)>0}_storage_capacity(){return this.capacity}}class x{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:80;if(!(t instanceof T))throw new Error("RingBuffer required");this.rb=t,this.dataCallback=e,this.interval=null,this.requestID=null,this.timeout_call=r,this.tick_lasted_time=0,this.timeoutMS=s,this.maxCount=n}setDataCallback(t){this.dataCallback=t}consume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.interval||(this.bCopyData=e,this.interval=setInterval((()=>{let t=performance.now();if(this.timeout_call){if(0!=this.tick_lasted_time){let e=t-this.tick_lasted_time;e>=this.timeoutMS&&this.timeout_call(e,t)}this.tick_lasted_time=t}this._dequeue()}),t),console.log("consume interval ".concat(this.interval)))}consumeAll(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bCopyData=t,this._dequeue()}_dequeue(){let t=Math.min(this.rb.available_read(),this.maxCount);for(this.consoume_count=0;this.consoume_count<t;){this.consoume_count++;let t=this.rb.dequeue(this.bCopyData);this.dataCallback(t),this.bCopyData||this.rb.addReadPtr()}}_consumeForAnimationFrame(){this._dequeue(),this.requestID=requestAnimationFrame(this._consumeForAnimationFrame.bind(this))}consumeUsingRequestAnimationFrame(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.requestID||(this.bCopyData=t,this._consumeForAnimationFrame())}cancelConsume(){console.log("cancelConsume interval ".concat(this.interval," requestID ").concat(this.requestID)),this.tick_lasted_time=0,clearInterval(this.interval),this.requestID&&cancelAnimationFrame(this.requestID),this.interval=null,this.requestID=null}}class O{constructor(){this.onmessage=()=>{}}addEventListener(){}close(){}}class A{constructor(t){this.transportMap={},this.netthreadworker=null,this.type=t.type,this.mgr=t,this.transportlistsChnagelinster=[]}addEventListener(t){-1==this.transportlistsChnagelinster.indexOf(t)&&this.transportlistsChnagelinster.push(t)}removeEventListener(t){let e=this.transportlistsChnagelinster.indexOf(t);-1!=e&&this.transportlistsChnagelinster.splice(e,1)}addTransport(t,e){t.id in this.transportMap||(this.transportMap[t.id]=t,this.transportlistsChnagelinster.forEach((r=>{r(t,e,1)})))}removeTransport(t){var e;let r=t.id;r in this.transportMap&&(delete this.transportMap[r],null===(e=t.sock)||void 0===e||e.close(),this.transportlistsChnagelinster.forEach((e=>{e(t,t.channel,0)})))}getTransportByType(t){for(let e in this.transportMap){let r=this.transportMap[e],s=r.target_thread==A.SELF_THREAD;if(r.type==t&&s)return r}return null}}o(A,"NO_THREAD",0),o(A,"SELF_THREAD",1);class k{constructor(t){let e=t||{};this.type=e.type||k.THREAD_MAIN,this.refs={},this.transportlists=[],this.mainThread=e.remote,this.subthreadlistner=null,this.channellists=[],this.mediadatachannel=new A(this)}_onrecvmainthreadlistener(t){let{cmd:e,transportId:r,data:s}=t.data,n=this.transportlists.find((t=>t.id===r));if(n||e==g)switch(e){case g:this.addRemoteTransport(t.data,null);break;case 136:n.setMsgPort(s||new O);break;case 135:n.setSabBuffer(t.data.sender,t.data.reciver);break;case 132:n.remote=null,this.removeTransport(n)}}_onrecvsubthreadlistener(t,e){let{cmd:r,transportId:s,transportType:n}=e.data,i=this.transportlists.find((t=>t.id===s));switch(r){case g:this.addRemoteTransport(e.data,t);break;case 135:this.setSabBufferInfo(i,e.data.sender,e.data.reciver);break;case 132:i.remote=null,this.removeTransport(i)}}createRemoteTransport(t,e){let r={cmd:g,transportType:t.type,transportId:t.id};t.portInfo?(r.port=t.portInfo,e.postMessage(r,[t.portInfo])):e.postMessage(r)}closeRemoteTransport(t,e){e.postMessage({cmd:132,transportType:t.type,transportId:t.id})}setRemoteTransportSABBUffer(t,e){var r,s,n,i;(null!==(r=t.sabInfo)&&void 0!==r&&r.sender||null!==(s=t.sabInfo)&&void 0!==s&&s.reciver)&&e.postMessage({cmd:135,transportId:t.id,sender:null===(n=t.sabInfo)||void 0===n?void 0:n.sender,reciver:null===(i=t.sabInfo)||void 0===i?void 0:i.reciver})}addRemoteTransport(t,e){let{transportId:r,port:s,transportType:n}=t,i=this.createMsgSocketTransport(n);i.id=r,i.remote=e,i.portInfo=s,s?i.setMsgPort(i.portInfo):this.bindMessageChannel(i),this.addTransport(i)}addTransport(t){let e=this.getChannelByTransportType(t.type);if(!e)return;let r=e.target_thread||A.SELF_THREAD;t.target_thread=r,this.bindTransPortForChannel(t,e)}removeTransport(t){let e=this.transportlists.indexOf(t);-1!=e&&(this.transportlists.splice(e,1),t.remote&&this.closeRemoteTransport(t,t.remote),t.target_thread!=A.NO_THREAD&&this.unbindTransPortForChannel(t))}createMsgSocketTransport(t){let e=null;return e=new I({mgr:this,sock:new D,type:t,local:!0}),e}bindMessageChannel(t){if(this.type!=k.THREAD_MAIN)return void console.error("error this call only in main thread");let e=new MessageChannel;t.portInfo=e.port1,t.remote.postMessage({cmd:136,transportId:t.id,data:e.port2},[e.port2])}setSabBufferInfo(t,e,r){this.type==k.THREAD_MAIN?(t.sabInfo||(t.sabInfo={}),r&&(r.useCopy=!0),e&&(e.useCopy=!0),t.sabInfo={sender:e,reciver:r},t.target_thread!=A.NO_THREAD&&(t.target_thread!=A.SELF_THREAD?this.setRemoteTransportSABBUffer(t,t.target_thread):t.setSabBuffer(e,r))):console.error("<<<<< setSabBufferInfo in sub thread")}addDataChannel(t){if(t instanceof b){try{this.checkTransport(t)}catch(t){console.error("addDataChannel error",t)}this.channellists.push(t)}else console.error("channel must be a DataChannelWrapper")}removeDataChannel(t){if(!(t instanceof b))return void console.error("channel must be a DataChannelWrapper");let e=this.channellists.indexOf(t);-1!==e&&this.channellists.splice(e,1)}removeTransportByRemote(t){let e=[];for(let r=0;r<this.channellists.length;r++){let s=this.channellists[r];s.remote===t&&e.push(s)}for(let t=0;t<e.length;t++)this.removeTransport(e[t])}reinit(){let t=[...this.transportlists];for(let e=0;e<t.length;e++)this.removeTransport(t[e])}getTransportByType(t){return this.mediadatachannel.getTransportByType(t)}addTransportListChangeListener(t){this.mediadatachannel.addEventListener(t)}remoteTransportListChangeListener(t){this.mediadatachannel.removeEventListener(t)}checkTransport(t){this.transportlists.forEach((e=>{if(!t.transportlists.includes(e.type))return;let r=t.target_thread||A.SELF_THREAD;r==e.target_thread||(this.type==k.THREAD_MAIN&&e.target_thread!=A.NO_THREAD&&e.target_thread!=r&&(this.unbindTransPortForChannel(e),this.bindMessageChannel(e)),e.target_thread=r,this.bindTransPortForChannel(e,t))}))}bindTransPortForChannel(t,e){t.channel=e;let r=t.target_thread;var s,n,i,o;r!=A.SELF_THREAD?(this.createRemoteTransport(t,r),this.setRemoteTransportSABBUffer(t,r)):(t.portInfo&&t.setMsgPort(t.portInfo),(null!==(s=t.sabInfo)&&void 0!==s&&s.sender||null!==(n=t.sabInfo)&&void 0!==n&&n.reciver)&&t.setSabBuffer(null===(i=t.sabInfo)||void 0===i?void 0:i.sender,null===(o=t.sabInfo)||void 0===o?void 0:o.reciver),this.mediadatachannel.addTransport(t,e))}unbindTransPortForChannel(t){t.target_thread!=A.SELF_THREAD?this.type==k.THREAD_MAIN&&this.closeRemoteTransport(t,t.target_thread):this.mediadatachannel.removeTransport(t)}getChannelByTransportType(t){for(let e=0;e<this.channellists.length;e++){let r=this.channellists[e];if(r.isReady()&&r.transportlists.includes(t))return r}return null}}o(k,"THREAD_MAIN",1),o(k,"THREAD_SUB",2);const M=t=>{};class C{constructor(){this.onmessage=M,this.status=C.CLOSED,this.onopen=M,this.onclose=M,this.onwer=null}send(t){}delete(){this.onmessage=M,this.onopen=M,this.onclose=M,this.close()}sendVideo(t,e){}sendWasm(t){}open(){this.status=C.OPEN,this.onopen()}close(){this.status=C.CLOSED,this.onclose()}}o(C,"OPEN",1),o(C,"CLOSED",2);class D extends C{constructor(){super({}),this.sab={},this.port=null,this.onmessage=M,this.sender=M,this.videoSender=M,this.reciver=M,this.wasmSender=M}send(t){this.sender(t)}sendVideo(t,e){this.videoSender(t,e)}sendWasm(t){this.wasmSender(t)}delete(){try{var t,e;this.onmessage=M,this.sender=M,this.videoSender=M,this.reciver=M,this.wasmSender=M;let{consumer:r}=(null===(t=this.sab)||void 0===t?void 0:t.reciver)||{};null==r||r.setDataCallback(M),null==r||r.cancelConsume(),this.sab={},this.port&&(this.port.onmessage=M),null===(e=this.port)||void 0===e||e.close()}catch(t){}}open(){this.status!=C.OPEN||this.onopen()}close(){this.status=C.CLOSED,this.delete(),this.onclose()}_onmessage(t){let{cmd:e,data:r}=t.data;switch(e){case _:this.reciver();break;case v:this.onmessage(r,0);break;case 129:this.status=r,this.status==C.OPEN?this.onopen():this.onclose()}}createSendAndReceive(){if(!this.port)return;let{sender:t,reciver:e}=this.sab,{sabqueue:r,interval:s}=t||{};r?s?(this.sender=t=>{r.enqueue(t)},this.wasmSender=t=>{r.enqueue(t)},this.videoSender=(t,e)=>{if(!r.enqueueSafe([t,e],!1)){let s=new Uint8Array(e.length+t.length);s.set(t,0),s.set(e,t.length),r.enqueueSafe(s)}}):(this.sender=t=>{r.enqueue(t),this.port.postMessage({cmd:_})},this.wasmSender=t=>{r.enqueue(t),this.port.postMessage({cmd:_})},this.videoSender=(t,e)=>{if(!r.enqueueSafe([t,e],!1)){let s=new Uint8Array(e.length+t.length);s.set(t,0),s.set(e,t.length),r.enqueueSafe(s)}this.port.postMessage({cmd:_})}):(this.sender=t=>{this.port.postMessage({cmd:v,data:t},[t.buffer])},this.wasmSender=t=>{let e=new Uint8Array(t.length);e.set(t,0),this.port.postMessage({cmd:v,data:e},[e.buffer])},this.videoSender=(t,e)=>{let r=new Uint8Array(e.length+t.length);r.set(t,0),r.set(e,t.length),this.port.postMessage({cmd:v,data:r},[r.buffer])});let{sabqueue:n,consumer:i,useCopy:o,interval:a,offset:c}=e||{};if(i&&(i.cancelConsume(),i=null),n){const t=o?t=>{this.onmessage(t,0)}:c?t=>{this.onmessage(t.uint8s,t.begin)}:t=>{this.onmessage(t.uint8s,0)};let r=null,s=I.dataTransportMgr.monitorlogfn;if(a&&s){var u;let t=new f({tag:"WCL_M,VDRB"+(null===(u=this.onwer)||void 0===u?void 0:u.type),interval:1e4,reportcallback:L});r=t.timeoutReport.bind(t)}i=new x(n,t,r),e.consumer=i,a?i.consume(a,o):this.reciver=()=>{i.consumeAll(o)}}}setMsgPort(t){t!=this.port&&(this.port&&(this.port.onmessage=M,this.port.close(),this.port=null),this.port=t,this.port&&(this._listeners||(this._listeners=this._onmessage.bind(this)),this.port.onmessage=this._listeners,this.createSendAndReceive()))}setSabBuffer(t,e){if(null!=t&&t.sab){let{sab:e,useCopy:r,interval:s,offset:n,length:i,useOneElement:o}=t,a=new T(n>0?e.buffer:e,void 0,void 0,!!o,n,i,n>0?e:null);this.sab.sender={sabqueue:a,interval:s,useCopy:r,offset:n}}if(null!=e&&e.sab){var r;let{sab:t,useCopy:s,interval:n,offset:i,length:o,useOneElement:a}=e,c=new T(i>0?t.buffer:t,void 0,void 0,!!a,i,o,i>0?t:null),{consumer:u}=(null===(r=this.sab)||void 0===r?void 0:r.reciver)||{};u&&(u.cancelConsume(),this.sab.reciver.consumer=null,this.sab.reciver.sabqueue=null),this.sab.reciver={sabqueue:c,interval:n,useCopy:s,offset:i}}this.createSendAndReceive()}setStatus(t){this.port?this.status!=t&&(this.status=t,this.port.postMessage({cmd:129,data:t})):console.error("MsgQueueSocket not initialized")}}class I{constructor(t){this.onmessage=M,this.onopen=M,this.onclose=M,this.connect_type=t.connect_type||I.UDP,this.type=t.type,this.id=t.id||Math.floor(performance.now())<<10|t.type,this.sock=t.sock||new C,this.mgr=t.mgr,this.sock.onmessage=this._onmessage.bind(this),this.sock.onclose=this._onclose.bind(this),this.sock.onopen=this._onopen.bind(this),this.sock.onwer=this,this.remote=t.remote,this.sabInfo=null,this.portInfo=null,this.target_thread=A.NO_THREAD,this.local=!!t.local,this._create()}_create(){let t=I.dataTransportMgr;t.transportlists.push(this),!this.local&&t&&t.mainThread&&t.type==k.THREAD_SUB&&t.createRemoteTransport(this,t.mainThread)}_close(){let t=I.dataTransportMgr,e=t.transportlists.indexOf(this);-1!=e&&t.transportlists.splice(e,1),!this.local&&t&&t.mainThread&&t.type==k.THREAD_SUB&&t.closeRemoteTransport(this,t.mainThread)}_onmessage(t,e){this.onmessage(t,e)}_onclose(){this.onclose()}_onopen(){this.onopen()}isReady(){return!0}send(t){this.sock.send(t)}sendVideo(t,e){this.sock.sendVideo(t,e)}sendWasmData(t){this.sock.sendWasm(t)}setSocket(t){let e=this.sock;this.sock=t,this.sock&&(this.sock.onwer=this,this.sock.onmessage=this._onmessage.bind(this),this.sock.onclose=this._onclose.bind(this),this.sock.onopen=this._onopen.bind(this)),e&&e.delete()}open(){this.sock.open()}close(){this._close(),this.sock.close()}setMsgPort(t){if(!(this.sock instanceof D))throw new Error("tansport sock is not a MsgQueueSocket");this.sock.setMsgPort(t)}setSabBuffer(t,e){if(!(this.sock instanceof D))throw new Error("tansport sock is not a MsgQueueSocket");this.sock.setSabBuffer(t,e)}setStatus(t){this.sock instanceof D&&this.sock.setStatus(t)}}o(I,"UDP",0),o(I,"TCP",1),o(I,"RLB_UDP",2),o(I,"dataTransportMgr",null);class R{constructor(t){this.sock=null,this.onmessage=M}isReady(){return!1}send(){}setStatus(t){}}function L(t,e,r,s){var n;null===(n=k.monitorlogfn)||void 0===n||n.call(k,t,"".concat(e,",").concat(r,",").concat(s))}function P(t){return I.dataTransportMgr.getTransportByType(t)}function N(t){if(!I.dataTransportMgr)throw new Error("not InitDataTransportModule");I.dataTransportMgr.removeDataChannel(t)}class F{constructor(){this._interval=-1,this.monitorworkers={},this.timeoutcallbackfn=(t,e)=>{}}setTimeoutCallback(t){this.timeoutcallbackfn=t}registerWorker(t,e){if(t in this.monitorworkers){let e=this.monitorworkers[t];e.worker.removeEventListener("message",e.listener),delete this.monitorworkers[t]}let r={id:t,worker:e},s=this._recvheartbeat.bind(this,r);r.listener=s,r.lastedtimestamp=Date.now(),r.timeoutcount=0,r.worker.addEventListener("message",r.listener),this.monitorworkers[t]=r}unRegisterWorker(t){if(!(t in this.monitorworkers))return;let e=this.monitorworkers[t];delete this.monitorworkers[t],e.worker.removeEventListener("message",e.listener)}_recvheartbeat(t,e){let r=e.data;137===r.cmd&&(t.lastedtimestamp=r.timestamp,t.timeoutcount=0)}start(t){const e="undefined"!=typeof DedicatedWorkerGlobalScope&&t&&t instanceof DedicatedWorkerGlobalScope;if(-1!=this._interval)return;if(e)return void(this._interval=setInterval((()=>{t.postMessage({cmd:137,timestamp:Date.now()})}),F.INTREVAL_TIME_MS));const r=()=>{this._interval=setTimeout((()=>{r();let t=F.instance,e=Object.keys(t.monitorworkers),s=Date.now();e.forEach((e=>{let r=t.monitorworkers[e];r.timeoutcount>5?s-r.lastedtimestamp>F.HEART_TIMEOUT_MS&&(t.timeoutcallbackfn(r.id,s-r.lastedtimestamp),r.lastedtimestamp=s):(r.timeoutcount++,r.worker.postMessage({command:138}))}))}),F.INTREVAL_TIME_MS)};r()}close(){try{this._interval&&clearTimeout(this._interval),this._interval=-1,Object.keys(this.monitorworkers).forEach((t=>{let e=this.monitorworkers[t];delete this.monitorworkers[t],e.worker.removeEventListener("message",e.listener)}))}catch(t){}}}o(F,"INTREVAL_TIME_MS",3e3),o(F,"HEART_TIMEOUT_MS",15e3),o(F,"MAX_HEART_TIMEOUT_MS",3e4),o(F,"instance",null);let j="undefined"!=typeof RTCDataChannel;var B;postMessage([j]),function(){try{const t="undefined"!=typeof DedicatedWorkerGlobalScope;if(I.dataTransportMgr)return;let e=new k({type:t?k.THREAD_SUB:k.THREAD_MAIN,remote:t?self:null});I.dataTransportMgr=e,e.monitorlogfn=function(t,e){if(!q.length)return;G(q[0],t,data)},t&&self.addEventListener("message",e._onrecvmainthreadlistener.bind(e))}catch(t){console.error("<<<< InitDataTransportModule",t)}}(),B=self,F.instance||(F.instance=new F),F.instance.start(B),self.onmessage=t=>{let e=t.data;switch(e.command){case 136:Y.setVideoShareModel(e.data);break;case 134:!function(t,e,r,s){let n=new b(t,e,r,null);n.transportlists=s,n.open(),n.onmessage(U),n.onopen(H.bind(null,n)),n.onclose(W.bind(null,n)),n.onerror(V.bind(null,n)),n.report_monitor_func=G.bind(null,n),q.push(n)}(e.id,e.type,e.channel,e.transportlists);break;case 135:!function(t){let e=q.findIndex((e=>e.id==t));if(-1==e)return;let[r]=q.splice(e,1);r.close(),N(r)}(e.id);break;case 138:self.postMessage({cmd:137,timestamp:Date.now()})}};let q=[];function U(t){}function H(t,e){postMessage({cmd:124,id:t.id}),t.isReady()&&(function(t){if(!I.dataTransportMgr)throw new Error("not InitDataTransportModule");I.dataTransportMgr.addDataChannel(t)}(t),Y.connectSession(t))}function V(t,e){postMessage({cmd:125,id:t.id,ev:e}),Y.disconnectSession(new y(t.type,t.transfered)),N(t)}function W(t,e){postMessage({cmd:126,id:t.id}),Y.disconnectSession(new y(t.type,t.transfered)),N(t)}function G(t,e,r){postMessage({cmd:21,id:t.id,tag:e,data:r})}let Y=new class{constructor(){this._listener=this._listenerfn.bind(this),this.isSupportVideoShare=!1}addTransportListiner(){var t;t=this._listener,I.dataTransportMgr.addTransportListChangeListener(t)}remoteTransportListener(){var t;t=this._listener,I.dataTransportMgr.addTransportListChangeListener(t)}_listenerfn(t,e,r){this.connectSession(e)}setVideoShareModel(t){this.isSupportVideoShare=t}connectSession(t){const{type:e}=t;!t.transfered&&t.isReady()&&(3==e&&this.connectVideoSession(t),1==e&&this.connectAudioSession(t))}disconnectSession(t){const{type:e}=t;t.transfered||(3==e&&this.connectVideoSession(t),1==e&&this.connectAudioSession(t))}connectVideoSession(t){let e=new R,r=P(8)||e,s=P(4)||e,n=P(16)||e,i=(null==t?void 0:t.isReady())?C.OPEN:C.CLOSED;r.setStatus(i),s.setStatus(i),this.isSupportVideoShare||n.setStatus(i),t.onmessage((t=>{var e=new Uint8Array(t.data);if((104==e[0]||132==e[0])&&0==e[1]||20==e[0]||130==e[0])r.send(e);else{if(!this.isSupportVideoShare&&(133==e[0]||132==e[0]))return void n.send(e);s.send(e)}}));const o=e=>{t.send(e)};r.onmessage=o,s.onmessage=o,n.onmessage=o}connectAudioSession(t){let e=new R,r=P(2)||e,s=P(1)||e,n=t.isReady()?C.OPEN:C.CLOSED;r.setStatus(n),s.setStatus(n),t.onmessage((t=>{var e=new Uint8Array(t.data);108==e[0]&&0==e[1]?r.send(e):s.send(e)}));const i=e=>{t.send(e)};r.onmessage=i,s.onmessage=i}notifyTransportStatus(t,e){}};Y.addTransportListiner()})()})();
//# sourceMappingURL=https://d1cdksi819e9z7.cloudfront.net/sourcemap/net_thread.min.js-3d767de3ed553a1c9f85.map