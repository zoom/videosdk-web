!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VB=e():t.VB=e()}(self,(()=>(()=>{var t={6984:(t,e,r)=>{t.exports=r(9792)},7201:(t,e,r)=>{t.exports=r(3042)},1829:(t,e,r)=>{"use strict";var i=r(2222);t.exports=i},6040:(t,e,r)=>{"use strict";var i=r(8251);t.exports=i},7264:(t,e,r)=>{"use strict";var i=r(4139);r(768),r(8549),r(7152),r(1372),t.exports=i},9692:(t,e,r)=>{"use strict";var i=r(7045);t.exports=i},5663:(t,e,r)=>{"use strict";var i=r(70);t.exports=i},6823:(t,e,r)=>{"use strict";var i=r(8280),n=r(2017),s=String.prototype;t.exports=function(t){var e=t.replaceAll;return"string"==typeof t||t===s||i(s,t)&&e===s.replaceAll?n:e}},1926:(t,e,r)=>{"use strict";r(6750);var i=r(2046).Object,n=t.exports=function(t,e,r){return i.defineProperty(t,e,r)};i.defineProperty.sham&&(n.sham=!0)},2017:(t,e,r)=>{"use strict";r(1398),r(1995),r(929);var i=r(1747);t.exports=i("String","replaceAll")},3842:(t,e,r)=>{"use strict";r(8545),r(3643),r(4452),r(3997),r(5084),r(2596),r(5721),r(4954),r(4123),r(3377),r(2230),r(5344),r(1660),r(4610),r(3669),r(4810),r(3325),r(7024),r(8172),r(5205);var i=r(2046);t.exports=i.Symbol},1730:(t,e,r)=>{"use strict";r(9363),r(3643),r(7057),r(4954);var i=r(560);t.exports=i.f("iterator")},1661:(t,e,r)=>{"use strict";r(8537),r(3669);var i=r(560);t.exports=i.f("toPrimitive")},3042:(t,e,r)=>{"use strict";t.exports=r(9604)},9604:(t,e,r)=>{"use strict";r(6038);var i=r(1829);t.exports=i},4997:(t,e,r)=>{"use strict";var i=r(6040);t.exports=i},2321:(t,e,r)=>{"use strict";var i=r(7264);r(3939),r(1785),r(1697),r(4664),r(3422),r(36),r(8703),r(6878),r(9671),r(359),t.exports=i},2231:(t,e,r)=>{"use strict";var i=r(9692);t.exports=i},9280:(t,e,r)=>{"use strict";var i=r(5663);t.exports=i},2159:(t,e,r)=>{"use strict";var i=r(2250),n=r(4640),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not a function")}},43:(t,e,r)=>{"use strict";var i=r(4018),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s("Can't set "+n(t)+" as a prototype")}},2156:t=>{"use strict";t.exports=function(){}},9596:(t,e,r)=>{"use strict";var i=r(8280),n=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new n("Incorrect invocation")}},6624:(t,e,r)=>{"use strict";var i=r(6285),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not an object")}},1229:(t,e,r)=>{"use strict";var i=r(8311),n=r(3930),s=r(9298),o=r(6818),a=r(7812),c=r(5468),u=r(575),h=r(5543),l=r(300),f=r(3448),d=Array;t.exports=function(t){var e=s(t),r=c(this),p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,p>2?arguments[2]:void 0));var g,b,_,w,y,x,E=f(e),R=0;if(!E||this===d&&a(E))for(g=u(e),b=r?new this(g):d(g);g>R;R++)x=v?m(e[R],R):e[R],h(b,R,x);else for(b=r?new this:[],y=(w=l(e,E)).next;!(_=n(y,w)).done;R++)x=v?o(w,m,[_.value,R],!0):_.value,h(b,R,x);return b.length=R,b}},4436:(t,e,r)=>{"use strict";var i=r(7374),n=r(4849),s=r(575),o=function(t){return function(e,r,o){var a=i(e),c=s(a);if(0===c)return!t&&-1;var u,h=n(o,c);if(t&&r!=r){for(;c>h;)if((u=a[h++])!=u)return!0}else for(;c>h;h++)if((t||h in a)&&a[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},726:(t,e,r)=>{"use strict";var i=r(8311),n=r(1907),s=r(6946),o=r(9298),a=r(575),c=r(6968),u=n([].push),h=function(t){var e=1===t,r=2===t,n=3===t,h=4===t,l=6===t,f=7===t,d=5===t||l;return function(p,m,v,g){for(var b,_,w=o(p),y=s(w),x=a(y),E=i(m,v),R=0,T=g||c,S=e?T(p,x):r||f?T(p,0):void 0;x>R;R++)if((d||R in y)&&(_=E(b=y[R],R,w),t))if(e)S[R]=_;else if(_)switch(t){case 3:return!0;case 5:return b;case 6:return R;case 2:u(S,b)}else switch(t){case 4:return!1;case 7:u(S,b)}return l?-1:n||h?h:S}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},7171:(t,e,r)=>{"use strict";var i=r(8828),n=r(6264),s=r(798),o=n("species");t.exports=function(t){return s>=51||!i((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3427:(t,e,r)=>{"use strict";var i=r(1907);t.exports=i([].slice)},4321:(t,e,r)=>{"use strict";var i=r(3427),n=Math.floor,s=function(t,e){var r=t.length;if(r<8)for(var o,a,c=1;c<r;){for(a=c,o=t[c];a&&e(t[a-1],o)>0;)t[a]=t[--a];a!==c++&&(t[a]=o)}else for(var u=n(r/2),h=s(i(t,0,u),e),l=s(i(t,u),e),f=h.length,d=l.length,p=0,m=0;p<f||m<d;)t[p+m]=p<f&&m<d?e(h[p],l[m])<=0?h[p++]:l[m++]:p<f?h[p++]:l[m++];return t};t.exports=s},4010:(t,e,r)=>{"use strict";var i=r(1793),n=r(5468),s=r(6285),o=r(6264)("species"),a=Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(n(e)&&(e===a||i(e.prototype))||s(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},6968:(t,e,r)=>{"use strict";var i=r(4010);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},6818:(t,e,r)=>{"use strict";var i=r(6624),n=r(154);t.exports=function(t,e,r,s){try{return s?e(i(r)[0],r[1]):e(r)}catch(e){n(t,"throw",e)}}},5807:(t,e,r)=>{"use strict";var i=r(1907),n=i({}.toString),s=i("".slice);t.exports=function(t){return s(n(t),8,-1)}},3948:(t,e,r)=>{"use strict";var i=r(2623),n=r(2250),s=r(5807),o=r(6264)("toStringTag"),a=Object,c="Arguments"===s(function(){return arguments}());t.exports=i?s:function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?r:c?s(e):"Object"===(i=s(e))&&n(e.callee)?"Arguments":i}},7382:(t,e,r)=>{"use strict";var i=r(8828);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9550:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},1626:(t,e,r)=>{"use strict";var i=r(9447),n=r(4284),s=r(5817);t.exports=i?function(t,e,r){return n.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},5817:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},5543:(t,e,r)=>{"use strict";var i=r(9447),n=r(4284),s=r(5817);t.exports=function(t,e,r){i?n.f(t,e,s(0,r)):t[e]=r}},9251:(t,e,r)=>{"use strict";var i=r(4284);t.exports=function(t,e,r){return i.f(t,e,r)}},8055:(t,e,r)=>{"use strict";var i=r(1626);t.exports=function(t,e,r,n){return n&&n.enumerable?t[e]=r:i(t,e,r),t}},2802:(t,e,r)=>{"use strict";var i=r(8055);t.exports=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:i(t,n,e[n],r);return t}},2532:(t,e,r)=>{"use strict";var i=r(5951),n=Object.defineProperty;t.exports=function(t,e){try{n(i,t,{value:e,configurable:!0,writable:!0})}catch(r){i[t]=e}return e}},9447:(t,e,r)=>{"use strict";var i=r(8828);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9552:(t,e,r)=>{"use strict";var i=r(5951),n=r(6285),s=i.document,o=n(s)&&n(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},8024:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9287:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},376:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6794:(t,e,r)=>{"use strict";var i=r(5951).navigator,n=i&&i.userAgent;t.exports=n?String(n):""},798:(t,e,r)=>{"use strict";var i,n,s=r(5951),o=r(6794),a=s.process,c=s.Deno,u=a&&a.versions||c&&c.version,h=u&&u.v8;h&&(n=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=+i[1]),t.exports=n},1091:(t,e,r)=>{"use strict";var i=r(5951),n=r(6024),s=r(2361),o=r(2250),a=r(3846).f,c=r(7463),u=r(2046),h=r(8311),l=r(1626),f=r(9724);r(6128);var d=function(t){var e=function(r,i,s){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,s)}return n(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,n,p,m,v,g,b,_,w,y=t.target,x=t.global,E=t.stat,R=t.proto,T=x?i:E?i[y]:i[y]&&i[y].prototype,S=x?u:u[y]||l(u,y,{})[y],C=S.prototype;for(m in e)n=!(r=c(x?m:y+(E?".":"#")+m,t.forced))&&T&&f(T,m),g=S[m],n&&(b=t.dontCallGetSet?(w=a(T,m))&&w.value:T[m]),v=n&&b?b:e[m],(r||R||typeof g!=typeof v)&&(_=t.bind&&n?h(v,i):t.wrap&&n?d(v):R&&o(v)?s(v):v,(t.sham||v&&v.sham||g&&g.sham)&&l(_,"sham",!0),l(S,m,_),R&&(f(u,p=y+"Prototype")||l(u,p,{}),l(u[p],m,v),t.real&&C&&(r||!C[m])&&l(C,m,v)))}},8828:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},6024:(t,e,r)=>{"use strict";var i=r(1505),n=Function.prototype,s=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},8311:(t,e,r)=>{"use strict";var i=r(2361),n=r(2159),s=r(1505),o=i(i.bind);t.exports=function(t,e){return n(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},1505:(t,e,r)=>{"use strict";var i=r(8828);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},3930:(t,e,r)=>{"use strict";var i=r(1505),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},6833:(t,e,r)=>{"use strict";var i=r(9447),n=r(9724),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=n(s,"name"),c=a&&"something"===function(){}.name,u=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1871:(t,e,r)=>{"use strict";var i=r(1907),n=r(2159);t.exports=function(t,e,r){try{return i(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},2361:(t,e,r)=>{"use strict";var i=r(5807),n=r(1907);t.exports=function(t){if("Function"===i(t))return n(t)}},1907:(t,e,r)=>{"use strict";var i=r(1505),n=Function.prototype,s=n.call,o=i&&n.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},1747:(t,e,r)=>{"use strict";var i=r(5951),n=r(2046);t.exports=function(t,e){var r=n[t+"Prototype"],s=r&&r[e];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[e]}},5582:(t,e,r)=>{"use strict";var i=r(2046),n=r(5951),s=r(2250),o=function(t){return s(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(n[t]):i[t]&&i[t][e]||n[t]&&n[t][e]}},3448:(t,e,r)=>{"use strict";var i=r(3948),n=r(9367),s=r(7136),o=r(3742),a=r(6264)("iterator");t.exports=function(t){if(!s(t))return n(t,a)||n(t,"@@iterator")||o[i(t)]}},300:(t,e,r)=>{"use strict";var i=r(3930),n=r(2159),s=r(6624),o=r(4640),a=r(3448),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(n(r))return s(i(r,t));throw new c(o(t)+" is not iterable")}},6656:(t,e,r)=>{"use strict";var i=r(1907),n=r(1793),s=r(2250),o=r(5807),a=r(160),c=i([].push);t.exports=function(t){if(s(t))return t;if(n(t)){for(var e=t.length,r=[],i=0;i<e;i++){var u=t[i];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==o(u)&&"String"!==o(u)||c(r,a(u))}var h=r.length,l=!0;return function(t,e){if(l)return l=!1,e;if(n(this))return e;for(var i=0;i<h;i++)if(r[i]===t)return e}}}},9367:(t,e,r)=>{"use strict";var i=r(2159),n=r(7136);t.exports=function(t,e){var r=t[e];return n(r)?void 0:i(r)}},7703:(t,e,r)=>{"use strict";var i=r(1907),n=r(9298),s=Math.floor,o=i("".charAt),a=i("".replace),c=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,i,l,f){var d=r+t.length,p=i.length,m=h;return void 0!==l&&(l=n(l),m=u),a(f,m,(function(n,a){var u;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,d);case"<":u=l[c(a,1,-1)];break;default:var h=+a;if(0===h)return n;if(h>p){var f=s(h/10);return 0===f?n:f<=p?void 0===i[f-1]?o(a,1):i[f-1]+o(a,1):n}u=i[h-1]}return void 0===u?"":u}))}},5951:function(t,e,r){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9724:(t,e,r)=>{"use strict";var i=r(1907),n=r(9298),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(n(t),e)}},8530:t=>{"use strict";t.exports={}},2416:(t,e,r)=>{"use strict";var i=r(5582);t.exports=i("document","documentElement")},3648:(t,e,r)=>{"use strict";var i=r(9447),n=r(8828),s=r(9552);t.exports=!i&&!n((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},6946:(t,e,r)=>{"use strict";var i=r(1907),n=r(8828),s=r(5807),o=Object,a=i("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},2647:(t,e,r)=>{"use strict";var i=r(1907),n=r(2250),s=r(6128),o=i(Function.toString);n(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},4932:(t,e,r)=>{"use strict";var i,n,s,o=r(551),a=r(5951),c=r(6285),u=r(1626),h=r(9724),l=r(6128),f=r(2522),d=r(8530),p="Object already initialized",m=a.TypeError,v=a.WeakMap;if(o||l.state){var g=l.state||(l.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,i=function(t,e){if(g.has(t))throw new m(p);return e.facade=t,g.set(t,e),e},n=function(t){return g.get(t)||{}},s=function(t){return g.has(t)}}else{var b=f("state");d[b]=!0,i=function(t,e){if(h(t,b))throw new m(p);return e.facade=t,u(t,b,e),e},n=function(t){return h(t,b)?t[b]:{}},s=function(t){return h(t,b)}}t.exports={set:i,get:n,has:s,enforce:function(t){return s(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=n(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return r}}}},7812:(t,e,r)=>{"use strict";var i=r(6264),n=r(3742),s=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[s]===t)}},1793:(t,e,r)=>{"use strict";var i=r(5807);t.exports=Array.isArray||function(t){return"Array"===i(t)}},2250:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},5468:(t,e,r)=>{"use strict";var i=r(1907),n=r(8828),s=r(2250),o=r(3948),a=r(5582),c=r(2647),u=function(){},h=a("Reflect","construct"),l=/^\s*(?:class|function)\b/,f=i(l.exec),d=!l.test(u),p=function(t){if(!s(t))return!1;try{return h(u,[],t),!0}catch(t){return!1}},m=function(t){if(!s(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(l,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!h||n((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?m:p},7463:(t,e,r)=>{"use strict";var i=r(8828),n=r(2250),s=/#|\.prototype\./,o=function(t,e){var r=c[a(t)];return r===h||r!==u&&(n(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},7136:t=>{"use strict";t.exports=function(t){return null==t}},6285:(t,e,r)=>{"use strict";var i=r(2250);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},4018:(t,e,r)=>{"use strict";var i=r(6285);t.exports=function(t){return i(t)||null===t}},7376:t=>{"use strict";t.exports=!0},2087:(t,e,r)=>{"use strict";var i=r(6285),n=r(5807),s=r(6264)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"===n(t))}},5594:(t,e,r)=>{"use strict";var i=r(5582),n=r(2250),s=r(8280),o=r(1175),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return n(e)&&s(e.prototype,a(t))}},154:(t,e,r)=>{"use strict";var i=r(3930),n=r(6624),s=r(9367);t.exports=function(t,e,r){var o,a;n(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw r;return r}o=i(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw r;if(a)throw o;return n(o),r}},7181:(t,e,r)=>{"use strict";var i=r(5116).IteratorPrototype,n=r(8075),s=r(5817),o=r(4840),a=r(3742),c=function(){return this};t.exports=function(t,e,r,u){var h=e+" Iterator";return t.prototype=n(i,{next:s(+!u,r)}),o(t,h,!1,!0),a[h]=c,t}},183:(t,e,r)=>{"use strict";var i=r(1091),n=r(3930),s=r(7376),o=r(6833),a=r(2250),c=r(7181),u=r(5972),h=r(9192),l=r(4840),f=r(1626),d=r(8055),p=r(6264),m=r(3742),v=r(5116),g=o.PROPER,b=o.CONFIGURABLE,_=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,y=p("iterator"),x="keys",E="values",R="entries",T=function(){return this};t.exports=function(t,e,r,o,p,v,S){c(r,e,o);var C,L,A,k=function(t){if(t===p&&I)return I;if(!w&&t&&t in M)return M[t];switch(t){case x:case E:case R:return function(){return new r(this,t)}}return function(){return new r(this)}},P=e+" Iterator",O=!1,M=t.prototype,B=M[y]||M["@@iterator"]||p&&M[p],I=!w&&B||k(p),F="Array"===e&&M.entries||B;if(F&&(C=u(F.call(new t)))!==Object.prototype&&C.next&&(s||u(C)===_||(h?h(C,_):a(C[y])||d(C,y,T)),l(C,P,!0,!0),s&&(m[P]=T)),g&&p===E&&B&&B.name!==E&&(!s&&b?f(M,"name",E):(O=!0,I=function(){return n(B,this)})),p)if(L={values:k(E),keys:v?I:k(x),entries:k(R)},S)for(A in L)(w||O||!(A in M))&&d(M,A,L[A]);else i({target:e,proto:!0,forced:w||O},L);return s&&!S||M[y]===I||d(M,y,I,{name:p}),m[e]=I,L}},5116:(t,e,r)=>{"use strict";var i,n,s,o=r(8828),a=r(2250),c=r(6285),u=r(8075),h=r(5972),l=r(8055),f=r(6264),d=r(7376),p=f("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(n=h(h(s)))!==Object.prototype&&(i=n):m=!0),!c(i)||o((function(){var t={};return i[p].call(t)!==t}))?i={}:d&&(i=u(i)),a(i[p])||l(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},3742:t=>{"use strict";t.exports={}},575:(t,e,r)=>{"use strict";var i=r(3121);t.exports=function(t){return i(t.length)}},1176:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?r:e)(i)}},9538:(t,e,r)=>{"use strict";var i=r(9447),n=r(1907),s=r(3930),o=r(8828),a=r(2875),c=r(7170),u=r(2574),h=r(9298),l=r(6946),f=Object.assign,d=Object.defineProperty,p=n([].concat);t.exports=!f||o((function(){if(i&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!==f({},t)[r]||a(f({},e)).join("")!==n}))?function(t,e){for(var r=h(t),n=arguments.length,o=1,f=c.f,d=u.f;n>o;)for(var m,v=l(arguments[o++]),g=f?p(a(v),f(v)):a(v),b=g.length,_=0;b>_;)m=g[_++],i&&!s(d,v,m)||(r[m]=v[m]);return r}:f},8075:(t,e,r)=>{"use strict";var i,n=r(6624),s=r(2220),o=r(376),a=r(8530),c=r(2416),u=r(9552),h=r(2522),l="prototype",f="script",d=h("IE_PROTO"),p=function(){},m=function(t){return"<"+f+">"+t+"</"+f+">"},v=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;g="undefined"!=typeof document?document.domain&&i?v(i):(e=u("iframe"),r="java"+f+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):v(i);for(var n=o.length;n--;)delete g[l][o[n]];return g()};a[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[l]=n(t),r=new p,p[l]=null,r[d]=t):r=g(),void 0===e?r:s.f(r,e)}},2220:(t,e,r)=>{"use strict";var i=r(9447),n=r(8661),s=r(4284),o=r(6624),a=r(7374),c=r(2875);e.f=i&&!n?Object.defineProperties:function(t,e){o(t);for(var r,i=a(e),n=c(e),u=n.length,h=0;u>h;)s.f(t,r=n[h++],i[r]);return t}},4284:(t,e,r)=>{"use strict";var i=r(9447),n=r(3648),s=r(8661),o=r(6624),a=r(470),c=TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,l="enumerable",f="configurable",d="writable";e.f=i?s?function(t,e,r){if(o(t),e=a(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var i=h(t,e);i&&i[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:i[f],enumerable:l in r?r[l]:i[l],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(o(t),e=a(e),o(r),n)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},3846:(t,e,r)=>{"use strict";var i=r(9447),n=r(3930),s=r(2574),o=r(5817),a=r(7374),c=r(470),u=r(9724),h=r(3648),l=Object.getOwnPropertyDescriptor;e.f=i?l:function(t,e){if(t=a(t),e=c(e),h)try{return l(t,e)}catch(t){}if(u(t,e))return o(!n(s.f,t,e),t[e])}},5407:(t,e,r)=>{"use strict";var i=r(5807),n=r(7374),s=r(4443).f,o=r(3427),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===i(t)?function(t){try{return s(t)}catch(t){return o(a)}}(t):s(n(t))}},4443:(t,e,r)=>{"use strict";var i=r(3045),n=r(376).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},7170:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},5972:(t,e,r)=>{"use strict";var i=r(9724),n=r(2250),s=r(9298),o=r(2522),a=r(7382),c=o("IE_PROTO"),u=Object,h=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=s(t);if(i(e,c))return e[c];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof u?h:null}},8280:(t,e,r)=>{"use strict";var i=r(1907);t.exports=i({}.isPrototypeOf)},3045:(t,e,r)=>{"use strict";var i=r(1907),n=r(9724),s=r(7374),o=r(4436).indexOf,a=r(8530),c=i([].push);t.exports=function(t,e){var r,i=s(t),u=0,h=[];for(r in i)!n(a,r)&&n(i,r)&&c(h,r);for(;e.length>u;)n(i,r=e[u++])&&(~o(h,r)||c(h,r));return h}},2875:(t,e,r)=>{"use strict";var i=r(3045),n=r(376);t.exports=Object.keys||function(t){return i(t,n)}},2574:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},9192:(t,e,r)=>{"use strict";var i=r(1871),n=r(6285),s=r(4239),o=r(43);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=i(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return s(r),o(i),n(r)?(e?t(r,i):r.__proto__=i,r):r}}():void 0)},4878:(t,e,r)=>{"use strict";var i=r(2623),n=r(3948);t.exports=i?{}.toString:function(){return"[object "+n(this)+"]"}},581:(t,e,r)=>{"use strict";var i=r(3930),n=r(2250),s=r(6285),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&n(r=t.toString)&&!s(a=i(r,t)))return a;if(n(r=t.valueOf)&&!s(a=i(r,t)))return a;if("string"!==e&&n(r=t.toString)&&!s(a=i(r,t)))return a;throw new o("Can't convert object to primitive value")}},2046:t=>{"use strict";t.exports={}},5606:(t,e,r)=>{"use strict";var i=r(6624);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},663:(t,e,r)=>{"use strict";var i=r(3930),n=r(9724),s=r(8280),o=r(5606),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||n(t,"flags")||!s(a,t)?e:i(o,t)}},4239:(t,e,r)=>{"use strict";var i=r(7136),n=TypeError;t.exports=function(t){if(i(t))throw new n("Can't call method on "+t);return t}},2098:(t,e,r)=>{"use strict";var i=r(5951),n=r(9447),s=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!n)return i[t];var e=s(i,t);return e&&e.value}},4840:(t,e,r)=>{"use strict";var i=r(2623),n=r(4284).f,s=r(1626),o=r(9724),a=r(4878),c=r(6264)("toStringTag");t.exports=function(t,e,r,u){var h=r?t:t&&t.prototype;h&&(o(h,c)||n(h,c,{configurable:!0,value:e}),u&&!i&&s(h,"toString",a))}},2522:(t,e,r)=>{"use strict";var i=r(5816),n=r(6499),s=i("keys");t.exports=function(t){return s[t]||(s[t]=n(t))}},6128:(t,e,r)=>{"use strict";var i=r(7376),n=r(5951),s=r(2532),o="__core-js_shared__",a=t.exports=n[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5816:(t,e,r)=>{"use strict";var i=r(6128);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},1470:(t,e,r)=>{"use strict";var i=r(1907),n=r(5482),s=r(160),o=r(4239),a=i("".charAt),c=i("".charCodeAt),u=i("".slice),h=function(t){return function(e,r){var i,h,l=s(o(e)),f=n(r),d=l.length;return f<0||f>=d?t?"":void 0:(i=c(l,f))<55296||i>56319||f+1===d||(h=c(l,f+1))<56320||h>57343?t?a(l,f):i:t?u(l,f,f+2):h-56320+(i-55296<<10)+65536}};t.exports={codeAt:h(!1),charAt:h(!0)}},9156:(t,e,r)=>{"use strict";var i=r(1907),n=2147483647,s=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=RangeError,u=i(o.exec),h=Math.floor,l=String.fromCharCode,f=i("".charCodeAt),d=i([].join),p=i([].push),m=i("".replace),v=i("".split),g=i("".toLowerCase),b=function(t){return t+22+75*(t<26)},_=function(t,e,r){var i=0;for(t=r?h(t/700):t>>1,t+=h(t/e);t>455;)t=h(t/35),i+=36;return h(i+36*t/(t+38))},w=function(t){var e=[];t=function(t){for(var e=[],r=0,i=t.length;r<i;){var n=f(t,r++);if(n>=55296&&n<=56319&&r<i){var s=f(t,r++);56320==(64512&s)?p(e,((1023&n)<<10)+(1023&s)+65536):(p(e,n),r--)}else p(e,n)}return e}(t);var r,i,s=t.length,o=128,u=0,m=72;for(r=0;r<t.length;r++)(i=t[r])<128&&p(e,l(i));var v=e.length,g=v;for(v&&p(e,"-");g<s;){var w=n;for(r=0;r<t.length;r++)(i=t[r])>=o&&i<w&&(w=i);var y=g+1;if(w-o>h((n-u)/y))throw new c(a);for(u+=(w-o)*y,o=w,r=0;r<t.length;r++){if((i=t[r])<o&&++u>n)throw new c(a);if(i===o){for(var x=u,E=36;;){var R=E<=m?1:E>=m+26?26:E-m;if(x<R)break;var T=x-R,S=36-R;p(e,l(b(R+T%S))),x=h(T/S),E+=36}p(e,l(b(x))),m=_(u,y,g===v),u=0,g++}}u++,o++}return d(e,"")};t.exports=function(t){var e,r,i=[],n=v(m(g(t),o,"."),".");for(e=0;e<n.length;e++)r=n[e],p(i,u(s,r)?"xn--"+w(r):r);return d(i,".")}},9846:(t,e,r)=>{"use strict";var i=r(798),n=r(8828),s=r(5951).String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},3467:(t,e,r)=>{"use strict";var i=r(3930),n=r(5582),s=r(6264),o=r(8055);t.exports=function(){var t=n("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=s("toPrimitive");e&&!e[a]&&o(e,a,(function(t){return i(r,this)}),{arity:1})}},2595:(t,e,r)=>{"use strict";var i=r(5582),n=r(1907),s=i("Symbol"),o=s.keyFor,a=n(s.prototype.valueOf);t.exports=s.isRegisteredSymbol||function(t){try{return void 0!==o(a(t))}catch(t){return!1}}},9197:(t,e,r)=>{"use strict";for(var i=r(5816),n=r(5582),s=r(1907),o=r(5594),a=r(6264),c=n("Symbol"),u=c.isWellKnownSymbol,h=n("Object","getOwnPropertyNames"),l=s(c.prototype.valueOf),f=i("wks"),d=0,p=h(c),m=p.length;d<m;d++)try{var v=p[d];o(c[v])&&a(v)}catch(t){}t.exports=function(t){if(u&&u(t))return!0;try{for(var e=l(t),r=0,i=h(f),n=i.length;r<n;r++)if(f[i[r]]==e)return!0}catch(t){}return!1}},4411:(t,e,r)=>{"use strict";var i=r(9846);t.exports=i&&!!Symbol.for&&!!Symbol.keyFor},4849:(t,e,r)=>{"use strict";var i=r(5482),n=Math.max,s=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):s(r,e)}},7374:(t,e,r)=>{"use strict";var i=r(6946),n=r(4239);t.exports=function(t){return i(n(t))}},5482:(t,e,r)=>{"use strict";var i=r(1176);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},3121:(t,e,r)=>{"use strict";var i=r(5482),n=Math.min;t.exports=function(t){var e=i(t);return e>0?n(e,9007199254740991):0}},9298:(t,e,r)=>{"use strict";var i=r(4239),n=Object;t.exports=function(t){return n(i(t))}},6028:(t,e,r)=>{"use strict";var i=r(3930),n=r(6285),s=r(5594),o=r(9367),a=r(581),c=r(6264),u=TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!n(t)||s(t))return t;var r,c=o(t,h);if(c){if(void 0===e&&(e="default"),r=i(c,t,e),!n(r)||s(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},470:(t,e,r)=>{"use strict";var i=r(6028),n=r(5594);t.exports=function(t){var e=i(t,"string");return n(e)?e:e+""}},2623:(t,e,r)=>{"use strict";var i={};i[r(6264)("toStringTag")]="z",t.exports="[object z]"===String(i)},160:(t,e,r)=>{"use strict";var i=r(3948),n=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},4640:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6499:(t,e,r)=>{"use strict";var i=r(1907),n=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+s,36)}},4791:(t,e,r)=>{"use strict";var i=r(8828),n=r(6264),s=r(9447),o=r(7376),a=n("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),i="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),i+=r+t})),r.delete("a",2),r.delete("b",void 0),o&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(o||!s)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==i||"x"!==new URL("https://x",void 0).host}))},1175:(t,e,r)=>{"use strict";var i=r(9846);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8661:(t,e,r)=>{"use strict";var i=r(9447),n=r(8828);t.exports=i&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4787:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},551:(t,e,r)=>{"use strict";var i=r(5951),n=r(2250),s=i.WeakMap;t.exports=n(s)&&/native code/.test(String(s))},366:(t,e,r)=>{"use strict";var i=r(2046),n=r(9724),s=r(560),o=r(4284).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||o(e,t,{value:s.f(t)})}},560:(t,e,r)=>{"use strict";var i=r(6264);e.f=i},6264:(t,e,r)=>{"use strict";var i=r(5951),n=r(5816),s=r(9724),o=r(6499),a=r(9846),c=r(1175),u=i.Symbol,h=n("wks"),l=c?u.for||u:u&&u.withoutSetter||o;t.exports=function(t){return s(h,t)||(h[t]=a&&s(u,t)?u[t]:l("Symbol."+t)),h[t]}},8545:(t,e,r)=>{"use strict";var i=r(1091),n=r(8828),s=r(1793),o=r(6285),a=r(9298),c=r(575),u=r(8024),h=r(5543),l=r(6968),f=r(7171),d=r(6264),p=r(798),m=d("isConcatSpreadable"),v=p>=51||!n((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),g=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:s(t)};i({target:"Array",proto:!0,arity:1,forced:!v||!f("concat")},{concat:function(t){var e,r,i,n,s,o=a(this),f=l(o,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(g(s=-1===e?o:arguments[e]))for(n=c(s),u(d+n),r=0;r<n;r++,d++)r in s&&h(f,d,s[r]);else u(d+1),h(f,d++,s);return f.length=d,f}})},9363:(t,e,r)=>{"use strict";var i=r(7374),n=r(2156),s=r(3742),o=r(4932),a=r(4284).f,c=r(183),u=r(9550),h=r(7376),l=r(9447),f="Array Iterator",d=o.set,p=o.getterFor(f);t.exports=c(Array,"Array",(function(t,e){d(this,{type:f,target:i(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var m=s.Arguments=s.Array;if(n("keys"),n("values"),n("entries"),!h&&l&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},8537:()=>{},9721:(t,e,r)=>{"use strict";var i=r(1091),n=r(5582),s=r(6024),o=r(3930),a=r(1907),c=r(8828),u=r(2250),h=r(5594),l=r(3427),f=r(6656),d=r(9846),p=String,m=n("JSON","stringify"),v=a(/./.exec),g=a("".charAt),b=a("".charCodeAt),_=a("".replace),w=a(1..toString),y=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,R=!d||c((function(){var t=n("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))})),T=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),S=function(t,e){var r=l(arguments),i=f(e);if(u(i)||void 0!==t&&!h(t))return r[1]=function(t,e){if(u(i)&&(e=o(i,this,p(t),e)),!h(e))return e},s(m,null,r)},C=function(t,e,r){var i=g(r,e-1),n=g(r,e+1);return v(x,t)&&!v(E,n)||v(E,t)&&!v(x,i)?"\\u"+w(b(t,0),16):t};m&&i({target:"JSON",stat:!0,arity:3,forced:R||T},{stringify:function(t,e,r){var i=l(arguments),n=s(R?S:m,null,i);return T&&"string"==typeof n?_(n,y,C):n}})},7024:(t,e,r)=>{"use strict";var i=r(5951);r(4840)(i.JSON,"JSON",!0)},8172:()=>{},6750:(t,e,r)=>{"use strict";var i=r(1091),n=r(9447),s=r(4284).f;i({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!n},{defineProperty:s})},5264:(t,e,r)=>{"use strict";var i=r(1091),n=r(9846),s=r(8828),o=r(7170),a=r(9298);i({target:"Object",stat:!0,forced:!n||s((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(a(t)):[]}})},3643:()=>{},5205:()=>{},1398:()=>{},1074:(t,e,r)=>{"use strict";var i=r(1091),n=r(1907),s=r(4849),o=RangeError,a=String.fromCharCode,c=String.fromCodePoint,u=n([].join);i({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(t){for(var e,r=[],i=arguments.length,n=0;i>n;){if(e=+arguments[n++],s(e,1114111)!==e)throw new o(e+" is not a valid code point");r[n]=e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320)}return u(r,"")}})},7057:(t,e,r)=>{"use strict";var i=r(1470).charAt,n=r(160),s=r(4932),o=r(183),a=r(9550),c="String Iterator",u=s.set,h=s.getterFor(c);o(String,"String",(function(t){u(this,{type:c,string:n(t),index:0})}),(function(){var t,e=h(this),r=e.string,n=e.index;return n>=r.length?a(void 0,!0):(t=i(r,n),e.index+=t.length,a(t,!1))}))},929:(t,e,r)=>{"use strict";var i=r(1091),n=r(3930),s=r(1907),o=r(4239),a=r(2250),c=r(7136),u=r(2087),h=r(160),l=r(9367),f=r(663),d=r(7703),p=r(6264),m=r(7376),v=p("replace"),g=TypeError,b=s("".indexOf),_=s("".replace),w=s("".slice),y=Math.max;i({target:"String",proto:!0},{replaceAll:function(t,e){var r,i,s,p,x,E,R,T,S,C,L=o(this),A=0,k="";if(!c(t)){if((r=u(t))&&(i=h(o(f(t))),!~b(i,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(s=l(t,v))return n(s,t,L,e);if(m&&r)return _(h(L),t,e)}for(p=h(L),x=h(t),(E=a(e))||(e=h(e)),R=x.length,T=y(1,R),S=b(p,x);-1!==S;)C=E?h(e(x,S,p)):d(x,p,S,[],void 0,e),k+=w(p,A,S)+C,A=S+R,S=S+T>p.length?-1:b(p,x,S+T);return A<p.length&&(k+=w(p,A)),k}})},1995:()=>{},3997:(t,e,r)=>{"use strict";r(366)("asyncIterator")},3674:(t,e,r)=>{"use strict";var i=r(1091),n=r(5951),s=r(3930),o=r(1907),a=r(7376),c=r(9447),u=r(9846),h=r(8828),l=r(9724),f=r(8280),d=r(6624),p=r(7374),m=r(470),v=r(160),g=r(5817),b=r(8075),_=r(2875),w=r(4443),y=r(5407),x=r(7170),E=r(3846),R=r(4284),T=r(2220),S=r(2574),C=r(8055),L=r(9251),A=r(5816),k=r(2522),P=r(8530),O=r(6499),M=r(6264),B=r(560),I=r(366),F=r(3467),V=r(4840),U=r(4932),N=r(726).forEach,D=k("hidden"),G="Symbol",j="prototype",W=U.set,z=U.getterFor(G),H=Object[j],X=n.Symbol,q=X&&X[j],$=n.RangeError,K=n.TypeError,Y=n.QObject,Z=E.f,J=R.f,Q=y.f,tt=S.f,et=o([].push),rt=A("symbols"),it=A("op-symbols"),nt=A("wks"),st=!Y||!Y[j]||!Y[j].findChild,ot=function(t,e,r){var i=Z(H,e);i&&delete H[e],J(t,e,r),i&&t!==H&&J(H,e,i)},at=c&&h((function(){return 7!==b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ot:J,ct=function(t,e){var r=rt[t]=b(q);return W(r,{type:G,tag:t,description:e}),c||(r.description=e),r},ut=function(t,e,r){t===H&&ut(it,e,r),d(t);var i=m(e);return d(r),l(rt,i)?(r.enumerable?(l(t,D)&&t[D][i]&&(t[D][i]=!1),r=b(r,{enumerable:g(0,!1)})):(l(t,D)||J(t,D,g(1,b(null))),t[D][i]=!0),at(t,i,r)):J(t,i,r)},ht=function(t,e){d(t);var r=p(e),i=_(r).concat(pt(r));return N(i,(function(e){c&&!s(lt,r,e)||ut(t,e,r[e])})),t},lt=function(t){var e=m(t),r=s(tt,this,e);return!(this===H&&l(rt,e)&&!l(it,e))&&(!(r||!l(this,e)||!l(rt,e)||l(this,D)&&this[D][e])||r)},ft=function(t,e){var r=p(t),i=m(e);if(r!==H||!l(rt,i)||l(it,i)){var n=Z(r,i);return!n||!l(rt,i)||l(r,D)&&r[D][i]||(n.enumerable=!0),n}},dt=function(t){var e=Q(p(t)),r=[];return N(e,(function(t){l(rt,t)||l(P,t)||et(r,t)})),r},pt=function(t){var e=t===H,r=Q(e?it:p(t)),i=[];return N(r,(function(t){!l(rt,t)||e&&!l(H,t)||et(i,rt[t])})),i};u||(C(q=(X=function(){if(f(q,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=O(t),r=function(t){var i=void 0===this?n:this;i===H&&s(r,it,t),l(i,D)&&l(i[D],e)&&(i[D][e]=!1);var o=g(1,t);try{at(i,e,o)}catch(t){if(!(t instanceof $))throw t;ot(i,e,o)}};return c&&st&&at(H,e,{configurable:!0,set:r}),ct(e,t)})[j],"toString",(function(){return z(this).tag})),C(X,"withoutSetter",(function(t){return ct(O(t),t)})),S.f=lt,R.f=ut,T.f=ht,E.f=ft,w.f=y.f=dt,x.f=pt,B.f=function(t){return ct(M(t),t)},c&&(L(q,"description",{configurable:!0,get:function(){return z(this).description}}),a||C(H,"propertyIsEnumerable",lt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:X}),N(_(nt),(function(t){I(t)})),i({target:G,stat:!0,forced:!u},{useSetter:function(){st=!0},useSimple:function(){st=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?b(t):ht(b(t),e)},defineProperty:ut,defineProperties:ht,getOwnPropertyDescriptor:ft}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:dt}),F(),V(X,G),P[D]=!0},5084:()=>{},3313:(t,e,r)=>{"use strict";var i=r(1091),n=r(5582),s=r(9724),o=r(160),a=r(5816),c=r(4411),u=a("string-to-symbol-registry"),h=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=o(t);if(s(u,e))return u[e];var r=n("Symbol")(e);return u[e]=r,h[r]=e,r}})},2596:(t,e,r)=>{"use strict";r(366)("hasInstance")},5721:(t,e,r)=>{"use strict";r(366)("isConcatSpreadable")},4954:(t,e,r)=>{"use strict";r(366)("iterator")},4452:(t,e,r)=>{"use strict";r(3674),r(3313),r(751),r(9721),r(5264)},751:(t,e,r)=>{"use strict";var i=r(1091),n=r(9724),s=r(5594),o=r(4640),a=r(5816),c=r(4411),u=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!s(t))throw new TypeError(o(t)+" is not a symbol");if(n(u,t))return u[t]}})},3377:(t,e,r)=>{"use strict";r(366)("matchAll")},4123:(t,e,r)=>{"use strict";r(366)("match")},2230:(t,e,r)=>{"use strict";r(366)("replace")},5344:(t,e,r)=>{"use strict";r(366)("search")},1660:(t,e,r)=>{"use strict";r(366)("species")},4610:(t,e,r)=>{"use strict";r(366)("split")},3669:(t,e,r)=>{"use strict";var i=r(366),n=r(3467);i("toPrimitive"),n()},4810:(t,e,r)=>{"use strict";var i=r(5582),n=r(366),s=r(4840);n("toStringTag"),s(i("Symbol"),"Symbol")},3325:(t,e,r)=>{"use strict";r(366)("unscopables")},768:(t,e,r)=>{"use strict";var i=r(6264),n=r(4284).f,s=i("metadata"),o=Function.prototype;void 0===o[s]&&n(o,s,{value:null})},6038:(t,e,r)=>{"use strict";r(929)},8549:(t,e,r)=>{"use strict";r(366)("asyncDispose")},1697:(t,e,r)=>{"use strict";r(366)("customMatcher")},7152:(t,e,r)=>{"use strict";r(366)("dispose")},3939:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0},{isRegisteredSymbol:r(2595)})},3422:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:r(2595)})},1785:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:r(9197)})},36:(t,e,r)=>{"use strict";r(1091)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:r(9197)})},8703:(t,e,r)=>{"use strict";r(366)("matcher")},6878:(t,e,r)=>{"use strict";r(366)("metadataKey")},1372:(t,e,r)=>{"use strict";r(366)("metadata")},4664:(t,e,r)=>{"use strict";r(366)("observable")},9671:(t,e,r)=>{"use strict";r(366)("patternMatch")},359:(t,e,r)=>{"use strict";r(366)("replaceAll")},2560:(t,e,r)=>{"use strict";r(9363);var i=r(9287),n=r(5951),s=r(4840),o=r(3742);for(var a in i)s(n[a],a),o[a]=o.Array},7105:(t,e,r)=>{"use strict";r(9363),r(1074);var i=r(1091),n=r(5951),s=r(2098),o=r(5582),a=r(3930),c=r(1907),u=r(9447),h=r(4791),l=r(8055),f=r(9251),d=r(2802),p=r(4840),m=r(7181),v=r(4932),g=r(9596),b=r(2250),_=r(9724),w=r(8311),y=r(3948),x=r(6624),E=r(6285),R=r(160),T=r(8075),S=r(5817),C=r(300),L=r(3448),A=r(9550),k=r(4787),P=r(6264),O=r(4321),M=P("iterator"),B="URLSearchParams",I=B+"Iterator",F=v.set,V=v.getterFor(B),U=v.getterFor(I),N=s("fetch"),D=s("Request"),G=s("Headers"),j=D&&D.prototype,W=G&&G.prototype,z=n.TypeError,H=n.encodeURIComponent,X=String.fromCharCode,q=o("String","fromCodePoint"),$=parseInt,K=c("".charAt),Y=c([].join),Z=c([].push),J=c("".replace),Q=c([].shift),tt=c([].splice),et=c("".split),rt=c("".slice),it=c(/./.exec),nt=/\+/g,st=/^[0-9a-f]+$/i,ot=function(t,e){var r=rt(t,e,e+2);return it(st,r)?$(r,16):NaN},at=function(t){for(var e=0,r=128;r>0&&t&r;r>>=1)e++;return e},ct=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ut=function(t){for(var e=(t=J(t,nt," ")).length,r="",i=0;i<e;){var n=K(t,i);if("%"===n){if("%"===K(t,i+1)||i+3>e){r+="%",i++;continue}var s=ot(t,i+1);if(s!=s){r+=n,i++;continue}i+=2;var o=at(s);if(0===o)n=X(s);else{if(1===o||o>4){r+="�",i++;continue}for(var a=[s],c=1;c<o&&!(3+ ++i>e||"%"!==K(t,i));){var u=ot(t,i+1);if(u!=u){i+=3;break}if(u>191||u<128)break;Z(a,u),i+=2,c++}if(a.length!==o){r+="�";continue}var h=ct(a);null===h?r+="�":n=q(h)}}r+=n,i++}return r},ht=/[!'()~]|%20/g,lt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ft=function(t){return lt[t]},dt=function(t){return J(H(t),ht,ft)},pt=m((function(t,e){F(this,{type:I,target:V(t).entries,index:0,kind:e})}),B,(function(){var t=U(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,A(void 0,!0);var i=e[r];switch(t.kind){case"keys":return A(i.key,!1);case"values":return A(i.value,!1)}return A([i.key,i.value],!1)}),!0),mt=function(t){this.entries=[],this.url=null,void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?rt(t,1):t:R(t)))};mt.prototype={type:B,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,i,n,s,o,c,u=this.entries,h=L(t);if(h)for(r=(e=C(t,h)).next;!(i=a(r,e)).done;){if(s=(n=C(x(i.value))).next,(o=a(s,n)).done||(c=a(s,n)).done||!a(s,n).done)throw new z("Expected sequence with length 2");Z(u,{key:R(o.value),value:R(c.value)})}else for(var l in t)_(t,l)&&Z(u,{key:l,value:R(t[l])})},parseQuery:function(t){if(t)for(var e,r,i=this.entries,n=et(t,"&"),s=0;s<n.length;)(e=n[s++]).length&&(r=et(e,"="),Z(i,{key:ut(Q(r)),value:ut(Y(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],i=0;i<e.length;)t=e[i++],Z(r,dt(t.key)+"="+dt(t.value));return Y(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var vt=function(){g(this,gt);var t=F(this,new mt(arguments.length>0?arguments[0]:void 0));u||(this.size=t.entries.length)},gt=vt.prototype;if(d(gt,{append:function(t,e){var r=V(this);k(arguments.length,2),Z(r.entries,{key:R(t),value:R(e)}),u||this.length++,r.updateURL()},delete:function(t){for(var e=V(this),r=k(arguments.length,1),i=e.entries,n=R(t),s=r<2?void 0:arguments[1],o=void 0===s?s:R(s),a=0;a<i.length;){var c=i[a];if(c.key!==n||void 0!==o&&c.value!==o)a++;else if(tt(i,a,1),void 0!==o)break}u||(this.size=i.length),e.updateURL()},get:function(t){var e=V(this).entries;k(arguments.length,1);for(var r=R(t),i=0;i<e.length;i++)if(e[i].key===r)return e[i].value;return null},getAll:function(t){var e=V(this).entries;k(arguments.length,1);for(var r=R(t),i=[],n=0;n<e.length;n++)e[n].key===r&&Z(i,e[n].value);return i},has:function(t){for(var e=V(this).entries,r=k(arguments.length,1),i=R(t),n=r<2?void 0:arguments[1],s=void 0===n?n:R(n),o=0;o<e.length;){var a=e[o++];if(a.key===i&&(void 0===s||a.value===s))return!0}return!1},set:function(t,e){var r=V(this);k(arguments.length,1);for(var i,n=r.entries,s=!1,o=R(t),a=R(e),c=0;c<n.length;c++)(i=n[c]).key===o&&(s?tt(n,c--,1):(s=!0,i.value=a));s||Z(n,{key:o,value:a}),u||(this.size=n.length),r.updateURL()},sort:function(){var t=V(this);O(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=V(this).entries,i=w(t,arguments.length>1?arguments[1]:void 0),n=0;n<r.length;)i((e=r[n++]).value,e.key,this)},keys:function(){return new pt(this,"keys")},values:function(){return new pt(this,"values")},entries:function(){return new pt(this,"entries")}},{enumerable:!0}),l(gt,M,gt.entries,{name:"entries"}),l(gt,"toString",(function(){return V(this).serialize()}),{enumerable:!0}),u&&f(gt,"size",{get:function(){return V(this).entries.length},configurable:!0,enumerable:!0}),p(vt,B),i({global:!0,constructor:!0,forced:!h},{URLSearchParams:vt}),!h&&b(G)){var bt=c(W.has),_t=c(W.set),wt=function(t){if(E(t)){var e,r=t.body;if(y(r)===B)return e=t.headers?new G(t.headers):new G,bt(e,"content-type")||_t(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(t,{body:S(0,R(r)),headers:S(0,e)})}return t};if(b(N)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return N(t,arguments.length>1?wt(arguments[1]):{})}}),b(D)){var yt=function(t){return g(this,j),new D(t,arguments.length>1?wt(arguments[1]):{})};j.constructor=yt,yt.prototype=j,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:yt})}}t.exports={URLSearchParams:vt,getState:V}},5042:()=>{},7649:()=>{},6299:(t,e,r)=>{"use strict";r(7105)},3604:()=>{},8669:(t,e,r)=>{"use strict";var i=r(1091),n=r(5582),s=r(8828),o=r(4787),a=r(160),c=r(4791),u=n("URL"),h=c&&s((function(){u.canParse()})),l=s((function(){return 1!==u.canParse.length}));i({target:"URL",stat:!0,forced:!h||l},{canParse:function(t){var e=o(arguments.length,1),r=a(t),i=e<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new u(r,i)}catch(t){return!1}}})},6909:(t,e,r)=>{"use strict";r(7057);var i,n=r(1091),s=r(9447),o=r(4791),a=r(5951),c=r(8311),u=r(1907),h=r(8055),l=r(9251),f=r(9596),d=r(9724),p=r(9538),m=r(1229),v=r(3427),g=r(1470).codeAt,b=r(9156),_=r(160),w=r(4840),y=r(4787),x=r(7105),E=r(4932),R=E.set,T=E.getterFor("URL"),S=x.URLSearchParams,C=x.getState,L=a.URL,A=a.TypeError,k=a.parseInt,P=Math.floor,O=Math.pow,M=u("".charAt),B=u(/./.exec),I=u([].join),F=u(1..toString),V=u([].pop),U=u([].push),N=u("".replace),D=u([].shift),G=u("".split),j=u("".slice),W=u("".toLowerCase),z=u([].unshift),H="Invalid scheme",X="Invalid host",q="Invalid port",$=/[a-z]/i,K=/[\d+-.a-z]/i,Y=/\d/,Z=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,it=/^[\u0000-\u0020]+/,nt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,st=/[\t\n\r]/g,ot=function(t){var e,r,i,n;if("number"==typeof t){for(e=[],r=0;r<4;r++)z(e,t%256),t=P(t/256);return I(e,".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,r=1,i=null,n=0,s=0;s<8;s++)0!==t[s]?(n>r&&(e=i,r=n),i=null,n=0):(null===i&&(i=s),++n);return n>r?i:e}(t),r=0;r<8;r++)n&&0===t[r]||(n&&(n=!1),i===r?(e+=r?":":"::",n=!0):(e+=F(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},at={},ct=p({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ut=p({},ct,{"#":1,"?":1,"{":1,"}":1}),ht=p({},ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lt=function(t,e){var r=g(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var r;return 2===t.length&&B($,M(t,0))&&(":"===(r=M(t,1))||!e&&"|"===r)},pt=function(t){var e;return t.length>1&&dt(j(t,0,2))&&(2===t.length||"/"===(e=M(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){return"."===t||"%2e"===W(t)},vt={},gt={},bt={},_t={},wt={},yt={},xt={},Et={},Rt={},Tt={},St={},Ct={},Lt={},At={},kt={},Pt={},Ot={},Mt={},Bt={},It={},Ft={},Vt=function(t,e,r){var i,n,s,o=_(t);if(e){if(n=this.parse(o))throw new A(n);this.searchParams=null}else{if(void 0!==r&&(i=new Vt(r,!0)),n=this.parse(o,null,i))throw new A(n);(s=C(new S)).bindURL(this),this.searchParams=s}};Vt.prototype={type:"URL",parse:function(t,e,r){var n,s,o,a,c,u=this,h=e||vt,l=0,f="",p=!1,g=!1,b=!1;for(t=_(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=N(t,it,""),t=N(t,nt,"$1")),t=N(t,st,""),n=m(t);l<=n.length;){switch(s=n[l],h){case vt:if(!s||!B($,s)){if(e)return H;h=bt;continue}f+=W(s),h=gt;break;case gt:if(s&&(B(K,s)||"+"===s||"-"===s||"."===s))f+=W(s);else{if(":"!==s){if(e)return H;f="",h=bt,l=0;continue}if(e&&(u.isSpecial()!==d(ft,f)||"file"===f&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&ft[u.scheme]===u.port&&(u.port=null));f="","file"===u.scheme?h=At:u.isSpecial()&&r&&r.scheme===u.scheme?h=_t:u.isSpecial()?h=Et:"/"===n[l+1]?(h=wt,l++):(u.cannotBeABaseURL=!0,U(u.path,""),h=Bt)}break;case bt:if(!r||r.cannotBeABaseURL&&"#"!==s)return H;if(r.cannotBeABaseURL&&"#"===s){u.scheme=r.scheme,u.path=v(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,h=Ft;break}h="file"===r.scheme?At:yt;continue;case _t:if("/"!==s||"/"!==n[l+1]){h=yt;continue}h=Rt,l++;break;case wt:if("/"===s){h=Tt;break}h=Mt;continue;case yt:if(u.scheme=r.scheme,s===i)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query;else if("/"===s||"\\"===s&&u.isSpecial())h=xt;else if("?"===s)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query="",h=It;else{if("#"!==s){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.path.length--,h=Mt;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query,u.fragment="",h=Ft}break;case xt:if(!u.isSpecial()||"/"!==s&&"\\"!==s){if("/"!==s){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,h=Mt;continue}h=Tt}else h=Rt;break;case Et:if(h=Rt,"/"!==s||"/"!==M(f,l+1))continue;l++;break;case Rt:if("/"!==s&&"\\"!==s){h=Tt;continue}break;case Tt:if("@"===s){p&&(f="%40"+f),p=!0,o=m(f);for(var w=0;w<o.length;w++){var y=o[w];if(":"!==y||b){var x=lt(y,ht);b?u.password+=x:u.username+=x}else b=!0}f=""}else if(s===i||"/"===s||"?"===s||"#"===s||"\\"===s&&u.isSpecial()){if(p&&""===f)return"Invalid authority";l-=m(f).length+1,f="",h=St}else f+=s;break;case St:case Ct:if(e&&"file"===u.scheme){h=Pt;continue}if(":"!==s||g){if(s===i||"/"===s||"?"===s||"#"===s||"\\"===s&&u.isSpecial()){if(u.isSpecial()&&""===f)return X;if(e&&""===f&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(f))return a;if(f="",h=Ot,e)return;continue}"["===s?g=!0:"]"===s&&(g=!1),f+=s}else{if(""===f)return X;if(a=u.parseHost(f))return a;if(f="",h=Lt,e===Ct)return}break;case Lt:if(!B(Y,s)){if(s===i||"/"===s||"?"===s||"#"===s||"\\"===s&&u.isSpecial()||e){if(""!==f){var E=k(f,10);if(E>65535)return q;u.port=u.isSpecial()&&E===ft[u.scheme]?null:E,f=""}if(e)return;h=Ot;continue}return q}f+=s;break;case At:if(u.scheme="file","/"===s||"\\"===s)h=kt;else{if(!r||"file"!==r.scheme){h=Mt;continue}switch(s){case i:u.host=r.host,u.path=v(r.path),u.query=r.query;break;case"?":u.host=r.host,u.path=v(r.path),u.query="",h=It;break;case"#":u.host=r.host,u.path=v(r.path),u.query=r.query,u.fragment="",h=Ft;break;default:pt(I(v(n,l),""))||(u.host=r.host,u.path=v(r.path),u.shortenPath()),h=Mt;continue}}break;case kt:if("/"===s||"\\"===s){h=Pt;break}r&&"file"===r.scheme&&!pt(I(v(n,l),""))&&(dt(r.path[0],!0)?U(u.path,r.path[0]):u.host=r.host),h=Mt;continue;case Pt:if(s===i||"/"===s||"\\"===s||"?"===s||"#"===s){if(!e&&dt(f))h=Mt;else if(""===f){if(u.host="",e)return;h=Ot}else{if(a=u.parseHost(f))return a;if("localhost"===u.host&&(u.host=""),e)return;f="",h=Ot}continue}f+=s;break;case Ot:if(u.isSpecial()){if(h=Mt,"/"!==s&&"\\"!==s)continue}else if(e||"?"!==s)if(e||"#"!==s){if(s!==i&&(h=Mt,"/"!==s))continue}else u.fragment="",h=Ft;else u.query="",h=It;break;case Mt:if(s===i||"/"===s||"\\"===s&&u.isSpecial()||!e&&("?"===s||"#"===s)){if(".."===(c=W(c=f))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"===s||"\\"===s&&u.isSpecial()||U(u.path,"")):mt(f)?"/"===s||"\\"===s&&u.isSpecial()||U(u.path,""):("file"===u.scheme&&!u.path.length&&dt(f)&&(u.host&&(u.host=""),f=M(f,0)+":"),U(u.path,f)),f="","file"===u.scheme&&(s===i||"?"===s||"#"===s))for(;u.path.length>1&&""===u.path[0];)D(u.path);"?"===s?(u.query="",h=It):"#"===s&&(u.fragment="",h=Ft)}else f+=lt(s,ut);break;case Bt:"?"===s?(u.query="",h=It):"#"===s?(u.fragment="",h=Ft):s!==i&&(u.path[0]+=lt(s,at));break;case It:e||"#"!==s?s!==i&&("'"===s&&u.isSpecial()?u.query+="%27":u.query+="#"===s?"%23":lt(s,at)):(u.fragment="",h=Ft);break;case Ft:s!==i&&(u.fragment+=lt(s,ct))}l++}},parseHost:function(t){var e,r,i;if("["===M(t,0)){if("]"!==M(t,t.length-1))return X;if(e=function(t){var e,r,i,n,s,o,a,c=[0,0,0,0,0,0,0,0],u=0,h=null,l=0,f=function(){return M(t,l)};if(":"===f()){if(":"!==M(t,1))return;l+=2,h=++u}for(;f();){if(8===u)return;if(":"!==f()){for(e=r=0;r<4&&B(tt,f());)e=16*e+k(f(),16),l++,r++;if("."===f()){if(0===r)return;if(l-=r,u>6)return;for(i=0;f();){if(n=null,i>0){if(!("."===f()&&i<4))return;l++}if(!B(Y,f()))return;for(;B(Y,f());){if(s=k(f(),10),null===n)n=s;else{if(0===n)return;n=10*n+s}if(n>255)return;l++}c[u]=256*c[u]+n,2!=++i&&4!==i||u++}if(4!==i)return;break}if(":"===f()){if(l++,!f())return}else if(f())return;c[u++]=e}else{if(null!==h)return;l++,h=++u}}if(null!==h)for(o=u-h,u=7;0!==u&&o>0;)a=c[u],c[u--]=c[h+o-1],c[h+--o]=a;else if(8!==u)return;return c}(j(t,1,-1)),!e)return X;this.host=e}else if(this.isSpecial()){if(t=b(t),B(et,t))return X;if(e=function(t){var e,r,i,n,s,o,a,c=G(t,".");if(c.length&&""===c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],i=0;i<e;i++){if(""===(n=c[i]))return t;if(s=10,n.length>1&&"0"===M(n,0)&&(s=B(Z,n)?16:8,n=j(n,8===s?1:2)),""===n)o=0;else{if(!B(10===s?Q:8===s?J:tt,n))return t;o=k(n,s)}U(r,o)}for(i=0;i<e;i++)if(o=r[i],i===e-1){if(o>=O(256,5-e))return null}else if(o>255)return null;for(a=V(r),i=0;i<r.length;i++)a+=r[i]*O(256,3-i);return a}(t),null===e)return X;this.host=e}else{if(B(rt,t))return X;for(e="",r=m(t),i=0;i<r.length;i++)e+=lt(r[i],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,i=t.password,n=t.host,s=t.port,o=t.path,a=t.query,c=t.fragment,u=e+":";return null!==n?(u+="//",t.includesCredentials()&&(u+=r+(i?":"+i:"")+"@"),u+=ot(n),null!==s&&(u+=":"+s)):"file"===e&&(u+="//"),u+=t.cannotBeABaseURL?o[0]:o.length?"/"+I(o,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw new A(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Ut(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(_(t)+":",vt)},getUsername:function(){return this.username},setUsername:function(t){var e=m(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=lt(e[r],ht)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=lt(e[r],ht)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,St)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ct)},getPort:function(){var t=this.port;return null===t?"":_(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=_(t))?this.port=null:this.parse(t,Lt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+I(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ot))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=_(t))?this.query=null:("?"===M(t,0)&&(t=j(t,1)),this.query="",this.parse(t,It)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=_(t))?("#"===M(t,0)&&(t=j(t,1)),this.fragment="",this.parse(t,Ft)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ut=function(t){var e=f(this,Nt),r=y(arguments.length,1)>1?arguments[1]:void 0,i=R(e,new Vt(t,!1,r));s||(e.href=i.serialize(),e.origin=i.getOrigin(),e.protocol=i.getProtocol(),e.username=i.getUsername(),e.password=i.getPassword(),e.host=i.getHost(),e.hostname=i.getHostname(),e.port=i.getPort(),e.pathname=i.getPathname(),e.search=i.getSearch(),e.searchParams=i.getSearchParams(),e.hash=i.getHash())},Nt=Ut.prototype,Dt=function(t,e){return{get:function(){return T(this)[t]()},set:e&&function(t){return T(this)[e](t)},configurable:!0,enumerable:!0}};if(s&&(l(Nt,"href",Dt("serialize","setHref")),l(Nt,"origin",Dt("getOrigin")),l(Nt,"protocol",Dt("getProtocol","setProtocol")),l(Nt,"username",Dt("getUsername","setUsername")),l(Nt,"password",Dt("getPassword","setPassword")),l(Nt,"host",Dt("getHost","setHost")),l(Nt,"hostname",Dt("getHostname","setHostname")),l(Nt,"port",Dt("getPort","setPort")),l(Nt,"pathname",Dt("getPathname","setPathname")),l(Nt,"search",Dt("getSearch","setSearch")),l(Nt,"searchParams",Dt("getSearchParams")),l(Nt,"hash",Dt("getHash","setHash"))),h(Nt,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),h(Nt,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),L){var Gt=L.createObjectURL,jt=L.revokeObjectURL;Gt&&h(Ut,"createObjectURL",c(Gt,L)),jt&&h(Ut,"revokeObjectURL",c(jt,L))}w(Ut,"URL"),n({global:!0,constructor:!0,forced:!o,sham:!s},{URL:Ut})},3487:(t,e,r)=>{"use strict";r(6909)},8670:(t,e,r)=>{"use strict";var i=r(1091),n=r(5582),s=r(4787),o=r(160),a=r(4791),c=n("URL");i({target:"URL",stat:!0,forced:!a},{parse:function(t){var e=s(arguments.length,1),r=o(t),i=e<2||void 0===arguments[1]?void 0:o(arguments[1]);try{return new c(r,i)}catch(t){return null}}})},4783:()=>{},2222:(t,e,r)=>{"use strict";var i=r(6823);t.exports=i},8251:(t,e,r)=>{"use strict";var i=r(1926);t.exports=i},4139:(t,e,r)=>{"use strict";var i=r(3842);r(2560),t.exports=i},7045:(t,e,r)=>{"use strict";var i=r(1730);r(2560),t.exports=i},70:(t,e,r)=>{"use strict";var i=r(1661);t.exports=i},9792:(t,e,r)=>{"use strict";var i=r(6908);t.exports=i},9076:(t,e,r)=>{"use strict";r(6299),r(5042),r(7649),r(3604);var i=r(2046);t.exports=i.URLSearchParams},6908:(t,e,r)=>{"use strict";r(9076),r(3487),r(8669),r(8670),r(4783);var i=r(2046);t.exports=i.URL}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{"use strict";r.d(i,{default:()=>de});var t,e=r(6984),n=r.n(e);!function(t){t.VB_INIT_SUCCESS="VB_INIT_SUCCESS",t.VB_INIT_FAILED="VB_INIT_FAILED",t.VB_GENERATED_FRAME="VB_GENERATED_FRAME",t.VB_SEND_FRAME="VB_SEND_FRAME",t.VB_UPDATE_BG="VB_UPDATE_BG",t.VB_PREDICT_DONE="VB_PREDICT_DONE",t.VB_MODEL_READY="VB_MODEL_READY",t.VB_FREE_MEMORY="VB_FREE_MEMORY",t.VB_VIDEO_FORMAT_UNSUPPORTED="VB_VIDEO_FORMAT_UNSUPPORTED",t.VB_WORKER_INIT="VB_WORKER_INIT",t.VB_WORKER_ERROR="VB_WORKER_ERROR",t.VB_RENDER_CANVAS="VB_RENDER_CANVAS",t.VB_RENDER_FRAME="VB_RENDER_FRAME",t.VB_START="VB_START",t.VB_REQUEST_FRAME="VB_REQUEST_FRAME",t.VB_TOGGLE_VB="VB_TOGGLE_VB",t.VB_STOP="VB_STOP",t.VB_MIRROR="VB_MIRROR",t.VB_GENERATE_STREAM="VB_GENERATE_STREAM",t.VB_STOP_STREAM="VB_STOP_STREAM",t.VB_CHANGE_STREAM_CANVAS_SIZE="VB_CHANGE_STREAM_CANVAS_SIZE",t.VB_GENERATE_FIRST_FRAME="VB_GENERATE_FIRST_FRAME",t.VB_UPDATE_STATS="VB_UPDATE_STATS",t.VB_UPDATE_NEED_FRAME="VB_UPDATE_NEED_FRAME",t.VB_UPDATE_FRAME_RATE="VB_UPDATE_FRAME_RATE",t.VB_RESOLUTION_CHANGE="VB_RESOLUTION_CHANGE",t.VB_GLOBAL_TRACING_LOG="VB_GLOBAL_TRACING_LOG"}(t||(t={}));var s=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};let o=function(){};o.prototype={threads:()=>s(void 0,void 0,void 0,(function*(){return t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),s(void 0,void 0,void 0,(function*(){if(!WebAssembly.validate(t))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),!0}catch(t){return!1}}));var t})),simd:()=>s(void 0,void 0,void 0,(function*(){return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}))};const a=new o,c="UNIFIED_VB_STOP";var u=r(4997),h=r(2321),l=r(2231);function f(t){return f="function"==typeof h&&"symbol"==typeof l?function(t){return typeof t}:function(t){return t&&"function"==typeof h&&t.constructor===h&&t!==h.prototype?"symbol":typeof t},f(t)}var d=r(9280);function p(t,e,r){return(e=function(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[d];if(void 0!==e){var r=e.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}(e))in t?u(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const m=0,v=3,g=(new Map([["useinbandfec",1],["maxaveragebitrate",48e3],["maxplaybackrate",24e3],["sprop-maxcapturerate",24e3],["sprop-stereo",null],["stereo",null]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",128e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",128e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3],["sprop-stereo",1],["stereo",1]]),new Map([["useinbandfec",null],["maxaveragebitrate",96e3],["maxplaybackrate",48e3],["sprop-maxcapturerate",48e3]]),new Map([["useinbandfec",1],["maxaveragebitrate",64e3],["maxplaybackrate",24e3],["sprop-maxcapturerate",24e3],["sprop-stereo",null],["stereo",null]]),new Map([["stereo",1]]),"MEDIASDK_CACHE_INFO"),b=new class{constructor(){this._highFrequencyLogs={},this.fixVersion="",this.cacheLogStack=[],this.isFlushing=!1}setInstance(t,e){this._instance=t,this.fixVersion=e}getMessageFromErrorOrEvent(t,e){let r=t;return e instanceof ErrorEvent?(e.filename&&(r+=" File: ".concat(e.filename)),(e.lineno||e.colno)&&(r+=" Line: ".concat(e.lineno,":").concat(e.colno)),e.message&&(r+=" Message: ".concat(e.message)),e.error&&(r+="\nStack: ".concat(e.error.stack))):e instanceof Error?(e.message&&(r+=" Message: ".concat(e.message)),e.stack&&(r+=" Stack: ".concat(e.stack)),e.name&&(r+=" Name: ".concat(e.name)),e.constraint&&(r+=" Constraint: ".concat(e.constraint))):e instanceof CloseEvent?(e.code&&(r+=" Code: ".concat(e.code)),e.reason&&(r+=" Reason: ".concat(e.reason)),r+=" wasClean: ".concat(e.wasClean)):e instanceof DOMException?(e.message&&(r+=" Message: ".concat(e.message)),e.name&&(r+=" Name: ".concat(e.name))):r+=e?e.toString():"",r}_addCacheLog(t,e){this.cacheLogStack.length<100&&this.cacheLogStack.push({type:t,message:e})}flushCacheLog(){if(this._instance&&this.cacheLogStack.length>0&&!this.isFlushing){this.isFlushing=!0;let t="";this.cacheLogStack.forEach((e=>{let{type:r,message:{message:i="",tags:n=[]}}=e;const s=i?"".concat(n.join("|"),":").concat(i).concat("|----|"):"";switch(r){case"log":this._log(i,[...n,g]);break;case"warn":case"error":case"severityerror":case"directReport":t+=s}})),t&&this._directReport(t,[g]),this.cacheLogStack=[],this.isFlushing=!1}}log(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance?(this.flushCacheLog(),this._log(t,e)):this._addCacheLog("log",{message:t,tags:e})}warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t=this.getMessageFromErrorOrEvent(t,e),this._instance?(this.flushCacheLog(),this._warn(t,r)):this._addCacheLog("warn",{message:t,tags:r})}error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t=this.getMessageFromErrorOrEvent(t,e),this._highFrequencyLogs[t]?this._highFrequencyLogs[t]+=1:this._highFrequencyLogs[t]=1,(t=>!(t&t-1))(this._highFrequencyLogs[t])&&(this._instance?(this.flushCacheLog(),this._error(t,r)):this._addCacheLog("error",{message:t,tags:r}))}severityerror(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance?(this.flushCacheLog(),this._severityerror(JSON.stringify(t),e)):this._addCacheLog("severityerror",{message:JSON.stringify(t),tags:e})}directReport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["MEDIASDK_INFO"];var r;this._instance?(this.flushCacheLog(),null===(r=this._directReport)||void 0===r||r.call(this,t,e)):this._addCacheLog("directReport",{message:t,tags:e})}_log(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.log(t,e)}_warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.warn(t,e)}_error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.error(t,[this.fixVersion,...e])}_severityerror(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._instance&&this._instance.error(t,e)}_directReport(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var r,i;this._instance&&(null===(i=(r=this._instance).directReport)||void 0===i||i.call(r,{msg:t},e))}clearHighFrequencyLogs(){this._highFrequencyLogs={}}};var _=r(7201),w=r.n(_);new Error;const y=new Map;function x(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";return t?w()(e=t.toString()).call(e,/[,，]/g,r):""}const E="function"!=typeof importScripts;function R(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;E?b.error(t,e):function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i;if(e instanceof Error||e instanceof ErrorEvent){const n=e;t+=" Code: "+(null==n?void 0:n.code)+" Message: "+(null==e?void 0:e.message)+" Stack: "+(null!==(i=null===(r=null==n?void 0:n.error)||void 0===r?void 0:r.stack)&&void 0!==i?i:null==n?void 0:n.stack),e=null}postMessage({status:61,errorMessage:t,errorEvent:e})}(t,e)}function T(t){E?function(t,e){if(!function(t){const e=performance.now();return(!y.has(t)||e-y.get(t)>5e3)&&(y.set(t,e),!0)}(t))return;let r;try{r=x("object"==typeof e?JSON.stringify(e):e)}catch(t){r=x(e)}b.error("NotifyUIError,event=".concat(t,",data=").concat(r))}(-51,t):postMessage({status:-27,where:t})}function S(t){postMessage({status:61,errorMessage:t,level:"low"})}const C=["","MOZ_","OP_","WEBKIT_"];function L(t,e){for(var r=0;r<C.length;++r){var i=C[r]+e,n=t.getExtension(i);if(n)return n}}new Map,new class{constructor(){this.ssrcInfoMap=new Map,this.timer=null}updateSSRCInfo(t,e){this.ssrcInfoMap.has(t)||this.ssrcInfoMap.set(t,{firstTime:0,lastTime:0,frames:0,fps:0}),this._calculateFPS(t,e),this._removeZeroFPS()}_calculateFPS(t,e){const r=this.ssrcInfoMap.get(t);if(0===r.frames?r.firstTime=e:r.lastTime=e,r.frames+=1,r.frames>2&&r.frames%5==0&&r.lastTime-r.firstTime>=1e3){const e=Math.floor(1e3/((r.lastTime-r.firstTime)/(r.frames-1)));r.fps!==e&&(this._notifyFPS(t,e),r.fps=e),r.firstTime=r.lastTime,r.frames=1}}_removeZeroFPS(){let t=Date.now();this.ssrcInfoMap.forEach(((e,r)=>{const i=this.ssrcInfoMap.get(r);i&&i.lastTime&&t-i.lastTime>2e3&&(this.ssrcInfoMap.delete(r),this._notifyFPS(r,0))}))}_notifyFPS(t,e){postMessage({status:66.6,data:{ssrc:t,fps:e}})}_checkIfNewFrameComing(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this._removeZeroFPS(),this.timer=null}),2500)}},new class{constructor(){this.ssrcInfoMap=new Map,this.timer=null}updateSSRCInfo(t,e){this.ssrcInfoMap.has(t)||this.ssrcInfoMap.set(t,{timeList:[],lastTime:0,fps:0}),this._calculateFPS(t,e),this._removeZeroFPS(),this._checkIfNewFrameComing()}_calculateFPS(t,e){const r=this.ssrcInfoMap.get(t);if(r.timeList.push(e),r.lastTime=e,r.timeList.length>2){const e=r.timeList[0],i=r.timeList[r.timeList.length-1];if(i-e>=1e3){const n=Math.floor(1e3/((i-e)/(r.timeList.length-1)));r.fps!==n&&(this._notifyFPS(t,n),r.fps=n),r.timeList=[]}}r.timeList.length>30&&(r.timeList=r.timeList.slice(r.timeList.length-30))}_removeZeroFPS(){this.ssrcInfoMap.forEach(((t,e)=>{const r=this.ssrcInfoMap.get(e);r&&Date.now()-r.lastTime>2e3&&(this.ssrcInfoMap.delete(e),this._notifyFPS(e,0))}))}_notifyFPS(t,e){postMessage({status:66.6,data:{ssrc:t,fps:e}})}_checkIfNewFrameComing(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((()=>{this._removeZeroFPS(),this.timer=null}),2500)}};const A=.005;function k(t,e){const r=Math.pow(10,e);return Math.floor(t*r)/r}function P(t,e){const r=Math.pow(10,e);return Math.ceil(t*r)/r}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}let B=new Map,I=[];function F(t){t.preventDefault()}function V(t,e,r,i,n,s,o){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.canvasElement=t,this.canvasID=e,this.contextOptions=n,this.textureindex=r||0,this.initmask=!!o,this.isEnableCanvasAlphaChannel=a,V.prototype.ROTATION_CLOCK0=0,V.prototype.ROTATION_CLOCK90=1,V.prototype.ROTATION_CLOCK180=2,V.prototype.ROTATION_CLOCK270=3,this.webGLResources=s,s||(this.initContextGL(),this.contextGL&&(this.webGLContextLostProtect(),this.contextGL.isContextLost()&&this.restoreContext())),this.webglVertexPos=[0,0,0,0],this.webglTexturePos=[0,0,0,0],this.vertexPos=[0,0,0,0],this.texturePos=[0,0,0,0],this.reinit(s);var c=new ArrayBuffer(4);this.dummpyCursor=new Uint8Array(c),this.dummpyWaterMark=new Uint8Array(c),this.cursorWidth=0,this.cursorHeight=0,this.hasCursor=0,this.lastcursorSyncId=-1,this.hasWaterMark=0,this.watermarkOpacity=.15,this.watermarkWidth=0,this.watermarkHeight=0,this.isMultiView=!1,this.hasWholeFrame=0,this.croppingParams={},this.croppingParams.top=0,this.croppingParams.left=0,this.croppingParams.width=0,this.croppingParams.height=0,this.textureWidth=0,this.textureHeight=0,this.viewWidth=0,this.viewHeight=0,this.picRotation=-1,this.bgColor=[0,0,0],this.cx=0,this.cy=0,this.cw=0,this.ch=0,this.colorRange=-1,this.videoMode=-1,this.rotation=this.ROTATION_CLOCK0,this.fillMode=0,this.fillModeForResolution=0,this.viewPostion=null,this.enable_rounded_corner=0,this.radius_lt_x=0,this.radius_lt_y=0,this.radius_lb_x=0,this.radius_lb_y=0,this.radius_rt_x=0,this.radius_rt_y=0,this.radius_rb_x=0,this.radius_rb_y=0,this.aa_width=A,this.viewport_rect=null}V.prototype.isLocalDisplay=function(){return 0==this.textureindex},V.prototype.reinit=function(t){if(this.webGLResources=t,!this.contextGL||this.contextGL.isContextLost()||this.contextGL.glInitSucceed||this.webGLResources){if(this.webGLResources&&this.webGLResources.contextgl&&!this.webGLResources.contextgl.isContextLost()){this.contextGL=this.webGLResources.contextgl,this.shaderProgram=this.webGLResources.program,this.vertexPosBuffer=this.webGLResources.vBuffer,this.texturePosBuffer=this.webGLResources.tBuffer,this.webglTexturePos=this.webGLResources.webglTexturePos,this.webglVertexPos=this.webGLResources.webglVertexPos,this.initTextures(!1);let t=this.contextGL.getError();this.contextGL.glInitSucceed=t!=this.contextGL.NO_ERROR&&t!=this.contextGL.CONTEXT_LOST_WEBGL?0:1}}else{this.initProgram(),this.initmask?this.initTextures(!1):this.initTextures(!0),this.initBuffers();let t=this.contextGL.getError();this.contextGL.glInitSucceed=t!=this.contextGL.NO_ERROR&&t!=this.contextGL.CONTEXT_LOST_WEBGL?0:1}},V.prototype.webGLContextLostSimulate=function(){const t=L(this.contextGL,"WEBGL_lose_context");null==t||t.loseContext()},V.prototype.restoreContext=function(){if(this.contextGL)try{var t,e;null!==(t=this.canvasElement)&&void 0!==t&&t.loseContextExtension&&!this.canvasElement.restoreTimeoutId&&this.contextGL.isContextLost()&&(this.canvasElement.restoreTimeoutId=setTimeout((()=>{this.canvasElement.reportcontextloss||(this.canvasElement.reportcontextloss=!0,T("WebGLRestoreTimeout")),this.canvasElement.restoreTimeoutId=0}),1500),null===(e=this.canvasElement)||void 0===e||e.loseContextExtension.restoreContext())}catch(t){R("webgl restoreContext exception",t)}},V.prototype.webgGLContextLostCallback=function(t){S("webglcontextlost event: canvas listener size=".concat(I.length,",  canvas id: ").concat(this.canvasID,", , ids:").concat(I.join())),t.preventDefault(),this.contextGL.glInitSucceed=0,this.contextOptions&&this.contextOptions.webglcontextlostCallback&&this.contextOptions.webglcontextlostCallback(t,this.contextOptions.params)},V.prototype.removeEventListener=function(t,e){if(t&&e){t.restoreTimeoutId&&(clearTimeout(t.restoreTimeoutId),t.restoreTimeoutId=void 0),t.removeEventListener("webglcontextlost",e.contextLostHandler),t.removeEventListener("webglcontextrestored",e.contextRestoredHandler);const r=I.indexOf(this.canvasID);I.splice(r,1),B.delete(t)}},V.prototype.webGLContextRestoredCallback=function(t){var e,r;S("webglcontextrestored event from canvas id: ".concat(this.canvasID)),this.canvasElement.restoreTimeoutId&&(clearTimeout(this.canvasElement.restoreTimeoutId),this.canvasElement.restoreTimeoutId=void 0),this.webglVertexPos=[0,0,0,0],this.webglTexturePos=[0,0,0,0],this.reinit(),null===(e=this.contextOptions)||void 0===e||null===(r=e.webglcontextrestoredCallback)||void 0===r||r.call(e,t,this.contextOptions.params)},V.prototype.webGLContextLostProtect=function(){this.canvasElement&&!this.canvasElement.loseContextExtension&&(this.canvasElement.loseContextExtension=L(this.contextGL,"WEBGL_lose_context"));let t=this.canvasElement,e=B.get(t);e&&this.removeEventListener(t,e),B.set(t,this),this.contextLostHandler=this.webgGLContextLostCallback.bind(this),this.contextRestoredHandler=this.webGLContextRestoredCallback.bind(this),t.addEventListener("webglcontextlost",this.contextLostHandler,{capture:!1}),t.addEventListener("webglcontextrestored",this.contextRestoredHandler,{capture:!1}),-1===I.indexOf(this.canvasID)&&(I.push(this.canvasID),I.length>4&&S("webglcanvas listener size=".concat(I.length,", ids:").concat(I.join())))},V.prototype.isWebGL=function(){return this.contextGL},V.prototype.isAvaiable=function(){return this.contextGL&&!this.contextGL.isContextLost()&&this.contextGL.glInitSucceed},V.prototype.initContextGL=function(){for(var t,e,r,i=this.canvasElement,n=null,s=["webgl","experimental-webgl","moz-webgl","webkit-3d"],o=0;!n&&o<s.length;){var a=s[o];try{if((void 0).config.isEnableCanvasCtxOptionsOpt()){let t={depth:!1,stencil:!1,antialias:!1,alpha:this.isEnableCanvasAlphaChannel};if(this.contextOptions){let e=M(M({},this.contextOptions),t);n=i.getContext(a,e)}else n=i.getContext(a,t)}else n=this.contextOptions?i.getContext(a,this.contextOptions):i.getContext(a)}catch(t){n=null}n&&"function"==typeof n.getParameter||(n=null),++o}if(this.contextGL=n,!n||n.isContextLost())return R("Failed when trying to get WebGLContext on canvas(".concat(null===(t=this.canvasElement)||void 0===t?void 0:t.width,",").concat(null===(e=this.canvasElement)||void 0===e?void 0:e.height,"), gl=").concat(n,", lost=").concat(null===(r=n)||void 0===r?void 0:r.isContextLost())),void T("InitWebGLFail");n.glInitSucceed=0},V.prototype.initProgram=function(){var t=this.contextGL,e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,"\n    attribute vec4 vertexPos;\n    attribute vec4 texturePos;\n    attribute vec4 masktexturePos;\n    varying vec2 textureCoord;\n    varying vec2 masktextureCoord;\n\n    void main() {\n        gl_Position = vertexPos;\n        textureCoord = texturePos.xy;\n        masktextureCoord = masktexturePos.xy;\n    }\n  "),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)||t.isContextLost()||S("webgl Vertex shader failed to compile: "+t.getShaderInfoLog(e));var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,"\n    precision highp float;\n    varying highp vec2 textureCoord;\n    varying highp vec2 masktextureCoord;\n\n    uniform sampler2D ySampler;\n    uniform sampler2D uSampler;\n    uniform sampler2D vSampler;\n    uniform sampler2D cursorSampler;\n    uniform sampler2D waterMarkSampler;\n    uniform sampler2D previewVideoSampler;\n    uniform sampler2D maskSampler;\n\n    uniform vec4 cursorInfo;\n    uniform int onlyRGBA;\n    uniform int bgraMode;\n    uniform int colorRange;\n    uniform int waterMarkFlag;\n    uniform int cursorFlag;\n    uniform int yuvmode;\n\n    const int MAX_ELLIPSE_COUNT = 10;\n    uniform int maskFlag;                       // 0: mask disabled; 1: mask enabled;\n    uniform int maskMode;                       // 0: static mask; 1: dynamic mask;\n    uniform vec4 uEllipses[MAX_ELLIPSE_COUNT];  // each ellipse contains (cx, cy, rx, ry) 4-coords\n    uniform int uEllipseCount;                  // how many ellipses will draw\n\n    // rounded corner feature in gl shader\n    uniform float u_enable_rounded_corner;\n    uniform float u_radius_lt_x;\n    uniform float u_radius_lt_y;\n    uniform float u_radius_lb_x;\n    uniform float u_radius_lb_y;\n    uniform float u_radius_rt_x;\n    uniform float u_radius_rt_y;\n    uniform float u_radius_rb_x;\n    uniform float u_radius_rb_y;\n    uniform float u_aa_width;\n    uniform vec4 u_viewport_rect;\n\n    const mat4 YUV2RGB_L = mat4(\n      1.1643828125, 0, 1.59602734375, -0.87078515625,\n      1.1643828125, -0.39176171875, -0.81296875, 0.52959375,\n      1.1643828125, 2.017234375, 0, -1.081390625,\n      0, 0, 0, 1\n    );\n\n    const mat4 YUV2RGB_F = mat4(\n      1.0, 0, 1.402, -0.701,\n      1.0, -0.34413, -0.71414, 0.529135,\n      1.0, 1.772, 0, -0.886,\n      0, 0, 0, 1\n    );\n\n    void main(void) {\n      vec4 c;\n      if (waterMarkFlag != 1) {\n        if (onlyRGBA == 0) {\n          highp float y = texture2D(ySampler, textureCoord).r;\n          highp float u;\n          highp float v;\n\n          if (yuvmode == 1) {\n            u = texture2D(uSampler, textureCoord).r;\n            v = texture2D(vSampler, textureCoord).r;\n          } else {\n            u = texture2D(uSampler, textureCoord).r;\n            v = texture2D(uSampler, textureCoord).a;\n          }\n\n          if (colorRange == 0) {\n            c = vec4(y, u, v, 1) * YUV2RGB_L;\n          } else {\n            c = vec4(y, u, v, 1) * YUV2RGB_F;\n          }\n\n          if (cursorFlag == 1) {\n            if (cursorInfo.z > 0.0 &&\n                textureCoord.x >= cursorInfo.x &&\n                textureCoord.y >= cursorInfo.y &&\n                textureCoord.x < cursorInfo.x + cursorInfo.z &&\n                textureCoord.y < cursorInfo.y + cursorInfo.w) {\n\n              vec2 cursorCoord = textureCoord - cursorInfo.xy;\n              cursorCoord /= cursorInfo.zw;\n              vec4 cursor = texture2D(cursorSampler, cursorCoord);\n              c = c * (1.0 - cursor.a) + cursor * cursor.a;\n            }\n          }\n        } else {\n          c = texture2D(previewVideoSampler, textureCoord);\n          if (bgraMode == 1) {\n            c = vec4(c.b, c.g, c.r, c.a);\n          }\n        }\n      } else {\n        c = texture2D(waterMarkSampler, textureCoord);\n        if (c.r == 0.0 && c.g == 0.0 && c.b == 0.0) {\n          c.a = 0.0;\n        }\n      }\n\n      if (maskFlag == 1 && waterMarkFlag != 1) {\n        vec4 mask = texture2D(maskSampler, masktextureCoord);\n        if (maskMode == 0) {\n          // -- handle static mask --\n          if (mask.r != 0.0 || mask.g != 0.0 || mask.b != 0.0) {\n            c = mask * mask.a + c * (1.0 - mask.a);\n          }\n        } else if (maskMode == 1) {\n          // -- handle dynamic mask --\n          bool inEllipse = false; // variable for checking whether the pixel to be drawn hits ellipse\n          for (int i = 0; i < MAX_ELLIPSE_COUNT; i++) {\n            if (i > uEllipseCount) break;\n\n            vec2 ellipseCenter = uEllipses[i].xy;\n            vec2 ellipseRadii = uEllipses[i].zw;\n            vec2 ellipsePos = masktextureCoord - ellipseCenter;\n\n            float ellipseEq = (ellipsePos.x * ellipsePos.x) / (ellipseRadii.x * ellipseRadii.x) +\n                              (ellipsePos.y * ellipsePos.y) / (ellipseRadii.y * ellipseRadii.y);\n            if (ellipseEq <= 1.0) {\n              // the pixel in the ellipse range\n              inEllipse = true;\n              break;\n            }\n          }\n\n          if (inEllipse) {\n            c = mask * mask.a + c * (1.0 - mask.a);\n          }\n        }\n      }\n\n      if (waterMarkFlag != 1) {\n        c.a = 1.0;\n      }\n\n      if (u_enable_rounded_corner < 0.5) {\n        gl_FragColor = c;\n        return;\n      }\n\n      // step 1: viewport coordinate mapping\n      // convert the fragment coordinate(canvas coordinate) to the viewport coordinate\n      // for example, a viewport={x: 100, y: 100, w: 200, h: 160}, a fragCoord.xy={x:120, y: 120}\n      // we can get the pos={x: 20, y: 20}\n      vec2 pos = gl_FragCoord.xy - u_viewport_rect.xy;\n      vec2 viewportSize = u_viewport_rect.zw;\n\n      // convert the normalized radius to pixel value\n      float r_lt_x = u_radius_lt_x * viewportSize.x;\n      float r_lt_y = u_radius_lt_y * viewportSize.y;\n      float r_rt_x = u_radius_rt_x * viewportSize.x;\n      float r_rt_y = u_radius_rt_y * viewportSize.y;\n      float r_lb_x = u_radius_lb_x * viewportSize.x;\n      float r_lb_y = u_radius_lb_y * viewportSize.y;\n      float r_rb_x = u_radius_rb_x * viewportSize.x;\n      float r_rb_y = u_radius_rb_y * viewportSize.y;\n\n      // step 2: calculate the rounded corner mask (as alpha)\n      float alpha = 1.0;\n\n      // --- calculation of the left-top corner ---\n      // Condition: if (pos.x < r_lt_x && pos.y < r_lt_y)\n      float in_lt = (1.0 - step(r_lt_x, pos.x)) * (1.0 - step(r_lt_y, pos.y));\n      // the circle center of the left-top corner in pixel coordinate\n      vec2 center_lt = vec2(r_lt_x, r_lt_y);\n      // calculate and normalize the distance between the fragment and the center\n      vec2 diff_lt = (pos - center_lt) / vec2(r_lt_x, r_lt_y);\n      float normDist_lt = length(diff_lt);\n      // smoothstep function is used to calculate the alpha value\n      float mask_lt = 1.0 - smoothstep(1.0 - u_aa_width, 1.0, normDist_lt);\n      float final_lt = mix(1.0, mask_lt, in_lt);\n\n      // --- calculation of the right-top corner ---\n      float in_rt = (1.0 - step(r_rt_x, viewportSize.x - pos.x)) * (1.0 - step(r_rt_y, pos.y));\n      vec2 center_rt = vec2(viewportSize.x - r_rt_x, r_rt_y);\n      vec2 diff_rt = (pos - center_rt) / vec2(r_rt_x, r_rt_y);\n      float normDist_rt = length(diff_rt);\n      float mask_rt = 1.0 - smoothstep(1.0 - u_aa_width, 1.0, normDist_rt);\n      float final_rt = mix(1.0, mask_rt, in_rt);\n\n      // --- calculation of the left-bottom corner ---\n      float in_lb = (1.0 - step(r_lb_x, pos.x)) * (1.0 - step(r_lb_y, viewportSize.y - pos.y));\n      vec2 center_lb = vec2(r_lb_x, viewportSize.y - r_lb_y);\n      vec2 diff_lb = (pos - center_lb) / vec2(r_lb_x, r_lb_y);\n      float normDist_lb = length(diff_lb);\n      float mask_lb = 1.0 - smoothstep(1.0 - u_aa_width, 1.0, normDist_lb);\n      float final_lb = mix(1.0, mask_lb, in_lb);\n\n      // --- calculation of the right-bottom corner ---\n      float in_rb = (1.0 - step(r_rb_x, viewportSize.x - pos.x)) * (1.0 - step(r_rb_y, viewportSize.y - pos.y));\n      vec2 center_rb = vec2(viewportSize.x - r_rb_x, viewportSize.y - r_rb_y);\n      vec2 diff_rb = (pos - center_rb) / vec2(r_rb_x, r_rb_y);\n      float normDist_rb = length(diff_rb);\n      float mask_rb = 1.0 - smoothstep(1.0 - u_aa_width, 1.0, normDist_rb);\n      float final_rb = mix(1.0, mask_rb, in_rb);\n\n      // Get the minimum value from the four corners (to ensure that if any corner requires transparency it is applied)\n      float finalAlpha = min(min(final_lt, final_rt), min(final_lb, final_rb));\n\n      // Final output color\n      gl_FragColor = vec4(c.rgb, c.a * finalAlpha);\n    }\n"),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||t.isContextLost()||S("webgl Fragment shader failed to compile: "+t.getShaderInfoLog(r));var i=t.createProgram();t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||t.isContextLost()||S("webgl Program failed to compile: "+t.getProgramInfoLog(i)),t.useProgram(i),this.shaderProgram=i},V.prototype.initBuffers=function(){var t=this.contextGL,e=this.shaderProgram,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1,1,1,-1,1,1,-1,-1,-1]),t.STATIC_DRAW);var i=t.getAttribLocation(e,"vertexPos");t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),this.vertexPosBuffer=r;var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1,1,0,0,0,1,1,0,1]),t.STATIC_DRAW);var s=t.getAttribLocation(e,"texturePos");if(t.enableVertexAttribArray(s),t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),this.initmask&&!this.masktexturePosBuffer){var o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),t.STATIC_DRAW);var a=t.getAttribLocation(e,"masktexturePos");t.enableVertexAttribArray(a),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),this.masktexturePosBuffer=o}this.texturePosBuffer=n},V.prototype.initTextures=function(t){var e=this.contextGL,r=this.shaderProgram;e.pixelStorei(e.UNPACK_ALIGNMENT,1);var i=this.initTexture();this.yTextureRef=i,this.oyTextureRef=i;var n=this.initTexture();this.uTextureRef=n,this.ouTextureRef=n;var s=this.initTexture();this.vTextureRef=s,this.ovTextureRef=s,t&&this.BindTextures(1),this.waterMarkTextureRef=this.initTexture();var o=e.getUniformLocation(r,"waterMarkSampler");e.uniform1i(o,5),this.waterMarkSamplerRef=o;var a=this.initTexture(),c=e.getUniformLocation(r,"cursorSampler");if(e.uniform1i(c,4),this.cursorTextureRef=a,this.cursorSamplerRef=c,this.cursorInfoRef=e.getUniformLocation(r,"cursorInfo"),this.initmask){e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1);var u=this.initTexture(),h=e.getUniformLocation(r,"maskSampler");e.uniform1i(h,4),this.maskTextureRef=u}this.colorRangeRef=e.getUniformLocation(r,"colorRange"),this.onlyRGBARef=e.getUniformLocation(r,"onlyRGBA"),this.bgraModeRef=e.getUniformLocation(r,"bgraMode"),this.waterMarkFlagRef=e.getUniformLocation(r,"waterMarkFlag"),this.maskFlagRef=e.getUniformLocation(r,"maskFlag"),this.cursorFlagRef=e.getUniformLocation(r,"cursorFlag"),this.yuvmodeRef=e.getUniformLocation(r,"yuvmode"),this.ul_enable_rounded_corner=e.getUniformLocation(r,"u_enable_rounded_corner"),this.ul_radius_lt_x=e.getUniformLocation(r,"u_radius_lt_x"),this.ul_radius_lt_y=e.getUniformLocation(r,"u_radius_lt_y"),this.ul_radius_lb_x=e.getUniformLocation(r,"u_radius_lb_x"),this.ul_radius_lb_y=e.getUniformLocation(r,"u_radius_lb_y"),this.ul_radius_rt_x=e.getUniformLocation(r,"u_radius_rt_x"),this.ul_radius_rt_y=e.getUniformLocation(r,"u_radius_rt_y"),this.ul_radius_rb_x=e.getUniformLocation(r,"u_radius_rb_x"),this.ul_radius_rb_y=e.getUniformLocation(r,"u_radius_rb_y"),this.ul_aa_width=e.getUniformLocation(r,"u_aa_width"),this.ul_viewport_rect=e.getUniformLocation(r,"u_viewport_rect")},V.prototype.BindTextures=function(t){var e=this.contextGL,r=this.shaderProgram;if(e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,this.yTextureRef),e.activeTexture(e.TEXTURE0+1),e.bindTexture(e.TEXTURE_2D,this.uTextureRef),e.activeTexture(e.TEXTURE0+2),e.bindTexture(e.TEXTURE_2D,this.vTextureRef),1==t){let t=e.getUniformLocation(r,"ySampler");e.uniform1i(t,0);let i=e.getUniformLocation(r,"uSampler");e.uniform1i(i,1);let n=e.getUniformLocation(r,"vSampler");e.uniform1i(n,2)}else if(this.isRGBAMode(t)){let t=e.getUniformLocation(r,"previewVideoSampler");e.uniform1i(t,0);let i=e.getUniformLocation(r,"ySampler");e.uniform1i(i,0);let n=e.getUniformLocation(r,"uSampler");e.uniform1i(n,0);let s=e.getUniformLocation(r,"vSampler");e.uniform1i(s,0)}else if(2==t){let t=e.getUniformLocation(r,"ySampler");e.uniform1i(t,0);let i=e.getUniformLocation(r,"uSampler");e.uniform1i(i,1);let n=e.getUniformLocation(r,"vSampler");e.uniform1i(n,0)}let i=e.getUniformLocation(r,"previewVideoSampler");e.uniform1i(i,0);let n=e.getUniformLocation(r,"maskSampler");this.initmask?(e.activeTexture(e.TEXTURE0+4),e.bindTexture(e.TEXTURE_2D,this.maskTextureRef),e.uniform1i(n,4)):e.uniform1i(n,0);let s=e.getUniformLocation(r,"cursorSampler");e.uniform1i(s,0);let o=e.getUniformLocation(this.shaderProgram,"waterMarkSampler");e.uniform1i(o,5)},V.prototype.initTexture=function(){var t=this.contextGL,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null),e},V.prototype.clearDisplay=function(){var t=this.contextGL;t&&(t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT))},V.prototype.cleanup=function(){let t=this.canvasElement,e=B.get(t);if(e&&this.removeEventListener(t,e),t.defaultContextLostHandler||(t.defaultContextLostHandler=F,t.addEventListener("webglcontextlost",F,{capture:!1})),this.cleanupRoundedCornerRadius(),this.isAvaiable()){var r=this.contextGL;r.deleteProgram(this.program),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,null),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,null),r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,null),r.activeTexture(r.TEXTURE3),r.bindTexture(r.TEXTURE_2D,null),r.activeTexture(r.TEXTURE4),r.bindTexture(r.TEXTURE_2D,null),r.activeTexture(r.TEXTURE5),r.bindTexture(r.TEXTURE_2D,null),r.bindBuffer(r.ARRAY_BUFFER,null),r.deleteTexture(this.yTextureRef),r.deleteTexture(this.uTextureRef),r.deleteTexture(this.vTextureRef),r.deleteTexture(this.cursorTextureRef),r.deleteTexture(this.waterMarkTextureRef),r.deleteBuffer(this.vertexPosBuffer),r.deleteBuffer(this.texturePosBuffer),this.maskTextureRef&&r.deleteTexture(this.maskTextureRef),this.masktexturePosBuffer&&r.deleteBuffer(this.masktexturePosBuffer),r.glInitSucceed=0}},V.prototype.updataVertexInfoForSharing=function(){const[t,e,r,i]=this.vertexPos,n=this.webglVertexPos[0],s=this.webglVertexPos[3];if(t!=n||s!=i){this.webglVertexPos[0]=t,this.webglVertexPos[1]=e,this.webglVertexPos[2]=r,this.webglVertexPos[3]=i;var o=new Float32Array([r,e,t,e,r,i,t,i,1,1,-1,1,1,-1,-1,-1]),a=this.contextGL;a.bindBuffer(a.ARRAY_BUFFER,this.vertexPosBuffer),a.bufferData(a.ARRAY_BUFFER,o,a.DYNAMIC_DRAW)}},V.prototype.updateTextureInfoForSharing=function(){const[t,e,r,i]=this.texturePos,n=this.webglTexturePos[0],s=this.webglTexturePos[3];if(t!=n||s!=i){this.webglTexturePos[0]=t,this.webglTexturePos[1]=e,this.webglTexturePos[2]=r,this.webglTexturePos[3]=i;var o=new Float32Array([r,e,t,e,r,i,t,i,1,0,0,0,1,1,0,1]),a=this.contextGL;a.bindBuffer(a.ARRAY_BUFFER,this.texturePosBuffer),a.bufferData(a.ARRAY_BUFFER,o,a.DYNAMIC_DRAW)}},V.prototype.updateVertexInfoForMultiView=function(t,e,r,i,n){var s,o,a,c,u=this.contextGL;if(this.isUseFillMode({width:r,height:i,rotation:n}))s=0,o=0,a=1,c=1;else{var h=n==this.ROTATION_CLOCK90||n==this.ROTATION_CLOCK270?i:r,l=n==this.ROTATION_CLOCK90||n==this.ROTATION_CLOCK270?r:i,f=h/l*e;f>t?(s=0,a=1,c=1-(o=(e-l/h*t)/2/e)):(o=0,c=1,a=1-(s=(t-f)/2/t))}s=2*s-1,a=2*a-1,o=1-2*o,c=1-2*c;var d=new Float32Array([a,o,s,o,a,c,s,c,1,1,-1,1,1,-1,-1,-1]);this.viewPostion=d,u.bindBuffer(u.ARRAY_BUFFER,this.vertexPosBuffer),u.bufferData(u.ARRAY_BUFFER,d,u.DYNAMIC_DRAW)},V.prototype.getViewPosition=function(){let t=[0,0,1,1];if(!this.viewPostion)return t;const e=this.viewPostion[0],r=this.viewPostion[1],i=this.viewPostion[2],n=this.viewPostion[5];return t[0]=(1-r)/2,t[1]=(1+i)/2,t[2]=(1-n)/2,t[3]=(1+e)/2,t},V.prototype.updateTextureInfoForMultiView=function(t,e,r,i,n,s,o){var a,c,u,h,l=this.contextGL;if(this.isUseFillMode({width:r.width,height:r.height,rotation:i})){const n=i==this.ROTATION_CLOCK90||i==this.ROTATION_CLOCK270?o/s:s/o,l=r.left||0,f=r.top||0;if(r.width/r.height>n){const i=r.height*n;a=f/e,c=(Math.round((r.width-i)/2)+l)/t,u=(f+r.height)/e,h=c+i/t}else{const i=r.width/n;u=(a=(Math.round((r.height-i)/2)+f)/e)+i/e,h=(c=l/t)+r.width/t}}else a=P(r.top/e,2),c=P(r.left/t,2),u=k((r.top+r.height)/e,2),h=k((r.width+r.left)/t,2);var f=[c,a,h,a,h,u,c,u];i==this.ROTATION_CLOCK90&&(f.unshift(f[6],f[7]),f=f.slice(0,8)),i==this.ROTATION_CLOCK180&&(f.unshift(f[4],f[5],f[6],f[7]),f=f.slice(0,8)),i==this.ROTATION_CLOCK270&&(f.push(f[0],f[1]),f=f.slice(2,10));var d=f[0],p=f[1];if(f[0]=f[2],f[1]=f[3],f[2]=d,f[3]=p,n)if(i==this.ROTATION_CLOCK90||i==this.ROTATION_CLOCK270){let t=f[1];f[1]=f[3],f[3]=t,t=f[5],f[5]=f[7],f[7]=t}else f[0]=1-f[0],f[2]=1-f[2],f[4]=1-f[4],f[6]=1-f[6];var m=new Float32Array([...f,1,0,0,0,1,1,0,1]);l.bindBuffer(l.ARRAY_BUFFER,this.texturePosBuffer),l.bufferData(l.ARRAY_BUFFER,m,l.DYNAMIC_DRAW)},V.prototype.drawNextOutputPictureFrame=function(t,e,r,i,n){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6?arguments[6]:void 0,a=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];if(!this.isAvaiable())return;var c=this.contextGL,u=this.yTextureRef,h=this.uTextureRef,l=this.vTextureRef;c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),n=n||this.ROTATION_CLOCK0;var f=(r=r||{top:0,left:0,width:t,height:e}).width!=this.croppingParams.width||r.height!=this.croppingParams.height,d=(r.top!=this.croppingParams.top||(r.left,this.croppingParams.left),o.width!=this.viewWidth||o.height!=this.viewHeight),p=(t!=this.textureWidth||this.textureHeight,n!=this.picRotation);(f||d||p)&&function(t,e,r,i,n){let s=n.width,o=n.height;var a,c,u,h,l=i==t.ROTATION_CLOCK90||i==t.ROTATION_CLOCK270?r:e,f=i==t.ROTATION_CLOCK90||i==t.ROTATION_CLOCK270?e:r,d=l/f*o;d>s?(a=0,u=1,h=1-(c=(o-f/l*s)/2/o)):(c=0,h=1,u=1-(a=(s-d)/2/s)),a=parseFloat((2*a-1).toFixed(3)),u=parseFloat((2*u-1).toFixed(3)),c=parseFloat((1-2*c).toFixed(3)),h=parseFloat((1-2*h).toFixed(3)),t.vertexPos=[a,c,u,h]}(this,r.width,r.height,n,o),this.updataVertexInfoForSharing(),function(t,e,r,i,n){var s=i.top/r,o=i.left/e,a=(i.top+i.height)/r,c=(i.left+i.width)/e,u=[o,s,c,s,c,a,o,a];n==t.ROTATION_CLOCK90&&(u.unshift(u[6],u[7]),u=u.slice(0,8)),n==t.ROTATION_CLOCK180&&(u.unshift(u[4],u[5],u[6],u[7]),u=u.slice(0,8)),n==t.ROTATION_CLOCK270&&(u.push(u[0],u[1]),u=u.slice(2));var h=u[0],l=u[1];u[0]=u[2],u[1]=u[3],u[2]=h,u[3]=l;var f=new Float32Array([...u,1,0,0,0,1,1,0,1]),d=t.contextGL;d.bindBuffer(d.ARRAY_BUFFER,t.texturePosBuffer),d.bufferData(d.ARRAY_BUFFER,f,d.DYNAMIC_DRAW)}(this,t,e,r,n);let m=s?0:1;m!=this.colorRange&&(c.uniform1i(this.colorRangeRef,m),this.colorRange=m),c.viewport(o.x,o.y,o.width,o.height),this.viewport_rect||(this.viewport_rect=new Float32Array(4)),this.viewport_rect.set([o.x,o.y,o.width,o.height],0),c.uniform4fv(this.ul_viewport_rect,this.viewport_rect),c.uniform1i(this.onlyRGBARef,0),c.uniform1i(this.yuvmodeRef,1),Object.assign(this.croppingParams,r),this.textureWidth=t,this.textureHeight=e,this.picRotation=n,this.viewWidth=o.width,this.viewHeight=o.height;var v=i,g=t*e;if(c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u),a){var b=v.subarray(0,g);c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,t,e,0,c.LUMINANCE,c.UNSIGNED_BYTE,b)}var _=t/2*e/2;if(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,h),a){var w=v.subarray(g,g+_);c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,t/2,e/2,0,c.LUMINANCE,c.UNSIGNED_BYTE,w)}var y=_;if(c.activeTexture(c.TEXTURE2),c.bindTexture(c.TEXTURE_2D,l),a){var x=v.subarray(g+_,g+_+y);c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,t/2,e/2,0,c.LUMINANCE,c.UNSIGNED_BYTE,x)}c.activeTexture(c.TEXTURE0+4),c.bindTexture(c.TEXTURE_2D,this.cursorTextureRef),this.hasCursor?c.uniform1i(this.cursorFlagRef,1):a&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,this.dummpyCursor),c.uniform4f(this.cursorInfoRef,this.cx,this.cy,this.cw,this.ch),this.render(),this.hasWholeFrame=1},V.prototype.updateCursor=function(t,e,r,i){if(this.isAvaiable()){var n=this.contextGL;t<=0||e<=0||!r||r.length!=t*e*4||i!=this.lastcursorSyncId&&(this.lastcursorSyncId=i,n.activeTexture(n.TEXTURE0+4),n.bindTexture(n.TEXTURE_2D,this.cursorTextureRef),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,e,0,n.RGBA,n.UNSIGNED_BYTE,r),this.cursorWidth=t,this.cursorHeight=e,this.hasCursor=1)}},V.prototype.updateCursorPosInfo=function(t,e,r,i,n){if(t&&this.hasCursor){let t=e/this.croppingParams.width,s=r/this.croppingParams.height,o=i/this.croppingParams.width,a=n/this.croppingParams.height;this.cx=t,this.cy=s,this.cw=o,this.ch=a}else this.cx=0,this.cy=0,this.cw=0,this.ch=0},V.prototype.isHasWholeFrame=function(){return this.hasWholeFrame},V.prototype.updateWatermark=function(t,e,r){if(this.isAvaiable()){var i=this.contextGL;t<=0||e<=0||!r||r.length!=t*e*4||(this.hasWaterMark=1,this.watermarkWidth=t,this.watermarkHeight=e,i.activeTexture(i.TEXTURE0+5),i.bindTexture(i.TEXTURE_2D,this.waterMarkTextureRef),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.watermarkWidth,this.watermarkHeight,0,i.RGBA,i.UNSIGNED_BYTE,r))}},V.prototype.drawWatermark=function(){if(this.isAvaiable()){var t=this.contextGL;this.isSetWatermark()&&this.watermarkWidth&&this.watermarkHeight&&(t.uniform1i(this.waterMarkFlagRef,1),t.activeTexture(t.TEXTURE0+5),t.bindTexture(t.TEXTURE_2D,this.waterMarkTextureRef),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.drawArrays(t.TRIANGLE_STRIP,4,4))}},V.prototype.drawRoundedCorner=function(){if(this.isAvaiable()){var t=this.contextGL;t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.uniform1f(this.ul_enable_rounded_corner,this.enable_rounded_corner),t.uniform1f(this.ul_radius_lt_x,this.radius_lt_x),t.uniform1f(this.ul_radius_lt_y,this.radius_lt_y),t.uniform1f(this.ul_radius_lb_x,this.radius_lb_x),t.uniform1f(this.ul_radius_lb_y,this.radius_lb_y),t.uniform1f(this.ul_radius_rt_x,this.radius_rt_x),t.uniform1f(this.ul_radius_rt_y,this.radius_rt_y),t.uniform1f(this.ul_radius_rb_x,this.radius_rb_x),t.uniform1f(this.ul_radius_rb_y,this.radius_rb_y),t.uniform1f(this.ul_aa_width,this.aa_width)}},V.prototype.cleanupRoundedCornerRadius=function(){this.enable_rounded_corner=0,this.radius_lt_x=0,this.radius_lt_y=0,this.radius_lb_x=0,this.radius_lb_y=0,this.radius_rt_x=0,this.radius_rt_y=0,this.radius_rb_x=0,this.radius_rb_y=0,this.aa_width=A,this.viewport_rect=null},V.prototype.render=function(){if(this.isAvaiable()){var t=this.contextGL;this.drawRoundedCorner(),t.uniform1i(this.waterMarkFlagRef,0),t.drawArrays(t.TRIANGLE_STRIP,0,4),this.drawWatermark()}},V.prototype.clear=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.hasCursor=0,this.watermarkHeight=0,this.watermarkWidth=0,this.watermarkRepeated=!1,this.hasWholeFrame=0,this.lastcursorSyncId=-1,this.cleanupRoundedCornerRadius(),t&&this.clearCanvas({R:0,G:0,B:0,A:0})},V.prototype.clearCanvas=function(t){if(this.cleanupRoundedCornerRadius(),this.isAvaiable()){var e=this.contextGL;t?e.clearColor(t.R,t.G,t.B,t.A):e.clearColor(this.bgColor[0],this.bgColor[1],this.bgColor[2],255),e.clear(e.COLOR_BUFFER_BIT)}},V.prototype.isRGBAMode=function(t){return-1!==[m,v].indexOf(t)},V.prototype.updateRemoteVideoTextures=function(t,e,r,i,n){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6?arguments[6]:void 0,a=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];if(!this.isAvaiable())return;var c=this.contextGL,u=this.yTextureRef,h=this.uTextureRef,l=this.vTextureRef;c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA);const f=this.isRGBAMode(this.videoMode);if(t<=0||e<=0||!i||!i.length||i.length!=t*e*3/2&&!f||r&&(r.top<0||r.left<0||r.left+r.width>t||r.top+r.height>e))return!1;let d=s?0:1;if(this.colorRange=d,this.rotation=n,Object.assign(this.croppingParams,r),this.textureWidth=t,this.textureHeight=e,this.viewWidth=o.width,this.viewHeight=o.height,!a)return;if(c.bindTexture(c.TEXTURE_2D,u),f)return void c.texImage2D(c.TEXTURE_2D,0,c.RGBA,t,e,0,c.RGBA,c.UNSIGNED_BYTE,i);var p=i,m=t*e,v=p.subarray(0,m);c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,t,e,0,c.LUMINANCE,c.UNSIGNED_BYTE,v);let g=0,b=0;1==this.videoMode?(g=t/2*e/2,b=g):2==this.videoMode&&(g=t*e/2,b=0);var _=p.subarray(m,m+g);if(c.bindTexture(c.TEXTURE_2D,h),b){c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,t/2,e/2,0,c.LUMINANCE,c.UNSIGNED_BYTE,_);var w=p.subarray(m+g,m+g+b);c.bindTexture(c.TEXTURE_2D,l),c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE,t/2,e/2,0,c.LUMINANCE,c.UNSIGNED_BYTE,w)}else c.texImage2D(c.TEXTURE_2D,0,c.LUMINANCE_ALPHA,t/2,e/2,0,c.LUMINANCE_ALPHA,c.UNSIGNED_BYTE,_);return!0},V.prototype.updateRemoteVideoTexturesImageBitmap=function(t,e,r,i,n){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(t<=0||e<=0||!r)return;if(!this.isAvaiable())return;var o=this.contextGL;if(this.textureWidth=t,this.textureHeight=e,Number.isNaN(n)||(this.rotation=n),Object.assign(this.croppingParams,i),!s)return;o.bindTexture(o.TEXTURE_2D,this.yTextureRef);const a=o.RGBA,c=o.RGBA,u=o.UNSIGNED_BYTE;o.texImage2D(o.TEXTURE_2D,0,a,c,u,r)},V.prototype.updateSelfMaskImage=function(t,e,r){if(!(t<=0||e<=0)&&r&&r.length==t*e*4&&this.isAvaiable()){var i=this.contextGL;i.bindTexture(i.TEXTURE_2D,this.maskTextureRef),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,r)}},V.prototype.VideoFlip=function(){if(this.isAvaiable()){var t=this.contextGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1)}},V.prototype.drawRemoteVideo=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isAvaiable())return;var r=this.contextGL;let i=this.isRGBAMode(this.videoMode)?1:0;r.uniform1i(this.colorRangeRef,this.colorRange),this.setUniformFlag(i,this.hasCursor,this.videoMode),this.initmask&&r.uniform1i(this.maskFlagRef,1),this.updateTextureInfoForMultiView(this.textureWidth,this.textureHeight,this.croppingParams,this.rotation,e,t.width,t.height),r.viewport(t.x,t.y,t.width,t.height),this.viewport_rect||(this.viewport_rect=new Float32Array(4)),this.viewport_rect.set([t.x,t.y,t.width,t.height],0),r.uniform4fv(this.ul_viewport_rect,this.viewport_rect),this.updateVertexInfoForMultiView(t.width,t.height,this.croppingParams.width,this.croppingParams.height,this.rotation),this.BindTextures(this.videoMode),r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),this.render()},V.prototype.readPixelsSyncRequest=function(t,e,r,i){if(this.isAvaiable()){var n,s=this.contextGL;return this.destination&&this.destination.length==r*i*4||(this.destination=new Uint8Array(r*i*4)),n=this.destination,s.flush(),s.readPixels(t,e,r,i,s.RGBA,s.UNSIGNED_BYTE,n),n}},V.prototype.updateSelfVideoTextures=function(t,e,r,i){let n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!(t<=0||e<=0)&&r&&r.length%4==0&&this.isAvaiable()){var o=this.contextGL;this.textureWidth=t,this.textureHeight=e,this.rotation=s,Object.assign(this.croppingParams,i),n&&(o.bindTexture(o.TEXTURE_2D,this.yTextureRef),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,t,e,0,o.RGBA,o.UNSIGNED_BYTE,r))}},V.prototype.drawSelfVideo=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isAvaiable()){var i=this.contextGL;this.setUniformFlag(1,this.hasCursor,this.videoMode),this.updateTextureInfoForMultiView(this.textureWidth,this.textureHeight,this.croppingParams,this.rotation,r,t.width,t.height),i.viewport(t.x,t.y,t.width,t.height),this.viewport_rect||(this.viewport_rect=new Float32Array(4)),this.viewport_rect.set([t.x,t.y,t.width,t.height],0),i.uniform4fv(this.ul_viewport_rect,this.viewport_rect),e?(i.enable(i.BLEND),i.blendFunc(i.ZERO,i.ZERO),this.updateVertexInfoForMultiView(t.width,t.height,t.width,t.height,this.ROTATION_CLOCK0)):(i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),this.updateVertexInfoForMultiView(t.width,t.height,this.croppingParams.width,this.croppingParams.height,this.rotation)),this.BindTextures(m),this.render()}},V.prototype.isSetWatermark=function(){return this.hasWaterMark},V.prototype.setWatermarkFlag=function(t){this.hasWaterMark=t,t||(this.setWatermarkRepeated(!1),this.setWatermarkOpacity(),this.setWatermarkPosition(16))},V.prototype.setUniformFlag=function(t,e,r){if(this.isAvaiable()){var i=this.contextGL;i.uniform1i(this.onlyRGBARef,t),i.uniform1i(this.bgraModeRef,t&&r===v?1:0),i.uniform1i(this.cursorFlagRef,e),t||i.uniform1i(this.yuvmodeRef,r)}},V.prototype.setVideoMode=function(t){this.videoMode=t},V.prototype.getVideoMode=function(t){return this.videoMode},V.prototype.setWatermarkRepeated=function(t){this.watermarkRepeated=t},V.prototype.isWatermarkRepeated=function(){return!!this.watermarkRepeated},V.prototype.setWatermarkOpacity=function(t){this.watermarkOpacity=t||.15},V.prototype.getWatermarkOpacity=function(){return this.watermarkOpacity},V.prototype.setWatermarkPosition=function(t){this.watermarkPosition=t||16},V.prototype.getWatermarkPosition=function(){return this.watermarkPosition},V.prototype.setMultiView=function(t){return this.isMultiView=t},V.prototype.getRepeatedWatermarkUniformValue=function(){return this.isMultiView?30:7},V.prototype.getRepeatedWatermarkTextureValue=function(t){return this.isMultiView?t.TEXTURE30:t.TEXTURE7},V.prototype.setFillMode=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.fillMode=t,this.fillModeForResolution=e},V.prototype.getFillMode=function(){return this.fillMode},V.prototype.getFillModeForResolution=function(){return this.fillModeForResolution},V.prototype.getTextureIndex=function(){return this.textureindex},V.prototype.getTextureWidth=function(){return this.textureWidth},V.prototype.getTextureHeight=function(){return this.textureHeight},V.prototype.getRotation=function(){return this.rotation},V.prototype.getCroppingParams=function(){return this.croppingParams},V.prototype.getIndex=function(){return this.textureindex},V.prototype.getWatermarkWidth=function(){return this.watermarkWidth},V.prototype.getWatermarkHeight=function(){return this.watermarkHeight},V.prototype.getWatermarkOpacity=function(){return this.watermarkOpacity},V.prototype.getAttachedCanvas=function(){return this.canvasElement},V.prototype.getCanvasId=function(){return this.canvasID},V.prototype.resizeCanvasTo=function(t,e){this.contextGL.canvas.width=t,this.contextGL.canvas.height=e},V.prototype.isUseFillMode=function(t){let{width:e,height:r,rotation:i}=t;if(!this.fillMode)return!1;if(!this.fillModeForResolution)return!0;if(!e||!r)return!1;const n=i===this.ROTATION_CLOCK90||i==this.ROTATION_CLOCK270?r/e:e/r;return(Array.isArray(this.fillModeForResolution)?this.fillModeForResolution:[this.fillModeForResolution]).some((t=>Math.abs(n-t)<.01))},V.prototype.setRoundedCornerRadius=function(t){t?(this.radius_lt_x=t.radius_lt_x,this.radius_lt_y=t.radius_lt_y,this.radius_lb_x=t.radius_lb_x,this.radius_lb_y=t.radius_lb_y,this.radius_rt_x=t.radius_rt_x,this.radius_rt_y=t.radius_rt_y,this.radius_rb_x=t.radius_rb_x,this.radius_rb_y=t.radius_rb_y,0===this.radius_lt_x&&0===this.radius_lt_y&&0===this.radius_lb_x&&0===this.radius_lb_y&&0===this.radius_rt_x&&0===this.radius_rt_y&&0===this.radius_rb_x&&0===this.radius_rb_y?this.enable_rounded_corner=0:this.enable_rounded_corner=1):this.enable_rounded_corner=0},V.prototype.setAntialiasWidth=function(t){(t<=0||t>=1)&&(t=A),this.aa_width=t};const U=V;class N{constructor(t,e){this.isMirror=!1,this.display=new U(t,e,0,void 0,{preserveDrawingBuffer:!1},void 0,!1,!1)}renderFrame(t,e,r,i){if(this.display){let n={x:0,y:0,width:this.display.canvasElement.width,height:this.display.canvasElement.height};this.display.updateRemoteVideoTextures(t,e,i,r,0,!0,n,!1),this.display.drawRemoteVideo(n,this.isMirror)}}render(t){return function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}(this,void 0,void 0,(function*(){let e=m;if("data_ptr"in t){const{data:e,format_width:r,format_height:i,valid_x:n,valid_y:s,valid_width:o,valid_height:a}=t;let c={top:s,left:n,width:o,height:a};this.display.setVideoMode(1),this.renderFrame(r,i,e,c)}else if(self.VideoFrame&&t instanceof VideoFrame){const{format:r,visibleRect:i}=t;if(r&&i){if("I420"===r||"I420A"===r)e=1;else if("NV12"===r)e=2;else{if("BGRA"!==r)return void(this.onUnsupportedFrame&&this.onUnsupportedFrame(r));e=v}const{width:n,height:s}=i,o=new Uint8Array(t.allocationSize()),a={top:0,left:0,width:n,height:s};this.display.setVideoMode(e);try{yield t.copyTo(o),this.renderFrame(n,s,o,a)}catch(t){}t.close()}}else if(t instanceof ImageData){const{width:e,height:r}=t,i={top:0,left:0,width:e,height:r};this.display.setVideoMode(m),this.renderFrame(e,r,t.data,i)}}))}updateSize(t,e){this.display.canvasElement.width=t,this.display.canvasElement.height=e}setMirror(t){this.isMirror=t}}class D{constructor(){this.timer3s=null,this.timer10s=null,this.isVBPredictDone=!1,this.inited=!1}start(){this.inited=!0,this.clear(),this.timer3s=setTimeout((()=>{this.isVBPredictDone||this.ontimeout3s()}),3e3),this.timer10s=setTimeout((()=>{this.isVBPredictDone||this.ontimeout10s()}),1e4)}clear(){clearTimeout(this.timer3s),clearTimeout(this.timer10s),this.timer3s=null,this.timer10s=null}}var G=Object.defineProperty,j=(t,e,r)=>((t,e,r)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,"symbol"!=typeof e?e+"":e,r);const W=new class{constructor(){j(this,"_enabled",!1),j(this,"_reportLog",(()=>{})),j(this,"_cacheName",""),j(this,"_enableLocalDebugLog",!1),j(this,"_resourcePath","")}get enabled(){return this._enabled}set enabled(t){this._enabled=t}get reportLog(){return this._reportLog}set reportLog(t){this._reportLog=t}get cacheName(){return this._cacheName}set cacheName(t){this._cacheName=t}get enableLocalDebugLog(){return this._enableLocalDebugLog}set enableLocalDebugLog(t){this._enableLocalDebugLog=t}get resourcePath(){return this._resourcePath}set resourcePath(t){this._resourcePath=t}},z=(...t)=>{if(!W.enableLocalDebugLog)return;const e=t[0];console.log(`FWB | ${e} -`,...t.slice(1))},H=t=>{let e=`/${t.fileName}`;t.hash&&(e=`/${t.fileName}/${t.hash}`);const r=[];return t.cdnPath&&r.push(`v=${t.cdnPath}`),t.timestamp&&r.push(`t=${t.timestamp}`),r.length>0?`${e}?${r.join("&")}`:e},X=()=>W.cacheName,q=t=>"function"==typeof t,$=void 0!==self.caches&&void 0!==self.Cache&&!!(q(self.caches.open)&&q(self.caches.delete)&&q(self.Cache.prototype.match)&&q(self.Cache.prototype.put)&&q(self.Cache.prototype.delete)&&q(self.Cache.prototype.keys)),K=t=>new Promise((e=>setTimeout(e,t))),Y=(t,e,r)=>Number.isInteger(null==r?void 0:r.maxRetries)&&(null==r?void 0:r.maxRetries)>1?(async(t,e,r)=>{let i;const n=null==r?void 0:r.maxRetries,s=(null==r?void 0:r.delayMs)??-1;for(let r=0;r<n;r++)try{const r=await self.fetch(t,e);if(!r.ok)throw new Error(`Fetch resource error: ${r.status}`);return r}catch(t){if(i=t,"AbortError"===(null==t?void 0:t.name))break;r<n-1&&s>=0&&await K(s)}throw i})(t,e,r):self.fetch(t,e),Z=async({cdnPath:t,fileName:e,hash:r,size:i,fetchOptions:n,fetchCustomOptions:s})=>{try{const n=await(async(t,e)=>(async t=>{const e=await caches.open(X()),r=new URL(t,self.location.origin),i=await e.match(r,{ignoreSearch:!0});if(!i)throw new Error("Not Found");return i})(H({fileName:t,hash:e})))(e,r),s=n.url||"",o=s.slice(0,s.length-e.length-1);return z(`/${t}/${e}`,"get file from cache"),W.reportLog({isHitCache:!0,isCrossRelease:o!==t,fileName:e,hash:r,size:i}),n}catch{try{const o=await(async({cdnPath:t,fileName:e,hash:r,fetchOptions:i,fetchCustomOptions:n})=>{const s=`${t}/${e}`,o=await Y(s,i,n),a=H({cdnPath:t,fileName:e,hash:r,timestamp:Date.now()});try{await(async(t,e)=>{try{const r=await caches.open(X()),i=new URL(t,self.location.origin);await r.put(i,e.clone())}catch(t){console.error("Failed to save to cache",t)}})(a,o)}catch(r){z(`/${t}/${e}`,"save to cache failed",r)}return o})({cdnPath:t,fileName:e,hash:r,fetchOptions:n,fetchCustomOptions:s});return z(`/${t}/${e}`,"get file from network"),W.reportLog({isHitCache:!1,isCrossRelease:!1,fileName:e,hash:r,size:i,cachedVersion:""}),o}catch(r){throw z(`/${t}/${e}`,"get file from network - Failed"),r}}},J={},Q=async(t,e)=>{J[t]||(J[t]={}),z(`/${t}/${e}`,"start to get manifest");let r=J[t].manifest;return r?(z(`/${t}/${e}`,"get manifest from memory"),{manifest:r}):(r=await(async(t,e)=>{const r=J[t];if(null==r?void 0:r.manifest)return r.manifest;const i=await(async(t,e)=>{const r=`${t}/manifest.json`,i=J[t];let n=null==i?void 0:i.ongoingPromise;return n?(z(`/${t}/${e}`,"fetchManifest","existing fetch pending"),n):(n=fetch(r,{headers:{Accept:"application/json"}}).then((async r=>{if(z(`/${t}/${e}`,"fetchManifest","get response",r.status),J[t].lastResponseStatus=r.status,!r.ok)throw r;const i=await r.json();return J[t].manifest=i,z(`/${t}/${e}`,"fetchManifest","success"),i})).finally((()=>{J[t].ongoingPromise=void 0})),J[t].ongoingPromise=n,z(`/${t}/${e}`,"fetchManifest","send request"),n)})(t,e);return i})(t,e),z(`/${t}/${e}`,"get manifest from network"),{manifest:r})},tt=async(t,e,r)=>{const i=((t,e)=>{if(!t.startsWith(e))return null;e.endsWith("/")&&(e=e.slice(0,-1));const r=t.slice(e.length+1);return r?{cdnPath:e,fileName:r}:null})(new URL(t.toString()).href,W.resourcePath);if(!i)return Y(t,e,r);const{cdnPath:n,fileName:s}=i;z(`/${n}/${s}`,"get file request");let o=null;try{const{manifest:t}=await Q(n,s);o=t,z(`/${n}/${s}`,"get manifest success")}catch{return z(`/${n}/${s}`,"get manifest failed => fallback to browser"),Y(t,e,r)}const a=null==o?void 0:o[s];return(null==a?void 0:a.hash)?Z({cdnPath:n,fileName:s,hash:a.hash,size:a.size,fetchOptions:e,fetchCustomOptions:r}):Y(t,e,r)};let et;self.setTimeout((async()=>{const t=X(),e=await caches.open(t);let r=[];try{r=await e.keys()}catch{return}const i=new Map;for(const t of r){const e=new URL(t.url),r=e.searchParams.get("t");if(!r)continue;const n=parseInt(r,10);if(isNaN(n))continue;const s=e.pathname.split("/").slice(0,-1).join("/");s&&(i.has(s)||i.set(s,[]),i.get(s).push({request:t,timestamp:n}))}for(const[t,r]of i){if(r.sort(((t,e)=>e.timestamp-t.timestamp)),r.length<=1)continue;let t=r.slice(2);r[0].timestamp-r[1].timestamp>5184e6&&(t=r.slice(1));for(const r of t){try{await e.delete(r.request)}catch{continue}z(`delete from cache: ${r.request.url}`)}}}),6e4);const rt=t=>"string"==typeof t,it=(t,e)=>{if(rt(t))return t=at(/^\s\s*/,t),void 0===e?t:t.substring(0,500)},nt=t=>rt(t)?t.toLowerCase():t,st=(t,e)=>{if("object"==typeof t&&t.length>0){for(const r in t)if(nt(t[r])==nt(e))return!0;return!1}return!(!rt(t)||!e)&&-1!==nt(e).indexOf(nt(t))},ot=(t,e)=>{for(let r in e)if("object"==typeof e[r]&&e[r].length>0){for(let i=0;i<e[r].length;i++)if(st(e[r][i],t))return"?"===r?void 0:r}else if(st(e[r],t))return"?"===r?void 0:r;return"*"in e?e["*"]:t},at=(t,e)=>rt(e)?e.replace(t,""):e,ct=t=>rt(t)&&at(/[^\d\.]/g,t).split(".")[0]||"",ut=t=>rt(t)&&at(/[^\d\.]/g,t).split(".")[1]||"",ht=t=>/^\d/.test(String(t)),lt=(t,e)=>{let r={};if(!t||!e)return{};let i,n,s,o,a,c,u=0;for(;u<e.length&&!a;){const h=e[u],l=e[u+1];for(i=0,n=0;i<h.length&&!a&&h[i];)if(a=h[i++].exec(t),a)for(r.matchRegex=String(h[i-1]),s=0;s<l.length;s++)c=a[++n],o=l[s],"object"==typeof o&&o.length>0?2===o.length?"function"==typeof o[1]?r[o[0]]=o[1](c):r[o[0]]=o[1]:3===o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?r[o[0]]=c?c.replace(o[1],o[2]):void 0:r[o[0]]=c?o[1](c,o[2]):void 0:4===o.length&&(r[o[0]]=c?o[3](c.replace(o[1],o[2])):void 0):r[o]=c||void 0;u+=2}return r||{}},ft=t=>(t.name&&(t.name=t.name.replace(/chrome os/i,te).replace(/macos/i,ee)),null!=t&&t.name&&ce.includes(t.name.toLowerCase())&&(t.distributionName=t.name,t.name="Linux"),t),dt="version",pt="name",mt="type",vt="inapp",gt="model",bt="vendor",_t="architecture",wt="console",yt="mobile",xt="tablet",Et="smarttv",Rt="wearable",Tt="xr",St="embedded",Ct="Amazon",Lt="Apple",At="ASUS",kt="BlackBerry",Pt="Google",Ot="Huawei",Mt="Lenovo",Bt="Honor",It="LG",Ft="Microsoft",Vt="Motorola",Ut="Nvidia",Nt="OnePlus",Dt="OPPO",Gt="Samsung",jt="Sharp",Wt="Sony",zt="Xiaomi",Ht="Zebra",Xt="Chrome",qt="Chromecast",$t="Firefox",Kt="Opera",Yt="Facebook",Zt="Sogou",Jt="Mobile Safari",Qt=" Browser",te="Chromium OS",ee="Mac OS",re={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ie=[[/\b(?:crmo|crios)\/([\w\.]+)/i],[dt,[pt,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[dt,[pt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[pt,dt],[/opios[\/ ]+([\w\.]+)/i],[dt,[pt,Kt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[dt,[pt,Kt+" GX"]],[/\bopr\/([\w\.]+)/i],[dt,[pt,Kt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[dt,[pt,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[dt,[pt,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[pt,dt],[/quark(?:pc)?\/([-\w\.]+)/i],[dt,[pt,"Quark"]],[/\bddg\/([\w\.]+)/i],[dt,[pt,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[dt,[pt,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[dt,[pt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[dt,[pt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[dt,[pt,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[dt,[pt,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[dt,[pt,"Smart "+Mt+Qt]],[/(avast|avg)\/([\w\.]+)/i],[[pt,/(.+)/,"$1 Secure"+Qt],dt],[/\bfocus\/([\w\.]+)/i],[dt,[pt,$t+" Focus"]],[/\bopt\/([\w\.]+)/i],[dt,[pt,Kt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[dt,[pt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[dt,[pt,"Dolphin"]],[/coast\/([\w\.]+)/i],[dt,[pt,Kt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[dt,[pt,"MIUI"+Qt]],[/fxios\/([\w\.-]+)/i],[dt,[pt,""+$t]],[/\bqihoobrowser\/?([\w\.]*)/i],[dt,[pt,"360"]],[/\b(qq)\/([\w\.]+)/i],[[pt,/(.+)/,"$1Browser"],dt],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[pt,/(.+)/,"$1"+Qt],dt],[/samsungbrowser\/([\w\.]+)/i],[dt,[pt,Gt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[dt,[pt,Zt+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[pt,Zt+" Mobile"],dt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[pt,dt],[/(lbbrowser|rekonq)/i],[pt],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[dt,pt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[pt,Yt],dt,[mt,vt]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[pt,dt,[mt,vt]],[/\bgsa\/([\w\.]+) .*safari\//i],[dt,[pt,"GSA"],[mt,vt]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[dt,[pt,"TikTok"],[mt,vt]],[/\[(linkedin)app\]/i],[pt,[mt,vt]],[/(chromium)[\/ ]([-\w\.]+)/i],[pt,dt],[/headlesschrome(?:\/([\w\.]+)| )/i],[dt,[pt,Xt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[pt,Xt+" WebView"],dt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[dt,[pt,"Android"+Qt]],[/chrome\/([\w\.]+) mobile/i],[dt,[pt,"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[pt,dt],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[dt,[pt,Jt]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[pt,Jt]],[/version\/([\w\.\,]+) .*(safari)/i],[dt,pt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[pt,[dt,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[pt,dt],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[pt,""+$t],dt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[pt,"Netscape"],dt],[/(wolvic|librewolf)\/([\w\.]+)/i],[pt,dt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[dt,[pt,$t+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[pt,[dt,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[pt,[dt,/[^\d\.]+./,""]]],ne=[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[gt,[bt,Gt],[mt,xt]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[gt,[bt,Gt],[mt,yt]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[gt,[bt,Lt],[mt,yt]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[gt,[bt,Lt],[mt,xt]],[/(macintosh);/i],[gt,[bt,Lt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[gt,[bt,jt],[mt,yt]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[gt,[bt,Bt],[mt,xt]],[/honor([-\w ]+)[;\)]/i],[gt,[bt,Bt],[mt,yt]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[gt,[bt,Ot],[mt,xt]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[gt,[bt,Ot],[mt,yt]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[gt,/_/g," "],[bt,zt],[mt,xt]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[gt,/_/g," "],[bt,zt],[mt,yt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[gt,[bt,Dt],[mt,yt]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[gt,[bt,ot,{OnePlus:["304","403","203"],"*":Dt}],[mt,xt]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[gt,[bt,"Vivo"],[mt,yt]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[gt,[bt,"Realme"],[mt,yt]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[gt,[bt,Vt],[mt,yt]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[gt,[bt,Vt],[mt,xt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[gt,[bt,It],[mt,xt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[gt,[bt,It],[mt,yt]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[gt,[bt,Mt],[mt,xt]],[/(nokia) (t[12][01])/i],[bt,gt,[mt,xt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?(([-\w\.]*))/i],[[gt,/_/g," "],[mt,yt],[bt,"Nokia"]],[/(pixel (c|tablet))\b/i],[gt,[bt,Pt],[mt,xt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[gt,[bt,Pt],[mt,yt]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[gt,[bt,Wt],[mt,yt]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[gt,"Xperia Tablet"],[bt,Wt],[mt,xt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[gt,[bt,Nt],[mt,yt]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[gt,[bt,Ct],[mt,xt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[gt,/(.+)/g,"Fire Phone $1"],[bt,Ct],[mt,yt]],[/(playbook);[-\w\),; ]+(rim)/i],[gt,bt,[mt,xt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[gt,[bt,kt],[mt,yt]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[gt,[bt,At],[mt,xt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[gt,[bt,At],[mt,yt]],[/(nexus 9)/i],[gt,[bt,"HTC"],[mt,xt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[bt,[gt,/_/g," "],[mt,yt]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[gt,[bt,"TCL"],[mt,xt]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[gt,[bt,"TCL"],[mt,yt]],[/(itel) ((\w+))/i],[[bt,nt],gt,[mt,ot,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[gt,[bt,"Acer"],[mt,xt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[gt,[bt,"Meizu"],[mt,yt]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[gt,[bt,"Ulefone"],[mt,yt]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[gt,[bt,"Energizer"],[mt,yt]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[gt,[bt,"Cat"],[mt,yt]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[gt,[bt,"Smartfren"],[mt,yt]],[/droid.+; (a(?:015|06[35]|142p?))/i],[gt,[bt,"Nothing"],[mt,yt]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[bt,gt,[mt,xt]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[bt,gt,[mt,yt]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[bt,gt,[mt,xt]],[/(surface duo)/i],[gt,[bt,Ft],[mt,xt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[gt,[bt,"Fairphone"],[mt,yt]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[gt,[bt,Ut],[mt,xt]],[/(sprint) (\w+)/i],[bt,gt,[mt,yt]],[/(kin\.[onetw]{3})/i],[[gt,/\./g," "],[bt,Ft],[mt,yt]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[gt,[bt,Ht],[mt,xt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[gt,[bt,Ht],[mt,yt]],[/smart-tv.+(samsung)/i],[bt,[mt,Et]],[/hbbtv.+maple;(\d+)/i],[[gt,/^/,"SmartTV"],[bt,Gt],[mt,Et]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[bt,It],[mt,Et]],[/(apple) ?tv/i],[bt,[gt,Lt+" TV"],[mt,Et]],[/crkey.*devicetype\/chromecast/i],[[gt,qt+" Third Generation"],[bt,Pt],[mt,Et]],[/crkey.*devicetype\/([^/]*)/i],[[gt,/^/,"Chromecast "],[bt,Pt],[mt,Et]],[/fuchsia.*crkey/i],[[gt,qt+" Nest Hub"],[bt,Pt],[mt,Et]],[/crkey/i],[[gt,qt],[bt,Pt],[mt,Et]],[/droid.+aft(\w+)( bui|\))/i],[gt,[bt,Ct],[mt,Et]],[/(shield \w+ tv)/i],[gt,[bt,Ut],[mt,Et]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[gt,[bt,jt],[mt,Et]],[/(bravia[\w ]+)( bui|\))/i],[gt,[bt,Wt],[mt,Et]],[/(mi(tv|box)-?\w+) bui/i],[gt,[bt,zt],[mt,Et]],[/Hbbtv.*(technisat) (.*);/i],[bt,gt,[mt,Et]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[bt,it],[gt,it],[mt,Et]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[gt,[mt,Et]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[mt,Et]],[/(ouya)/i,/(nintendo) (\w+)/i],[bt,gt,[mt,wt]],[/droid.+; (shield)( bui|\))/i],[gt,[bt,Ut],[mt,wt]],[/(playstation \w+)/i],[gt,[bt,Wt],[mt,wt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[gt,[bt,Ft],[mt,wt]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[gt,[bt,Gt],[mt,Rt]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[bt,gt,[mt,Rt]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[gt,[bt,Dt],[mt,Rt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[gt,[bt,Lt],[mt,Rt]],[/(opwwe\d{3})/i],[gt,[bt,Nt],[mt,Rt]],[/(moto 360)/i],[gt,[bt,Vt],[mt,Rt]],[/(smartwatch 3)/i],[gt,[bt,Wt],[mt,Rt]],[/(g watch r)/i],[gt,[bt,It],[mt,Rt]],[/droid.+; (wt63?0{2,3})\)/i],[gt,[bt,Ht],[mt,Rt]],[/droid.+; (glass) \d/i],[gt,[bt,Pt],[mt,Tt]],[/(pico) (4|neo3(?: link|pro)?)/i],[bt,gt,[mt,Tt]],[/; (quest( \d| pro)?)/i],[gt,[bt,Yt],[mt,Tt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[bt,[mt,St]],[/(aeobc)\b/i],[gt,[bt,Ct],[mt,St]],[/(homepod).+mac os/i],[gt,[bt,Lt],[mt,St]],[/windows iot/i],[[mt,St]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[gt,[mt,ot,{mobile:"Mobile",xr:"VR","*":xt}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[mt,xt]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[mt,yt]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[gt,[bt,"Generic"]]],se=[[/microsoft (windows) (vista|xp)/i],[pt,dt],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[pt,[dt,ot,re]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[dt,ot,re],[pt,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[dt,/_/g,"."],[pt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[pt,ee],[dt,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[dt,[pt,qt+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[dt,[pt,qt+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[dt,[pt,qt+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[dt,[pt,qt+" Linux"]],[/crkey\/([\d\.]+)/i],[dt,[pt,qt]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[dt,pt],[/(ubuntu) ([\w\.]+) like android/i],[[pt,/(.+)/,"$1 Touch"],dt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[pt,dt],[/\(bb(10);/i],[dt,[pt,kt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[dt,[pt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[dt,[pt,$t+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[dt,[pt,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[dt,[pt,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[pt,te],dt],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[pt,dt],[/(sunos) ?([\w\.\d]*)/i],[[pt,"Solaris"],dt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[pt,dt]],oe=[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[_t,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)\b/i],[[_t,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[_t,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[_t,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[_t,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[_t,/ower/,"",nt]],[/ sun4\w[;\)]/i],[[_t,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[_t,nt]]],ae=[[/windows.+ edge\/([\w\.]+)/i],[dt,[pt,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[pt,dt],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[dt,[pt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[pt,dt],[/ladybird\//i],[[pt,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[dt,pt]],ce=["ubuntu","kubuntu","xubuntu","lubuntu","nubuntu","debian","suse","opensuse","gentoo","arch","slackware","fedora","mandriva","centos","pclinuxos","red hat","zenwalk","linpus","raspbian","deepin","manjaro","elementary os","sabayon","linspire"];let ue=(new class{constructor(){this.ua=navigator.userAgent}removeMatchRegex(t){if(!t.matchRegex)return t;const{matchRegex:e,...r}=t;return r}getDefaultResult(t){const e=(t=>{const e=lt(t,ie);return null!=e&&e.version&&(e.major=ct(String(e.version))||"",e.minor=ut(String(e.version))||""),e})(t||this.ua),r=(o=t||this.ua,lt(o,ae)),i=(t=>{var e,r;const i=lt(t,ne);return!i.type&&null!=navigator&&navigator.userAgentData&&null!=(e=null==navigator?void 0:navigator.userAgentData)&&e.mobile&&(i.type=null==(r=null==navigator?void 0:navigator.userAgentData)?void 0:r.mobile),"Macintosh"==i.model&&navigator&&void 0!==(null==navigator?void 0:navigator.standalone)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&(i.model="iPad",i.type="tablet"),i})(t||this.ua),n=(t=>{var e,r;const i=lt(t,se);return!i.name&&null!=navigator&&navigator.userAgentData&&null!=(e=null==navigator?void 0:navigator.userAgentData)&&e.platform&&(i.name=null==(r=null==navigator?void 0:navigator.userAgentData)?void 0:r.platform),null!=i&&i.version&&ht(null==i?void 0:i.version)&&(i.major=ct(String(i.version))||"",i.minor=ut(String(i.version))||""),ft(i)})(t||this.ua),s=(t=>{const e=lt(t,oe);return e.architecture||(e.architecture=""),e})(t||this.ua);var o;return{ua:t||this.ua,browser:this.removeMatchRegex(e),device:this.removeMatchRegex(i),os:this.removeMatchRegex(n),cpu:this.removeMatchRegex(s),engine:this.removeMatchRegex(r)}}async getResult(t){const e=this.getDefaultResult(t);if(t||!this.isSupportUserAgentData())return e;let r={};try{r=await this.getHighEntropyValues()}catch(t){return{...e,error:t}}const i=this.handleBrowser(r,e.browser),n=this.handleDevice(r,e.device),s=this.handleOs(r,e.os),o=this.handleCpu(r,e.cpu),a=this.handleEngine(r,e.engine);return{ua:this.ua,browser:this.removeMatchRegex(i),device:this.removeMatchRegex(n),os:this.removeMatchRegex(s),cpu:this.removeMatchRegex(o),engine:this.removeMatchRegex(a),originHighEntropyValues:r}}isSupportUserAgentData(){return"object"==typeof navigator&&"userAgentData"in navigator}async getHighEntropyValues(){return this.isSupportUserAgentData()?await navigator.userAgentData.getHighEntropyValues(["brands","fullVersionList","mobile","model","platform","platformVersion","architecture","formFactors","bitness"]):{}}handleBrowser(t,e){let r=e||{};const i=t.fullVersionList||t.brands||void 0;let n="";if(i)for(let t in i){const e=i[t].brand;let s=i[t].version;if(!/not.a.brand/i.test(e)&&(!n||/chrom/i.test(n)&&"Chromium"!=e)){const t=ot(e,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"});n=t,r={name:t,version:s,major:s?ct(s):"",minor:s?ut(s):""}}}return r}handleEngine(t,e){let r=e||{};const i=t.fullVersionList||t.brands;if(i)for(let t in i){let e=i[t].brand,n=i[t].version;"Chromium"===e&&(r.version=n)}return r}handleDevice(t,e){const r=e||{};if(t.mobile&&(r.type="mobile"),t.model&&(r.model=t.model,!r.type||!r.vendor)){let e=lt("droid 9; "+t.model+")",ne);!r.type&&e.type&&(r.type=e.type),!r.vendor&&e.vendor&&(r.vendor=e.vendor)}"Macintosh"==r.model&&navigator&&void 0!==(null==navigator?void 0:navigator.standalone)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&(r.model="iPad",r.type="tablet");const i={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0};if(t.formFactors){let e;if("string"!=typeof t.formFactors)for(var n=0;!e&&n<t.formFactors.length;)e=ot(t.formFactors[n++],i);else e=ot(t.formFactors,i);e&&(r.type=e)}return r}handleOs(t,e){var r,i;const n=e||{};!n.name&&navigator.userAgentData&&null!=(r=navigator.userAgentData)&&r.platform&&(n.name=null==(i=navigator.userAgentData)?void 0:i.platform);const s=null==t?void 0:t.platform;if(s){let e=t.platformVersion;if(s.includes("win")&&e){const t=parseInt(ct(e),10)||0;e=t>=13?"11":t>0?"10":"7"}n.name=s,n.version=e,e&&ht(e)?(n.major=ct(e)||"",n.minor=ut(e)||""):(n.major="",n.minor="")}return ft(n)}handleCpu(t,e){let r=e||{},i=t.architecture;return i&&(i&&"64"==t.bitness&&(i+="64"),r=lt(i+";",oe)),r}}).getDefaultResult();const he=()=>{const t=(()=>{var t;return(null==(t=null==ue?void 0:ue.browser)?void 0:t.name)||""})();return["Firefox","Firefox Focus","Firefox Reality","Iceweasel"].includes(t)};(()=>{let t={vendor:"",renderInfo:"",isAstcSupported:!1,isWebGLContextInvalid:!0};const e={noCanvas:"",noContext:"",contextLost:"",noVendor:"",catchError:""};try{const r=document.createElement("canvas");if(!r)return e.noCanvas="Error: document.createElement return a null canvas!",{attrs:t,errorMsg:e};let i=r.getContext("webgl")||r.getContext("moz-webgl")||r.getContext("webkit-3d")||r.getContext("experimental-webgl");if(!i)return e.noContext=`Error: canvas.getContext fail, context:${i}, size:(${r.width},${r.height})`,{attrs:t,errorMsg:e};if(i){let n,s,o;t.isWebGLContextInvalid=!1,null!=i&&i.isContextLost()&&(e.contextLost=`Error: webgl context is lost, canvas(${r.width},${r.height})!`),he()?(n=i.getParameter(i.RENDERER),s=i.getParameter(i.VENDOR)):(o=i.getExtension("WEBGL_debug_renderer_info"),n=i.getParameter(o.UNMASKED_RENDERER_WEBGL),s=i.getParameter(o.UNMASKED_VENDOR_WEBGL)),t.renderInfo=null==n?void 0:n.toLowerCase(),t.vendor=null==s?void 0:s.toLowerCase(),t.isAstcSupported=-1!==i.getSupportedExtensions().indexOf("WEBGL_compressed_texture_astc"),""==s&&(e.noVendor=`Error: vendor is null, debug:${o}, render:${o.UNMASKED_RENDERER_WEBGL}, vendor:${o.UNMASKED_VENDOR_WEBGL}, contextLost:${i.isContextLost()}!`)}}catch(t){e.catchError=t}})();var le=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};class fe{constructor(t){this.isVBReady=!1,this.videoStream=null,this.isVBInitializing=!1,this.receiveTimer=null,this.msgChannel=null,this.isEnabled=!0,this.trackProcessor=null,this.isVBRunning=!1,this.frameRate=24,this.isStreamEnabled=!1,this.destoryed=!1,this._needFrame=!1,this._backend="",this.isMetadataLoaded=!1,this.isCapturing=!1,this.isReportVideoFrameError=!1,this.shouldStopCapture=!1,this.enableFetchWithCache=1,this.globalTracingLogger=null;const{canvas:e,canvasID:r,bgImage:i,cdnPath:n,enableFetchWithCache:s,globalTracingLogger:o}=t,a=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(t,["canvas","canvasID","bgImage","cdnPath","enableFetchWithCache","globalTracingLogger"]);if(void 0!==s&&(this.enableFetchWithCache=s),o&&(this.globalTracingLogger=o),this.cdnPath=n||fe.cdnPath,!this.cdnPath)throw new Error("VB module: cdnPath is not provided");this.vbWorkerUrl="".concat(this.cdnPath,"/vb_worker.min.js"),this.initParam=a,this._needFrame=a.needFrame,e&&(this.cvsEle="string"==typeof e?document.querySelector("#".concat(e)):e),i&&(this.bgImage=i),this.handle_message_from_vb_worker=this.handle_message_from_vb_worker.bind(this);const c=navigator.userAgent.toLocaleLowerCase();this.isSafari=c.includes("safari")&&!c.includes("chrome")&&!c.includes("chromium"),this.vbLoadingTimer=new D,this.handleLoadMetadata=this.handleLoadMetadata.bind(this),this.stats={fps:0,receivingFps:0,receivedFrames:0,generatedFrames:0,width:0,height:0}}set needFrame(e){this._needFrame=e,this.postMessage({cmd:t.VB_UPDATE_NEED_FRAME,payload:e})}get needFrame(){return this._needFrame}get backend(){return this._backend}set ontimeout3s(t){this.vbLoadingTimer.ontimeout3s=t}set ontimeout10s(t){this.vbLoadingTimer.ontimeout10s=t}static isSupportVB(){return le(this,void 0,void 0,(function*(){try{const t=yield a.simd();return navigator.hardwareConcurrency&&navigator.hardwareConcurrency>2&&t&&"function"==typeof OffscreenCanvas}catch(t){return!1}}))}sendCanvas(){if(this.cvsEle){const e=this.cvsEle.transferControlToOffscreen();this.postMessage({cmd:t.VB_RENDER_CANVAS,payload:e},[e])}}generateVBStream(){if(this.vbTrackGenerator){const e=this.vbTrackGenerator.writable;this.postMessage({cmd:t.VB_GENERATE_STREAM,payload:e},[e])}else if(this.streamCanvas)if(this.isSafari){const e=this.streamCanvas.transferControlToOffscreen();this.postMessage({cmd:t.VB_GENERATE_STREAM,payload:e},[e])}else this.streamRender=new N(this.streamCanvas,fe.VB_STREAM_CANVAS),this.postMessage({cmd:t.VB_GENERATE_STREAM})}initialize(){return this.isVBReady?Promise.resolve():(this.isVBInitializing||(e={enabled:!!this.enableFetchWithCache,reportLog:t=>{var e;null===(e=this.globalTracingLogger)||void 0===e||e.directReport("FetchCache: ".concat(JSON.stringify(t)))},resourcePath:this.cdnPath},r=Object.assign({enabled:!0,cacheName:"zm-media",reportLog(t){console.log("FetchCache",t)}},e),W.enabled=r.enabled??!1,W.reportLog=r.reportLog??z,W.cacheName=r.cacheName??"zm-media",W.enableLocalDebugLog=r.enableLocalDebugLog??!1,W.resourcePath=r.resourcePath,et=$&&W.enabled&&W.resourcePath?tt:Y,this.isVBInitializing=!0,this.vbLoadingTimer.isVBPredictDone=!1,this.initPromise=new Promise(((e,r)=>le(this,void 0,void 0,(function*(){this.initReject=r,this.initResolve=e;try{const e=yield(i=this.vbWorkerUrl,et&&"function"==typeof et?et(i,s):(console.log("initializeFetchWithCache not initialized: ",i),fetch(i,s)));if(e.ok){const r=yield e.arrayBuffer();if(this.destoryed)return;const i=n().createObjectURL(new Blob([r]));this.worker=new Worker(i,{name:fe.VB_WORKER_NAME}),this.worker.addEventListener("message",this.handle_message_from_vb_worker),this.postMessage({cmd:t.VB_WORKER_INIT,payload:Object.assign(Object.assign({renderUserAgentInfo:(void 0).userAgent.info(),renderCapabilitiesDesc:(void 0).capabilities.desc(),renderConfigDesc:(void 0).config.desc()},this.initParam),{cdnPath:this.cdnPath,enableFetchWithCache:this.enableFetchWithCache})}),this.sendCanvas(),n().revokeObjectURL(i)}else{const{url:t,status:i}=e;this.isVBInitializing=!1,r("Fetch worker file failed. url: ".concat(t,", status: ").concat(i))}}catch(t){this.isVBInitializing=!1,r(t)}var i,s}))))),this.initPromise);var e,r}send_frame(e){this.isVBReady&&("format"in e?this.postMessage({cmd:t.VB_SEND_FRAME,payload:e},[e]):this.postMessage({cmd:t.VB_SEND_FRAME,payload:e},[e.data.buffer]))}Crop_Mask_Bg_16V9(){let t,e,r,i=0,n=16/9,s=this.bgImage.width,o=this.bgImage.height;return n*o>=s?(r=s,i=s/n,t=0,e=(o-i)/2):(r=o*n,i=o,t=(s-r)/2,e=0),{sx:t,sy:e,sw:r,sh:i}}set_background_image(e){if(this.bgImage=e,!this.isVBReady)return!1;const r=this.Crop_Mask_Bg_16V9();let i,n,s,o,a,c;i=r.sx,n=r.sy,s=r.sw,o=r.sh,s>1920?(a=1920,c=1080):(a=s,c=o),this.bgConvertCanvas||(this.bgConvertCanvas=new OffscreenCanvas(a,c)),this.bgConvertCanvas.width=a,this.bgConvertCanvas.height=c;let u=null;try{u=this.bgConvertCanvas.getContext("2d",{willReadFrequently:!0})}catch(t){}finally{u||(u=this.bgConvertCanvas.getContext("2d"))}if(!u)return!1;u.drawImage(e,i,n,s,o,0,0,this.bgConvertCanvas.width,this.bgConvertCanvas.height);let h=u.getImageData(0,0,this.bgConvertCanvas.width,this.bgConvertCanvas.height);return this.postMessage({cmd:t.VB_UPDATE_BG,payload:h}),"close"in e&&e.close(),!0}set_background_blur(){this.isVBReady&&this.postMessage({cmd:t.VB_UPDATE_BG,payload:"blur"})}handle_message_from_vb_worker(e){var r;const{cmd:i}=e.data;switch(fe.EXTERNAL_EVENTS.has(i)&&(i!==t.VB_GENERATED_FRAME||this._needFrame)&&this.callback&&this.callback(e.data),i){case t.VB_MODEL_READY:this.vbLoadingTimer.start();break;case t.VB_PREDICT_DONE:{const{payload:t}=e.data;this.vbLoadingTimer.isVBPredictDone=!0,this.vbLoadingTimer.clear(),this._backend=t;break}case t.VB_INIT_FAILED:{const{payload:t}=e.data;this.isVBInitializing=!1,this.initReject(t);break}case t.VB_INIT_SUCCESS:this.isVBReady=!0,this.isVBInitializing=!1,this.bgImage&&this.set_background_image(this.bgImage),this.generateVBStream(),this.initResolve();break;case t.VB_REQUEST_FRAME:if(this.updateConstraints(),this.captureVideoEle&&this.isVideoPlaying(this.captureVideoEle))if(window.VideoFrame){if(this.isMetadataLoaded)try{const t=new VideoFrame(this.captureVideoEle,{timestamp:1e3*performance.now()});this.send_frame(t),t.close()}catch(e){this.callback&&!this.isReportVideoFrameError&&(this.callback({cmd:t.VB_WORKER_ERROR,payload:e}),this.isReportVideoFrameError=!0)}}else if(this.captureCtx){this.captureCtx.drawImage(this.captureVideoEle,0,0);const t=this.captureCtx.getImageData(0,0,this.captureVideoEle.videoWidth,this.captureVideoEle.videoHeight);this.streamRender&&this.isStreamEnabled&&!this.isEnabled&&this.streamRender.render(t),this.send_frame(t)}break;case t.VB_GENERATED_FRAME:{const t=e.data.payload,{data_ptr:r}=t;this.streamRender&&this.isStreamEnabled&&this.streamRender.render(t),r&&this.freeMemory(r);break}case t.VB_UPDATE_STATS:this.stats=e.data.payload;break;case t.VB_RESOLUTION_CHANGE:{const{width:t,height:r}=e.data.payload;this.stats.width=t,this.stats.height=r;break}case t.VB_GLOBAL_TRACING_LOG:{const{payload:t}=e.data;null===(r=this.globalTracingLogger)||void 0===r||r.directReport("FetchCache: ".concat(t));break}}}onMessage(t){this.callback=t}createCaptureEle(){window.MediaStreamTrackProcessor||(this.captureVideoEle=document.querySelector("#".concat(fe.VB_CAPTURE_VIDEO)),this.captureVideoEle||(this.captureVideoEle=document.createElement("video"),this.captureVideoEle.autoplay=!0,this.captureVideoEle.playsInline=!0,this.captureVideoEle.id=fe.VB_CAPTURE_VIDEO,this.captureVideoEle.style.position="fixed",this.captureVideoEle.style.width="1px",this.captureVideoEle.style.height="1px",this.captureVideoEle.style.bottom="0px",this.captureVideoEle.style.right="0px",this.captureVideoEle.muted=!0,document.body.appendChild(this.captureVideoEle)),this.captureCanvas||window.VideoFrame||(this.captureCanvas=document.createElement("canvas"),this.captureCtx=this.captureCanvas.getContext("2d")))}isVideoPlaying(t){return(t.paused||t.ended)&&t.play(),t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}postMessage(t,e){var r,i;e?null===(r=this.worker)||void 0===r||r.postMessage(t,e):null===(i=this.worker)||void 0===i||i.postMessage(t)}updateStreamCanvasSize(e,r){this.streamCanvas&&(this.isSafari?this.postMessage({cmd:t.VB_CHANGE_STREAM_CANVAS_SIZE,payload:{width:e,height:r}}):(this.streamCanvas.width=e,this.streamCanvas.height=r))}updateConstraints(){const e=this.videoStream.getVideoTracks()[0],{width:r,height:i,frameRate:n}=e.getSettings();r&&i&&(!this.streamCanvas||r===this.streamCanvas.width&&i===this.streamCanvas.height||this.updateStreamCanvasSize(r,i),this.captureCanvas&&(r!==this.captureCanvas.width&&(this.captureCanvas.width=r),i!==this.captureCanvas.height&&(this.captureCanvas.height=i))),n&&this.frameRate!=Math.min(n,24)&&(this.frameRate=Math.min(n,24),this.postMessage({cmd:t.VB_UPDATE_FRAME_RATE,payload:this.frameRate}))}captureVideo(e){return le(this,void 0,void 0,(function*(){if(this.shouldStopCapture=!1,this.isVBReady||this.isVBInitializing?this.isVBInitializing&&(yield this.initPromise):yield this.initialize(),this.shouldStopCapture)return this.shouldStopCapture=!1,Promise.reject("The capture was stopped");if(this.isCapturing)return Promise.reject("Capture is already started");let r=!0;if("id"in e){if(!e.active)return Promise.reject("stream is not active");this.videoStream&&this.videoStream.id===e.id?r=!1:(this.videoStream&&this.stopCapture(),this.videoStream=e)}else if(this.videoStream&&this.captureConf===e)r=!1;else{this.videoStream&&this.stopCapture(),this.isCapturing=!0;try{this.videoStream=yield navigator.mediaDevices.getUserMedia(Object.assign(Object.assign({},e),{audio:!1})),this.captureConf=e,this.isCapturing=!1}catch(t){return this.isCapturing=!1,Promise.reject(t)}}if(this.createCaptureEle(),r){let e;if(!(e=this.videoStream.getVideoTracks()[0]))return Promise.reject("No video track in stream");{const r=e.getSettings(),{width:i=0,height:n=0,frameRate:s=24}=r;if(this.updateStreamCanvasSize(i,n),this.frameRate=Math.min(s,24),window.MediaStreamTrackProcessor){this.trackProcessor=new window.MediaStreamTrackProcessor({track:e});const r=this.trackProcessor.readable;this.postMessage({cmd:t.VB_START,payload:{videoStream:r,frameRate:this.frameRate}},[r])}else this.captureVideoEle&&(this.isMetadataLoaded=!1,this.captureVideoEle.addEventListener("loadedmetadata",this.handleLoadMetadata),this.captureVideoEle.srcObject=this.videoStream,this.captureVideoEle.play(),this.captureCanvas&&(this.captureCanvas.width=i,this.captureCanvas.height=n),this.postMessage({cmd:t.VB_START,payload:{frameRate:this.frameRate}}))}}else{if(this.isVBRunning)return;this.videoStream.getVideoTracks()[0].enabled=!0,this.captureVideoEle&&this.captureVideoEle.play(),this.postMessage({cmd:t.VB_START})}return this.isVBRunning=!0,this.shouldStopCapture?(this.stopCapture(),this.shouldStopCapture=!1,Promise.reject("The capture was stopped")):void 0}))}stopCapture(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.videoStream?(this.postMessage({cmd:t.VB_STOP,payload:e}),this.captureVideoEle&&this.captureVideoEle.pause(),this.videoStream&&e&&(this.videoStream.getTracks().forEach((t=>{t.stop()})),this.videoStream=null),this.isVBRunning=!1):this.shouldStopCapture=!0}setMirror(e){this.postMessage({cmd:t.VB_MIRROR,payload:e})}freeMemory(e){this.isVBReady&&this.postMessage({cmd:t.VB_FREE_MEMORY,payload:e})}startReceiveMode(t){return t&&(this.captureConf=t),this.msgChannel||(this.msgChannel=new MessageChannel,this.msgChannel.port1.onmessage=t=>{var e;const{type:r,frame:i}=t.data;this.receiveTimer&&clearTimeout(this.receiveTimer),"UNIFIED_VB_FRAME"===r&&i?(null===(e=this.msgChannel)||void 0===e||e.port1.postMessage({type:"UNIFIED_VB_ACK"}),this.isEnabled?(this.isVBRunning&&this.stopCapture(),this.renderFrame(i)):i.close(),this.isSafari||(this.receiveTimer=setTimeout((()=>{this.captureConf&&!this.isVBRunning&&this.captureVideo(this.captureConf)}),1e3))):"UNIFIED_VB_PAUSE"!==r&&r!==c||(this.captureConf&&!this.isVBRunning&&this.captureVideo(this.captureConf),r===c&&this.msgChannel&&(this.msgChannel.port1.onmessage=null,this.msgChannel=null))}),this.msgChannel.port2}enable(){this.postMessage({cmd:t.VB_TOGGLE_VB,payload:!0}),this.isEnabled=!0}disable(){this.postMessage({cmd:t.VB_TOGGLE_VB,payload:!1}),this.isEnabled=!1,!this.isVBRunning&&this.msgChannel&&this.captureConf&&(this.captureVideo(this.captureConf).catch((t=>{})),clearTimeout(this.receiveTimer))}renderFrame(e){return le(this,void 0,void 0,(function*(){this.postMessage({cmd:t.VB_RENDER_FRAME,payload:e}),"close"in e&&e.close()}))}destory(){this.destoryed=!0,this.stopCapture(),this.vbLoadingTimer.clear(),this.msgChannel&&(this.msgChannel.port2.onmessage=null),this.captureVideoEle&&document.body.removeChild(this.captureVideoEle),this.worker&&(this.worker.removeEventListener("message",this.handle_message_from_vb_worker),this.worker.terminate())}createStream(){if(this.isStreamEnabled=!0,this.vbStream)return this.postMessage({cmd:t.VB_GENERATE_STREAM}),this.vbStream;if(window.MediaStreamTrackGenerator)this.vbTrackGenerator=new MediaStreamTrackGenerator({kind:"video"}),this.vbStream=new MediaStream([this.vbTrackGenerator]);else{if(this.streamCanvas=document.createElement("canvas"),this.videoStream){const t=this.videoStream.getVideoTracks()[0];if(t){const{width:e=0,height:r=0}=t.getSettings();this.streamCanvas.width=e,this.streamCanvas.height=r}}he()?this.vbStream=this.streamCanvas.captureStream():this.vbStream=this.streamCanvas.captureStream(24)}const e=this.vbStream.getVideoTracks()[0];return e&&(e.getStats=()=>this.stats),this.isVBReady&&this.generateVBStream(),this.vbStream}stopStream(){this.vbStream&&(this.isStreamEnabled=!1,this.postMessage({cmd:t.VB_STOP_STREAM}))}handleLoadMetadata(){this.isMetadataLoaded=!0,this.captureVideoEle.removeEventListener("loadedmetadata",this.handleLoadMetadata)}}fe.VB_WORKER_NAME="vb_worker",fe.VB_CAPTURE_VIDEO="VB_CAPTURE_VIDEO",fe.VB_STREAM_CANVAS="VB_STREAM_CANVAS",fe.EXTERNAL_EVENTS=new Set([t.VB_GENERATED_FRAME,t.VB_INIT_FAILED,t.VB_INIT_SUCCESS,t.VB_MODEL_READY,t.VB_PREDICT_DONE,t.VB_VIDEO_FORMAT_UNSUPPORTED,t.VB_WORKER_ERROR,t.VB_GENERATE_FIRST_FRAME,t.VB_RESOLUTION_CHANGE]);const de=fe;if(document){const t=document.currentScript;if(t){const e=t.src;if(e){let t=e.indexOf("/vb.min.js");-1!==t&&(fe.cdnPath=e.substring(0,t))}}}})(),i.default})()));
//# sourceMappingURL=https://d1cdksi819e9z7.cloudfront.net/sourcemap/vb.min.js-ed5bee93950c6d4e19f7.map